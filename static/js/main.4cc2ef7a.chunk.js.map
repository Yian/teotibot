{"version":3,"sources":["Components/AppContainer.css.js","Components/variables.js","Components/Tiles/TileList.css.js","Components/QuestionForm.css.js","Components/Logic.js","Components/Constants.js","Components/Setup/Setup.css.js","Components/UseMedia.js","Components/Setup/DicePlacement.js","Components/Mansion.css.js","Components/Mansion.js","Components/PathSelector.js","Components/Checkbox.css.js","Components/EmpireMap.js","Components/QuestionForm.js","Components/Tiles/PathTiles.js","Components/Tiles/TileList.js","Components/Setup/StartTiles.js","Components/Setup/TechTiles.js","Components/Setup/TempleTiles.js","Components/Setup/RoyalTiles.js","Components/Setup/StartingResources.js","Components/Setup/PriestPriestessTiles.js","Components/Setup/Setup.js","Components/Options.css.js","Components/Checkbox.js","Components/Options.js","Components/Loading.js","Components/Heading.js","Components/AppContainer.js","App.css.js","App.js","serviceWorker.js","index.js"],"names":["appContainer","css","_templateObject","Object","taggedTemplateLiteral","mainImg","_templateObject2","loadingText","_templateObject3","start","_templateObject4","heading","_templateObject5","rem","pixels","context","arguments","length","undefined","concat","mediaQueries","isXs","isSm","isMd","isLg","isWidest","isMaxXs","xsMinWidth","isMaxSm","desktopViewMinWidth","isMaxMd","mdMinWidth","isMaxLg","lgMinWidth","hoverNone","retinaScreen","tileListContainer","TileList_css_templateObject","tileList","TileList_css_templateObject2","directionTileImage","TileList_css_templateObject3","directionTileLeft","TileList_css_templateObject4","directionTileRight","TileList_css_templateObject5","directionTileLeft2Step","_templateObject6","directionTileLeft2StepFlipped","_templateObject7","directionTileLeft3Step","_templateObject8","directionTileLeft3StepFlipped","_templateObject9","directionTileRight2Step","_templateObject10","directionTileRight2StepFlipped","_templateObject11","directionTileRight3Step","_templateObject12","directionTileRight3StepFlipped","_templateObject13","nav","_templateObject14","_templateObject15","navButton","_templateObject16","diceContainer","_templateObject17","activeText","_templateObject18","empire","_templateObject19","questionModal","QuestionForm_css_templateObject","questionModalContent","QuestionForm_css_templateObject2","modalHeading","margin","QuestionForm_css_templateObject3","modalHeadingEclipse","QuestionForm_css_templateObject4","endGame","QuestionForm_css_templateObject5","masteryForm","QuestionForm_css_templateObject6","questionModalPlacements","QuestionForm_css_templateObject7","strikeOut","QuestionForm_css_templateObject8","modalClose","QuestionForm_css_templateObject9","content","QuestionForm_css_templateObject10","buttons","QuestionForm_css_templateObject11","btnContinue","QuestionForm_css_templateObject12","pathContent","QuestionForm_css_templateObject14","empireMapContainer","QuestionForm_css_templateObject15","empireMap","QuestionForm_css_templateObject16","drawTile","QuestionForm_css_templateObject18","pathTile","QuestionForm_css_templateObject19","pathSelectorContainer","_templateObject20","pathSelectorQuestionAdvanced","_templateObject21","stepContainer","_templateObject22","pathSelectorQuestion","_templateObject23","generateRandomInteger","min","max","Math","floor","random","swapArrayLocs","arr","index1","index2","_ref","removeRandomItemFromArray","array","randomIndex","splice","getRandom","n","result","Array","len","taken","RangeError","x","getRandomArrayIndex","getActionItemByValue","item","find","actionNames","getDiceFace","diceFaces","getNeutralArray","shuffledTiles","index","numbers1","numbers","dupNumbers","duplicateNumbers","push","numbers2","mergedActions","toConsumableArray","union","sortBy","key","diceFace","number","actionName","name","color","num_trans","fig","op","range","output","trans","extrapolate","backgroundsToPreload","resourcesToPreload","empireResourcesToPreload","wood","gold","stone","cocoa","base","xitle","period","StartScreen","SetupScreen","AppScreen","OptionsScreen","initialOrdering","initialDirectionOrdering","initialAlternativeDirectionOrdering","diceTilePositions","2","3","4","5","6","7","8","9","10","11","12","dFaces","process","regionDescriptions","description","top","left","teotibotDescription","value","botTiles","isAltarsAndShamans","isEmpires","tiles","src","baseDirectionTiles","type","actionBoard","alternativeDirectionTilesStep2","initialCss","flippedCss","stepTile","alternativeDirectionTilesStep3","baseStartTiles","tooltip","resources","quantity","selected","xitleStartTiles","alt","periodStartTiles","baseTechTiles","order","xitleTechTiles","periodTechTiles","baseTempleTiles","basePriestPriestessTiles","baseRoyalTiles","category","obsidianPriestPriestessTiles","altarsAndShamansPriestPriestessTiles","baseTeotiPriestPriestessTiles","getImage","imagePath","getActionImage","imageName","getDiceImage","getActionBoard","noText","getActionItemByName","getResourceImage","className","advancement","isAlternateTeotibotMovement","topDirectionTile","altAdvancement","baseAdvancement","getResourceImageStep","powerupMsg","teotibotVPFor10Cocoa","gainResources","isObsidian","teotibotResourcesToGain","gainResourcesNoText","hasResourcesNoText","numResources","hasResourcesOnBoard","action","actionNo","hasResources","spendResources","spendResourcesNoText","getGoldDepositsReward","getQuarryReward","getForestReward","getConstructionReward","isOnActionBoard","num","getElipseBuilding","eclipseStage","getAlchemyReward","getNoblesReward","getDecorationsReward","maskQuestionText","shamanText","worshipQuestions","teotibotStepsPerWorship","question","questionId","isEnd","eclipseQuestions","isHeightOfDevelopment","heightOfDevelopmentEclipse","getVpForEclipse","noButtons","TilesToQuestions","tileSrc","condition","answers","isEmpty","_ref2","showMansion","_ref3","alchemyQuestions","_ref9","_ref10","_ref11","_ref12","_ref13","constructionQuestions","_ref19","_ref20","showPathSelector","_ref21","_ref22","_ref23","empireAndBuildQuestions","_ref14","_ref15","_ref16","_ref17","_ref18","noblesQuestions","_ref4","_ref5","_ref6","_ref7","_ref8","decorationQuestions","endsOnYes","_ref24","_ref25","maskQuestions","_ref26","_ref27","showAltarsAndShamans","_ref28","maskQuestionsShaman","masteryQuestionId","_ref29","_ref30","masteryForestQuestions","_ref31","_ref32","masteryQuarryQuestions","_ref33","_ref34","masteryGoldQuestions","_ref35","_ref36","masteryAlchemyQuestions","_ref37","_ref38","masteryEmpiresQuestions","_ref39","_ref40","masteryNoblesQuestions","_ref41","_ref42","masteryDecorationsQuestions","_ref43","_ref44","masteryConstructionQuestions","advancedMaskQuestions","_ref50","AdvancedTilesToQuestions","_ref49","advancedAlchemyQuestions","_ref47","advancedConstructionQuestions","_ref46","isAdvanced","advancedEmpireAndBuildQuestions","_ref45","advancedNoblesQuestions","_ref48","advancedDecorationsQuestions","_ref51","advancedMasteryQuestions","setupContainer","Setup_css_templateObject","setupSection","Setup_css_templateObject2","setup","Setup_css_templateObject3","btnSettings","Setup_css_templateObject4","orangeTemple","Setup_css_templateObject5","Setup_css_templateObject6","btnNew","Setup_css_templateObject7","tileContainer","Setup_css_templateObject8","startTile","Setup_css_templateObject9","resourceContainer","Setup_css_templateObject10","resource","Setup_css_templateObject11","startResource","Setup_css_templateObject12","techTile","Setup_css_templateObject13","templeTile","Setup_css_templateObject14","priestPriestessTile","Setup_css_templateObject15","Setup_css_templateObject16","actionText","Setup_css_templateObject17","Setup_css_templateObject18","neutralContainer","Setup_css_templateObject19","Setup_css_templateObject20","useMedia","queries","values","defaultValue","match","findIndex","q","matchMedia","matches","_useState","useState","_useState2","slicedToArray","set","useEffect","handler","window","addEventListener","removeEventListener","DicePlacement","props","columns","_useMeasure","useMeasure","_useMeasure2","ref","width","dicePlacements","items","_useMemo","useMemo","heights","fill","gridItems","map","child","i","column","indexOf","apply","y","tileHeight","objectSpread2","_useMemo2","transitions","useTransition","from","opacity","enter","update","leave","height","config","duration","mass","tension","friction","trail","onRest","emotion_react_browser_esm","style","react_spring_web_esm","div","worship","img","mansionContainer","Mansion_css_templateObject","mansionDice","Mansion_css_templateObject2","Mansion","diceValue","setDiceValue","parse","dist_default","a","faces","size","rollingTime","onRoll","onMansionResult","disabled","dieResult","getMansionResults","PathSelector","tileNo","setTileNo","_useState3","_useState4","state","toggle","useSpring","onClick","setTimeout","to","checkbox","Checkbox_css_templateObject","Checkbox_css_templateObject2","checkboxTooltip","Checkbox_css_templateObject3","EmpireMap","_React$Component","inherits","_super","createSuper","classCallCheck","this","createClass","region","tippy_react_esm","topVal","leftVal","QuestionForm_css_templateObject17","React","Component","Question","isMansionResult","setIsMansionResult","QuestionForm_css_templateObject13","class","PathSelector_PathSelector","EmpireMap_EmpireMap","children","isMansion","Mansion_Mansion","CloseForm","onExitForm","fromMastery","onRestartQuestions","onSelect","QuestionForm","_this","call","masteryAnswers","questions","neutralPlacements1","neutralPlacements2","bind","assertThisInitialized","onCancelEclipse","onExitNeutral","onClickMasteryOption","cloneDeep","setState","tileName","tippy","allowHTML","shouldShuffle","onCloseClick","onCancelEclipseClick","onCloseNeutral","_this2","qs","filter","isMoveNeutral","QuestionForm_Question","answer","defineProperty","DicePlacement_DicePlacement","teotibotVPForTechTiles","teotibotVPForTempleTiles","id","PathTiles","TileList","getInitialDirectionTileOrder","useCallback","_reactLocalStorage$ge","_currentDirectionTile","currentDirectionTileOrdering","JSON","reactLocalStorage","get","defaultDirectionTileOrdering","shuffle","getInitialOrdering","_JSON$parse","_reactLocalStorage$ge2","getInitialEclipseStage","_JSON$parse2","_reactLocalStorage$ge3","getInitialStepsUntilEclipse","_JSON$parse3","_reactLocalStorage$ge4","initialStepsUntilEclipse","setTiles","startTiles","setStartTiles","_useState5","_useState6","directionTiles","setDirectionTiles","_useState7","_useState8","ordering","setOrdering","_useState9","_useState10","directionOrdering","setDirectionOrdering","_useState11","_useState12","setEclipseStage","_useState13","_useState14","stepsUntilEclipse","setStepsUntilEclipse","_useState15","_useState16","tilesDisabled","setTilesDisabled","_useState17","_useState18","showForm","setShowForm","_useState19","_useState20","showEmpire","setShowEmpire","_useState21","_useState22","showEclipseForm","setShowEclipseForm","_useState23","_useState24","selectedTileIndex","setSelectedTileIndex","_useState25","_useState26","showDice","setShowDice","_useState27","_useState28","enableRoll","setEnableRoll","_useState29","_useState30","dice1Rolled","setDice1Rolled","_useState31","_useState32","dice2Rolled","setDice2Rolled","_useState33","_useState34","showNeutralMovements","setShowNeutralMovements","checkOrientation","refDice1","useRef","refDice2","transform","tileWidth","tileHeights","tileItems","media","altmovement","tile04","getExtraTileXLoc","calculateXTile","getExtraTileYLoc","calculateYTile","tileTransitions","_useMemo3","directionTileHeights","directionTileItems","_child$nextWValue","calculateXDirectionTile","calculateYDirectionTile","deg","nextWValue","rotateY","_useMemo4","directionTileTransitions","shuffleTiles","tileIndex","newOrder","newDirectionOrder","newDirectionTiles","bottomDirectionTile","topTileRight","flipped","topTileLeft","bottomTileLeft","bottomTileRight","orderTiles","forEach","directionTile","toFlip","stringify","animateTiles","curWValue","isXitle","directionTilesList","tilePosition","showSteps","_useState35","_useState36","_useSpring2","loop","api","moveEclipse","newEclipseValue","getStepsLimit","isDarkEclipse","getStyle","test","scale","QuestionForm_QuestionForm","PathTiles_PathTiles","tile","onContextMenu","e","preventDefault","draggable","current","rollDice","isAscend","newStepsUntilEclipse","eclipseValue","options","zIndex","display","StartTiles","_useSingleton","useSingleton","_useSingleton2","source","target","showToolTips","setShowToolTips","t","setInterval","clearInterval","_useSpring","itemList","singleton","listItem","selectedStartTiles","data-tip","TechTiles","techTiles","orderBy","TempleTiles","templeTiles","RoyalTiles","tilesCopy","countCategories","reduce","acc","categoryCounts","getRandomInt","removableCategories","keys","randomCategory","categoryItems","itemToRemove","royalTiles","StartingResources","startingResources","setStartingResources","resourceTransitions","PriestPriestessTiles","priestPriestessTiles","numberToPick","pop","Setup","startingGold","startingWood","startingStone","startTileRef","royalTileRef","playerResourceRef","teotibotResourceRef","neutralPlayerResourceRef","continueRef","setTechTiles","setTempleTiles","setRoyalTiles","setPriestPriestessTiles","teotibotPriestPriestessTiles","setTeotibotPriestPriestessTiles","hasScrolled","setHasScrolled","setSelectedStartTiles","selectedResources","setSelectedResources","teotibotStartingGold","teotibotStartingWood","teotibotStartingStone","teotibotStartingResources","remainingStartTiles","setRemainingStartTiles","playerPlacements","setPlayerPlacements","teotibotPlacements","setTeotibotPlacements","teotibotShamanPlacement","setTeotibotShamanPlacement","setNeutralPlacements1","setNeutralPlacements2","showPlayerStartingResources","setShowPlayerStartingResources","showTeotibotStartingResources","setShowTeotibotStartingResources","_useState37","_useState38","showPlayerPlacements","setShowPlayerPlacements","_useState39","_useState40","showTechs","_useState41","_useState42","showTemples","setShowTemples","_useState43","_useState44","showRoyalTiles","setShowRoyalTiles","_useState45","_useState46","showStartTiles","setShowStartTiles","_useState47","_useState48","showPlayerPriestPriestessTiles","setShowPlayerPriestPriestessTiles","_useState49","_useState50","showIsHeightOfDevelopment","setShowIsHeightOfDevelopment","_useState51","_useState52","showIsAltarsAndShamans","setShowIsAltarsAndShamans","_useState53","_useState54","showTeotibotPriestPriestessTiles","setShowTeotibotPriestPriestessTiles","_useState55","_useState56","showTeotibotDice","setShowTeotibotDice","_useState57","_useState58","showNeutralPlayer1","setShowNeutralPlayer1","_useState59","_useState60","showNeutralPlayer2","setShowNeutralPlayer2","_useState61","_useState62","showBoardSetup","setShowBoardSetup","_useState63","_useState64","showContinue","setShowContinue","getTeotibotPlacement","teotibotWorkerPowerForAction4","teotibotWorkerPowerForAction6","teotibotWorkerPowerForAction8","getShamanPlacement","getNeutralPlacement","getPlayerPlacements","actions","playerPositions","selectedStartTile","dupNumberTiles","getPlayerArray","calcDicePlacements","addResourceQuantities","found","some","el","getResources","scrollIntoView","behavior","isPriestAndPriestess","finishScroll","TechTiles_TechTiles","TempleTiles_TempleTiles","RoyalTiles_RoyalTiles","StartTiles_StartTiles","newTitle","newHistory","remove","StartingResources_StartingResources","PriestPriestessTiles_PriestPriestessTiles","startApp","Options_css_templateObject","Options_css_templateObject2","optionsContainer","Options_css_templateObject3","teotibotResourceContainer","Options_css_templateObject4","optionsTeotibotStartingResources","Options_css_templateObject5","expansionOptions","Options_css_templateObject6","generalOption","Options_css_templateObject7","optionsSection","Options_css_templateObject8","expansionContainer","Options_css_templateObject9","expansion","Options_css_templateObject10","Checkbox","label","checked","onChange","withTooltip","Options","back","Checkbox_Checkbox","isSkipSetup","onChangeIsSkipSetup","onChangeIsAscend","onChangeIsDarkEclipse","onChangeIsMoveNeutral","onChangeIsAdvanced","onChangeIsPriestAndPriestess","onChangeIsHeightOfDevelopment","onChangeXitle","onChangeIsObsidian","onChangeIsMansion","onChangeIsAltarsAndShamans","onChangeIsEmpires","onChangeAlternateTeotibotMovement","onIncreaseTeotibotWorkerPowerForAction4","onDecreaseTeotibotWorkerPowerForAction4","onIncreaseTeotibotWorkerPowerForAction6","onDecreaseTeotibotWorkerPowerForAction6","onIncreaseTeotibotWorkerPowerForAction8","onDecreaseTeotibotWorkerPowerForAction8","onIncreaseTeotibotStartingGold","onDecreaseTeotibotStartingGold","onIncreaseTeotibotStartingWood","onDecreaseTeotibotStartingWood","onIncreaseTeotibotStartingStone","onDecreaseTeotibotStartingStone","onIncreaseTeotibotVPfor10Cocoa","onDecreaseTeotibotVPfor10Cocoa","onIncreaseTeotibotStepsPerWorship","onDecreaseTeotibotStepsPerWorship","onIncreaseTeotibotVPForTempleTiles","onDecreaseTeotibotVPForTempleTiles","onIncreaseTeotibotVPForTechTiles","onDecreaseTeotibotVPForTechTiles","onIncreaseTeotibotResourcesToGain","onDecreaseTeotibotResourcesToGain","newGame","Loading","setItems","delay","molasses","Heading","AppContainer","_reactLocalStorage$ge5","_reactLocalStorage$ge6","_reactLocalStorage$ge7","_reactLocalStorage$ge8","_reactLocalStorage$ge9","_reactLocalStorage$ge10","_reactLocalStorage$ge11","_reactLocalStorage$ge12","_reactLocalStorage$ge13","_reactLocalStorage$ge14","setIsXitle","setIsAlternateTeotibotMovement","setIsPriestAndPriestess","setIsAscend","setIsDarkEclipse","setIsMoveNeutral","setIsAdvanced","setIsSeasonsOfProgress","isSeasonsOfProgress","onChangeIsSeasonsOfProgress","setIsHeightOfDevelopment","setIsObsidian","setIsMansion","setIsAltarsAndShamans","setIsEmpires","setIsSkipSetup","screenMode","screen","lastScreen","isSetupComplete","renderApp","imagesLoaded","Heading_Heading","Loading_Loading","Setup_Setup","TileList_TileList","lastPlayerIndex","shuffleHistory","playerCount","defaultFavorTiles","dice1","dice2","Options_Options","_reactLocalStorage$ge15","imageUrls","resourceName","background","Promise","all","image","resolve","reject","loadImg","Image","onload","onerror","err","loadImage","then","catch","console","log","app","App_css_templateObject","appHeader","App_css_templateObject2","App","AppContainer_AppContainer","Boolean","location","hostname","ReactDOM","render","react_default","createElement","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4cc2ef7a.chunk.js","sourcesContent":["import { css } from \"@emotion/react\";\r\n\r\nexport const appContainer = css`\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: calc(10px + 2vmin);\r\n  color: white;\r\n`;\r\n\r\nexport const mainImg = css`\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-image: url(\"./backgrounds/main.jpg\");\r\n  position: absolute;\r\n  background-size: contain;\r\n  z-index: 0;\r\n  opacity: 0.4;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  background-attachment: fixed;\r\n`;\r\n\r\nexport const loadingText = css`\r\n  display: flex;\r\n  position: fixed; /* or absolute */\r\n  top: 50%;\r\n  left: 50%;\r\n  font-size: 2rem;\r\n  /* bring your own prefixes */\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nexport const start = css`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100vh;\r\n  margin: 0;\r\n  list-style: none;\r\n  font-size: 4rem;\r\n  padding: 0;\r\n\r\n  li {\r\n    cursor: pointer;\r\n    z-index: 2;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nexport const heading = css`\r\n  opacity: 1;\r\n  transform: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  h1 {\r\n    font-size: 4rem;\r\n    opacity: 1;\r\n    z-index: 2;\r\n    color: chocolate;\r\n    margin: 0;\r\n  }\r\n\r\n  img {\r\n    height: 5rem;\r\n    z-index: 2;\r\n  }\r\n`;\r\n","const browserContext = 16; // Default\r\n\r\nexport const rem = (pixels, context = browserContext) => `${pixels / context}rem`;\r\nexport const xsMinWidth = 480;\r\nexport const desktopViewMinWidth = 768;\r\nexport const mdMinWidth = 992;\r\nexport const lgMinWidth = 1200;\r\nexport const widestMinWidth = 1600;\r\n\r\nconst spacingUnit = 4;\r\n\r\nexport const mediaQueries = {\r\n  /** min-width: 480px */\r\n  isXs: `(min-width: ${xsMinWidth}px)`,\r\n  /** min-width: 768px */\r\n  isSm: `(min-width: ${desktopViewMinWidth}px)`,\r\n  /** min-width: 992px */\r\n  isMd: `(min-width: ${mdMinWidth}px)`,\r\n  /** min-width: 1200px */\r\n  isLg: `(min-width: ${lgMinWidth}px)`,\r\n  /** min-width: 1600px */\r\n  isWidest: `(min-width: ${widestMinWidth}px)`,\r\n  /** max-width: 479px */\r\n  isMaxXs: `(max-width: ${xsMinWidth - 1}px)`,\r\n  /** max-width: 767px */\r\n  isMaxSm: `(max-width: ${desktopViewMinWidth - 1}px)`,\r\n  /** max-width: 991px */\r\n  isMaxMd: `(max-width: ${mdMinWidth - 1}px)`,\r\n  /** max-width: 1199px */\r\n  isMaxLg: `(max-width: ${lgMinWidth - 1}px)`,\r\n  /** hover:none */\r\n  hoverNone: `(hover: none)`,\r\n  /** retina mobile screens */\r\n  retinaScreen: `(-webkit-min-device-pixel-ratio: 2)`,\r\n};\r\n\r\n// Colors\r\nexport const colors = {\r\n  sriracha50: '#ffefeb',\r\n  sriracha100: '#ffcec3',\r\n  sriracha200: '#ffb3a2',\r\n  sriracha300: '#ff967a',\r\n  sriracha400: '#ff7450',\r\n  /** brand color */\r\n  sriracha500: '#ff5328',\r\n  sriracha600: '#e84a23',\r\n  sriracha700: '#d03b16',\r\n  sriracha800: '#b12300',\r\n  sriracha900: '#8a1c00',\r\n\r\n  // Navy\r\n  navy50: '#E5E8EE',\r\n  navy100: '#BDC6D7',\r\n  navy200: '#93A0BB',\r\n  navy300: '#6A7CA0',\r\n  navy400: '#4B618E',\r\n  navy500: '#29477E',\r\n  navy600: '#224076',\r\n  navy700: '#19376B',\r\n  navy800: '#132E5E',\r\n  navy900: '#0A1F47',\r\n\r\n  // Greys\r\n  neutral50: '#fafbfc',\r\n  neutral100: '#f2f5f7',\r\n  neutral200: '#e6e9ed',\r\n  neutral300: '#d0d3d9',\r\n  neutral350: '#6f7378',\r\n  neutral400: '#a9afba',\r\n  neutral450: '#6e7480',\r\n  neutral500: '#7e8594',\r\n  /** light text */\r\n  neutral550: '#626a78',\r\n  neutral600: '#515b6e',\r\n  neutral700: '#3c475b',\r\n  neutral700Hover: '#282f3c',\r\n\r\n  /** dark text */\r\n  neutral800: '#1e293d',\r\n  neutral900: '#000',\r\n  neutral_a: '#9ba2af',\r\n\r\n  // Blues\r\n  blue50: '#eceffd',\r\n  blue100: '#e7eafc',\r\n  blue200: '#d1d6f5',\r\n  blue300: '#afb6ec',\r\n  blue400: '#848dde',\r\n  blue500: '#5861cc',\r\n  blue600: '#333db3',\r\n  blue700: '#1a2394',\r\n  blue800: '#0c1370',\r\n  blue900: '#060b4a',\r\n\r\n  // Marigold\r\n  marigold50: '#fff4cc',\r\n  marigold100: '#ffe999',\r\n  marigold200: '#ffdd66',\r\n  marigold300: '#ffd233',\r\n  marigold400: '#3C4D6C',\r\n  marigold500: '#ffc700',\r\n  marigold600: '#cc9f00',\r\n  marigold700: '#997700',\r\n  marigold800: '#665000',\r\n  marigold900: '#332800',\r\n\r\n  // Turquoise\r\n  turquoise50: '#dcf2f1',\r\n  turquoise100: '#a8dfda',\r\n  turquoise200: '#6bcac2',\r\n  turquoise300: '#06b5a9',\r\n  turquoise400: '#00a597',\r\n  turquoise500: '#009483',\r\n  turquoise600: '#008776',\r\n  turquoise700: '#007766',\r\n  turquoise800: '#006757',\r\n  turquoise900: '#004b3a',\r\n\r\n  // Sweet chilli\r\n  sweetChilli50: '#ffeae9',\r\n  sweetChilli100: '#ffada5',\r\n  sweetChilli200: '#ffd6d2',\r\n  sweetChilli300: '#ff8378',\r\n  sweetChilli400: '#ff5a4b',\r\n  sweetChilli500: '#ff311e',\r\n  sweetChilli600: '#cc2718',\r\n  sweetChilli700: '#991d12',\r\n  sweetChilli800: '#66140c',\r\n  sweetChilli900: '#330a06',\r\n\r\n  // Pesto\r\n  pesto50: '#e7f6e6',\r\n  pesto100: '#cfeccc',\r\n  pesto200: '#a0d999',\r\n  pesto300: '#70c666',\r\n  pesto400: '#41b333',\r\n  pesto500: '#11a000',\r\n  pesto600: '#0e8000',\r\n  pesto700: '#0a6000',\r\n  pesto800: '#074000',\r\n  pesto900: '#032000',\r\n\r\n  white: '#fff',\r\n  black: '#000',\r\n  error: '#e73b26',\r\n  whiteHover: '#e6e6e6',\r\n  overlayBlack: 'rgba(0, 0, 0, 0.3)',\r\n  pageBackgroundColour: '#fbfcfc',\r\n  propertyCardAgencyBoxThreshold: '#eaebed',\r\n\r\n  activePurpleDark: '#585dcc',\r\n  activePurpleMed: '#afb5ec',\r\n  activePurpleLight: '#e7eafc',\r\n\r\n  purpleHeart: '#4e2db0',\r\n  lightGreen: '#1ab662',\r\n  lightBlue: '#0091b8',\r\n  lightGrey: '#eff2f5',\r\n\r\n  valiantColor: '#0ea800',\r\n\r\n  nevada: '#6b747a',\r\n};\r\n\r\nexport const fonts = {\r\n  fontFamily: `'AvenirNextLTPro', sans-serif`,\r\n  light: 300,\r\n  regular: 'normal',\r\n  medium: 500,\r\n  semiBold: 600,\r\n  bold: 700,\r\n  boldX: 800,\r\n  heavy: 900,\r\n};\r\n\r\nexport const layout = {\r\n  pageWidth: 1140,\r\n  searchFiltersSidebarWidth: 348,\r\n  searchFiltersSidebarWidthTablet: 278,\r\n  searchFilterHorizontalMargin: 18,\r\n  searchCardWidth: 1042,\r\n  pageHorizontalMargin: {\r\n    tablet: 21,\r\n    mobile: 18,\r\n    desktop: 15,\r\n  },\r\n  cardTileHorizontalMargin: {\r\n    mobile: 9,\r\n    tablet: 21,\r\n  },\r\n  footerAlignPadding: 15,\r\n  businessSearchCardWidth: 1024,\r\n  propertyCardMaxWidth: 750,\r\n};\r\n\r\nexport const globalBoxShadow = '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.2)';\r\nexport const globalBoxShadowHover = '0 3px 6px 0 rgba(30, 41, 61, 0.15), 0 5px 10px 0 rgba(30, 41, 61, 0.15)';\r\nexport const buttonBoxShadow = `0px 3px 6px rgba(0, 0, 0, 0.16), 0px 3px 6px rgba(0, 0, 0, 0.23)`;\r\n\r\nexport const globalMargins = {\r\n  xxxs: `${rem(6)}`, // 6px\r\n  xxs: `${rem(9)}`, // 9px\r\n  xs: `${rem(12)}`, // 12px\r\n  sm: `${rem(18)}`, // 18px\r\n  md: `${rem(24)}`, // 24px\r\n  lg: `${rem(30)}`, // 30px\r\n  xl: `${rem(48)}`, // 48px\r\n  xxl: `${rem(60)}`, // 60px\r\n};\r\n\r\nexport const globalSpacing = {\r\n  large: {\r\n    // Desktop\r\n    xxl: spacingUnit * 20,\r\n    xl: spacingUnit * 10,\r\n    l: spacingUnit * 8,\r\n    m: spacingUnit * 6,\r\n    s: spacingUnit * 4,\r\n    xs: spacingUnit * 2,\r\n    xxs: spacingUnit,\r\n  },\r\n  regular: {\r\n    // tablet\r\n    xxl: spacingUnit * 18,\r\n    xl: spacingUnit * 9,\r\n    l: spacingUnit * 7,\r\n    m: spacingUnit * 6,\r\n    s: spacingUnit * 3,\r\n    xs: spacingUnit * 2,\r\n    xxs: spacingUnit,\r\n  },\r\n  compact: {\r\n    // mobile\r\n    xxl: spacingUnit * 16,\r\n    xl: spacingUnit * 8,\r\n    l: spacingUnit * 6,\r\n    m: spacingUnit * 4,\r\n    s: spacingUnit * 3,\r\n    xs: spacingUnit * 2,\r\n    xxs: spacingUnit,\r\n  },\r\n};\r\n\r\n// http://png-pixel.com/\r\nexport const emptyImages = {\r\n  ratio4by3:\r\n    'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAQAAAAe/WZNAAAADklEQVR42mNkgAJGDAYAAFEABCaLYqoAAAAASUVORK5CYII=', // 4:3\r\n  ratio16by9:\r\n    'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAQAAACRI2S5AAAAEElEQVR42mNkIAAYRxWAAQAG9gAKqv6+AwAAAABJRU5ErkJggg==', // 16:9\r\n  ratio21by9:\r\n    'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAJCAQAAAB3Cq/9AAAAEUlEQVR42mNkIBowjiqliVIACRIACvsH5W4AAAAASUVORK5CYII=', // 21:9\r\n};\r\n\r\nexport const imagePlaceholderBackground = `${colors.neutral200}\r\n  url('https://cre.domainstatic.com.au/images/common/img-placeholder.svg') center/96px no-repeat`;\r\n\r\nexport const cardWidth = {\r\n  xs: 284,\r\n  lg: 321,\r\n};\r\n","import { css } from \"@emotion/react\";\r\nimport { mediaQueries } from \"../variables\";\r\n\r\nexport const tileListContainer = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nexport const tileList = css`\r\n  display: flex;\r\n  justify-content: center;\r\n  position: relative;\r\n\r\n  > img {\r\n    position: fixed;\r\n    top: 35%;\r\n    overflow: visible;\r\n    pointer-events: auto;\r\n    transform-origin: 50% 50% 0px;\r\n    line-height: 96px;\r\n    width: 400px;\r\n    max-width: 100%;\r\n    cursor: pointer;\r\n    z-index: 2;\r\n\r\n    @media only screen and (orientation: landscape) {\r\n      top: 20%;\r\n    }\r\n\r\n    @media only screen and (min-height: 24rem) {\r\n      top: 12%;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const directionTileImage = css`\r\n  position: fixed;\r\n  display: block;\r\n  top: 35%;\r\n  overflow: visible;\r\n  transform-origin: 50% 50% 0px;\r\n  line-height: 96px;\r\n  width: 400px;\r\n  height: 100%;\r\n  max-width: 100%;\r\n  cursor: pointer;\r\n  z-index: 2;\r\n\r\n  @media only screen and (orientation: landscape) {\r\n    top: 20%;\r\n  }\r\n\r\n  @media only screen and (min-height: 24rem) {\r\n    top: 12%;\r\n  }\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n`;\r\n\r\nexport const directionTileLeft = css`\r\n  background-image: url(\"./bot_tiles/left.png\");\r\n`;\r\nexport const directionTileRight = css`\r\n  background-image: url(\"./bot_tiles/right.png\");\r\n`;\r\n\r\nexport const directionTileLeft2Step = css`\r\n  background-image: url(\"./bot_tiles/leftstep2.png\");\r\n`;\r\n\r\nexport const directionTileLeft2StepFlipped = css`\r\n  background-image: url(\"./bot_tiles/leftstep2flipped.png\");\r\n`;\r\n\r\nexport const directionTileLeft3Step = css`\r\n  background-image: url(\"./bot_tiles/leftstep3.png\");\r\n`;\r\n\r\nexport const directionTileLeft3StepFlipped = css`\r\n  background-image: url(\"./bot_tiles/leftstep3flipped.png\");\r\n`;\r\n\r\nexport const directionTileRight2Step = css`\r\n  background-image: url(\"./bot_tiles/rightstep2.png\");\r\n`;\r\n\r\nexport const directionTileRight2StepFlipped = css`\r\n  background-image: url(\"./bot_tiles/rightstep2flipped.png\");\r\n`;\r\n\r\nexport const directionTileRight3Step = css`\r\n  background-image: url(\"./bot_tiles/rightstep3.png\");\r\n`;\r\n\r\nexport const directionTileRight3StepFlipped = css`\r\n  background-image: url(\"./bot_tiles/rightstep3flipped.png\");\r\n`;\r\n\r\nexport const topContainer = css`\r\n  display: flex;\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 0;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  z-index: 999;\r\n`;\r\n\r\nexport const nav = css`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  position: fixed;\r\n  width: 100%;\r\n  background: #ffffff42;\r\n  height: 50px;\r\n\r\n  img {\r\n    padding-right: 5px;\r\n  }\r\n\r\n  @media only screen and (max-width: 480px) {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    height: 40px;\r\n  }\r\n`;\r\n\r\nexport const navButton = css`\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 999;\r\n  cursor: pointer;\r\n\r\n  img {\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nexport const diceContainer = css`\r\n  display: flex;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  /* bring your own prefixes */\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nexport const activeText = css`\r\n  display: flex;\r\n  cursor: pointer;\r\n  color: gold;\r\n  font-size: 3rem;\r\n\r\n  &.disabled {\r\n    pointer-events: none;\r\n    opacity: 0.7;\r\n  }\r\n\r\n  @media only screen and (min-width: 451px) and (max-width: 1024px) {\r\n    font-size: 3rem;\r\n  }\r\n\r\n  @media only screen and (max-width: 450px) {\r\n    font-size: 2rem;\r\n  }\r\n`;\r\n\r\nexport const empire = css`\r\n  width: 100px;\r\n  position: fixed;\r\n  top: 80px;\r\n  /* left: 38%; */\r\n  /* transform: translate(-50%, -50%); */\r\n  left: 10px;\r\n\r\n  @media ${mediaQueries.isMaxSm} {\r\n    width: 75px;\r\n  }\r\n\r\n  @media ${mediaQueries.isSm} {\r\n    width: 100px;\r\n  }\r\n\r\n  @media ${mediaQueries.isLg} {\r\n    width: 150px;\r\n  }\r\n`;\r\n","import { css } from \"@emotion/react\";\r\nimport { mediaQueries } from \"./variables\";\r\n\r\nexport const questionModal = css`\r\n  position: fixed; /* Stay in place */\r\n  z-index: 4; /* Sit on top */\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%; /* Full width */\r\n  height: 100%; /* Full height */\r\n  overflow: auto; /* Enable scroll if needed */\r\n  background-color: rgb(0, 0, 0); /* Fallback color */\r\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\r\n`;\r\n\r\nexport const questionModalContent = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  background-color: gray;\r\n  margin: 15% auto; /* 15% from the top and centered */\r\n  padding: 20px;\r\n  border: 1px solid #888;\r\n  width: 60%; /* Could be more or less, depending on screen size */\r\n  min-height: 550px;\r\n  font-size: 1.75rem;\r\n  color: chocolate;\r\n  border-radius: 12px;\r\n  background-image: url(\"./backgrounds/forms.jpg\");\r\n  background-size: auto 100%;\r\n  background-position: center;\r\n  z-index: 4;\r\n\r\n  ul {\r\n    li {\r\n      margin: 1.5rem 0;\r\n    }\r\n  }\r\n\r\n  .icon {\r\n    height: 1.75rem;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  @media only screen and (orientation: landscape) {\r\n    margin: 5% auto;\r\n  }\r\n\r\n  @media ${mediaQueries.isMaxLg} {\r\n    width: 90%;\r\n    font-size: 1.2rem;\r\n    line-height: 1.6rem;\r\n  }\r\n\r\n  @media ${mediaQueries.isSm} {\r\n    width: 85%;\r\n  }\r\n\r\n  @media ${mediaQueries.isMaxSm} {\r\n    width: 90%;\r\n  }\r\n\r\n  @media ${mediaQueries.isLg} {\r\n    width: 65%;\r\n  }\r\n`;\r\n\r\nexport const modalHeading = (margin = 50) => css`\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  align-items: center;\r\n  margin: ${margin}px 0 0 0;\r\n\r\n  img {\r\n    width: 200px;\r\n  }\r\n`;\r\n\r\nexport const modalHeadingEclipse = css`\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  align-items: center;\r\n  margin: 100px 0 0 0;\r\n\r\n  img {\r\n    width: 50px;\r\n  }\r\n`;\r\n\r\nexport const endGame = css`\r\n  h3 {\r\n    margin: 20px 0;\r\n  }\r\n`;\r\n\r\nexport const masteryForm = css`\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const questionModalPlacements = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  margin-bottom: 3rem;\r\n\r\n  h3 {\r\n    margin: 0.5rem 0;\r\n  }\r\n\r\n  h4 {\r\n    margin: 1rem 0;\r\n  }\r\n`;\r\n\r\nexport const strikeOut = css`\r\n  text-decoration: line-through;\r\n`;\r\n\r\nexport const modalClose = css`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const content = (margin) => css`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-evenly;\r\n  margin: ${margin ?? 0}px 0;\r\n  font-size: 1.75rem;\r\n\r\n  div {\r\n    cursor: pointer;\r\n  }\r\n\r\n  div:first-of-type {\r\n    color: #30c5bd;\r\n  }\r\n\r\n  div:nth-of-type(2) {\r\n    color: #d15959;\r\n  }\r\n`;\r\n\r\nexport const buttons = (margin) => css`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-evenly;\r\n  margin: 50px 0 ${margin ?? 0}px 0;\r\n  font-size: 1.75rem;\r\n\r\n  div {\r\n    cursor: pointer;\r\n  }\r\n\r\n  div:first-of-type {\r\n    color: #30c5bd;\r\n  }\r\n\r\n  div:nth-of-type(2) {\r\n    color: #d15959;\r\n  }\r\n`;\r\n\r\nexport const btnContinue = css`\r\n  margin-bottom: 100%;\r\n`;\r\n\r\nexport const questionForm = (margin) => css`\r\n  margin: ${margin ?? 0}px 0;\r\n`;\r\n\r\nexport const pathContent = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 85px 0;\r\n\r\n  h4 {\r\n    margin: 0 0 3rem 0;\r\n  }\r\n`;\r\n\r\nexport const empireMapContainer = css`\r\n  position: relative;\r\n`\r\n\r\nexport const empireMap = css`\r\n  margin: 0 0 1.5rem 0;\r\n  max-width: 750px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const regionTooltip = (topVal, leftVal) => css`\r\n    position: absolute;\r\n    top: ${topVal};\r\n    left: ${leftVal};\r\n    color: black;\r\n    font-size: 3rem;\r\n    padding: 5%;\r\n    line-height: 0;\r\n`\r\n\r\nexport const drawTile = css`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 1rem 0;\r\n  border-radius: 10px;\r\n  border: 1px solid black;\r\n  background: turquoise;\r\n  box-sizing: border-box;\r\n  padding: 10px;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const pathTile = css`\r\n  margin: 1rem 0;\r\n  width: 100%;\r\n`;\r\n\r\nexport const pathSelectorContainer = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: 1rem 0;\r\n  width: 400px;\r\n\r\n  @media ${mediaQueries.isMaxXs} {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const pathSelectorQuestionAdvanced = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const stepContainer = css`\r\n  align-self: baseline;\r\n`\r\n\r\nexport const pathSelectorQuestion = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import { find, union, sortBy } from \"lodash\";\r\nimport { actionNames, diceFaces } from \"./Constants\";\r\n\r\nexport const right = \"right\";\r\nexport const left = \"left\";\r\n\r\nexport const generateRandomInteger = (min, max) => {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n};\r\n\r\nexport const swapArrayLocs = (arr, index1, index2) => {\r\n  [arr[index1], arr[index2]] = [arr[index2], arr[index1]];\r\n};\r\n\r\nexport const removeRandomItemFromArray = (array) => {\r\n  if (array.length === 0) return undefined; // If the array is empty, return undefined.\r\n\r\n  const randomIndex = Math.floor(Math.random() * array.length); // Generate a random index.\r\n  const removedItem = array.splice(randomIndex, 1)[0]; // Remove the item at the random index.\r\n\r\n  return removedItem; // Return the removed item.\r\n}\r\n\r\nexport const orderTiles = (\r\n  newOrder,\r\n  tileIndex,\r\n  topDirectionTile,\r\n  bottomDirectionTile\r\n) => {\r\n  const topTileRight =\r\n    (topDirectionTile.type === right && !topDirectionTile.flipped) ||\r\n    (topDirectionTile.type === left && topDirectionTile.flipped);\r\n\r\n  const topTileLeft =\r\n    (topDirectionTile.type === left && !topDirectionTile.flipped) ||\r\n    (topDirectionTile.type === right && topDirectionTile.flipped);\r\n\r\n  const bottomTileLeft =\r\n    (bottomDirectionTile.type === left && !bottomDirectionTile.flipped) ||\r\n    (bottomDirectionTile.type === right && bottomDirectionTile.flipped);\r\n\r\n  const bottomTileRight =\r\n    (bottomDirectionTile.type === right && !bottomDirectionTile.flipped) ||\r\n    (bottomDirectionTile.type === left && bottomDirectionTile.flipped);\r\n\r\n  if (tileIndex === 0) {\r\n    swapArrayLocs(newOrder, tileIndex, 6);\r\n    // right, left\r\n    if (topTileRight && bottomTileLeft) {\r\n      swapArrayLocs(newOrder, 1, tileIndex);\r\n      swapArrayLocs(newOrder, 4, 1);\r\n    }\r\n\r\n    // left, right\r\n    if (topTileLeft && bottomTileRight) {\r\n      swapArrayLocs(newOrder, 2, tileIndex);\r\n      swapArrayLocs(newOrder, 4, 2);\r\n    }\r\n\r\n    // right right\r\n    if (topTileRight && bottomTileRight) {\r\n      swapArrayLocs(newOrder, 1, tileIndex);\r\n      swapArrayLocs(newOrder, 3, 1);\r\n    }\r\n\r\n    // left left\r\n    if (topTileLeft && bottomTileLeft) {\r\n      swapArrayLocs(newOrder, 2, tileIndex);\r\n      swapArrayLocs(newOrder, 5, 2);\r\n    }\r\n  }\r\n\r\n  if (tileIndex === 1) {\r\n    // right, left || right, right\r\n    if (topTileRight) {\r\n      swapArrayLocs(newOrder, tileIndex, 6);\r\n      swapArrayLocs(newOrder, 3, tileIndex);\r\n    }\r\n\r\n    // left, right || left left\r\n    if (topTileLeft) {\r\n      swapArrayLocs(newOrder, tileIndex, 6);\r\n      swapArrayLocs(newOrder, 4, tileIndex);\r\n    }\r\n  }\r\n\r\n  //Position 2\r\n  if (tileIndex === 2) {\r\n    // right, left || right, right\r\n    if (topTileRight) {\r\n      swapArrayLocs(newOrder, tileIndex, 6);\r\n      swapArrayLocs(newOrder, 4, tileIndex);\r\n    }\r\n\r\n    // left, right || left left\r\n    if (topTileLeft) {\r\n      swapArrayLocs(newOrder, tileIndex, 6);\r\n      swapArrayLocs(newOrder, 5, tileIndex);\r\n    }\r\n  }\r\n\r\n  //Position 3\r\n  if (tileIndex === 3) {\r\n    swapArrayLocs(newOrder, tileIndex, 6);\r\n  }\r\n\r\n  //Position 4\r\n  if (tileIndex === 4) {\r\n    swapArrayLocs(newOrder, tileIndex, 6);\r\n  }\r\n\r\n  //Position 5\r\n  if (tileIndex === 5) {\r\n    swapArrayLocs(newOrder, tileIndex, 6);\r\n  }\r\n};\r\n\r\nexport const calculateYTile = (index, tileWidth, media, altmovement) => {\r\n  var result = 0;\r\n\r\n  const getExtraTileYLoc = (altmovement) => {\r\n    if (altmovement) {\r\n      return tileWidth * 1.5;\r\n    } else {\r\n      return media === 3 ? tileWidth * 1.5 : tileWidth;\r\n    }\r\n  };\r\n\r\n  switch (index) {\r\n    case 0:\r\n      result = 0;\r\n      break;\r\n    case 1:\r\n      result = tileWidth / 2;\r\n      break;\r\n    case 2:\r\n      result = tileWidth / 2;\r\n      break;\r\n    case 3:\r\n      result = tileWidth;\r\n      break;\r\n    case 4:\r\n      result = tileWidth;\r\n      break;\r\n    case 5:\r\n      result = tileWidth;\r\n      break;\r\n    default:\r\n      result = getExtraTileYLoc(altmovement);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const calculateXTile = (index, width, media, altmovement) => {\r\n  var result = 0;\r\n  var tile04 = media === 3 ? 0 : -width * 0.6;\r\n\r\n  const getExtraTileXLoc = (altmovement) => {\r\n    if (altmovement) {\r\n      return tile04 + width;\r\n    } else {\r\n      return media === 3 ? tile04 + width : width * 1.5;\r\n    }\r\n  };\r\n\r\n  switch (index) {\r\n    case 0:\r\n      result = tile04;\r\n      break;\r\n    case 1:\r\n      result = tile04 - width / 2;\r\n      break;\r\n    case 2:\r\n      result = tile04 + width / 2;\r\n      break;\r\n    case 3:\r\n      result = tile04 - width;\r\n      break;\r\n    case 4:\r\n      result = tile04;\r\n      break;\r\n    case 5:\r\n      result = tile04 + width;\r\n      break;\r\n    default:\r\n      result = getExtraTileXLoc(altmovement);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const calculateXDirectionTile = (index, width, media) => {\r\n  var result = 0;\r\n  var tile04 = media === 3 ? 0 : -width * 0.6;\r\n  switch (index) {\r\n    case 0:\r\n      result = media === 3 ? tile04 - width : width * 1.5;\r\n      break;\r\n    case 1:\r\n      result = media === 3 ? tile04 : width * 1.5;\r\n      break;\r\n    case 2:\r\n      result = media === 3 ? tile04 : width * 1.5;\r\n      break;\r\n    case 3:\r\n      result = media === 3 ? tile04 - width : width * 1.5;\r\n      break;\r\n    default:\r\n      result = width * 1.5;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const calculateYDirectionTile = (index, width, media) => {\r\n  var result = 0;\r\n  switch (index) {\r\n    case 0:\r\n      result = media === 3 ? width * 1.5 : 0;\r\n      break;\r\n    case 1:\r\n      result = media === 3 ? width * 1.5 : width / 2;\r\n      break;\r\n    case 2:\r\n      result = media === 3 ? width * 2 : width;\r\n      break;\r\n    case 3:\r\n      result = media === 3 ? width * 2 : width * 1.5;\r\n      break;\r\n    default:\r\n      result = width;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const calculateXEmpireTile = (width, media, altmovement) => {\r\n  if (altmovement) {\r\n   // return media === 3 ? width : -width * 0.6;\r\n  }\r\n  return -width*2;\r\n};\r\n\r\nexport const calculateYEmpireTile = (width, media, altmovement) => {\r\n  if (altmovement) {\r\n    //return media === 3 ? 2 * width : width + width / 2;\r\n  }\r\n\r\n  return 0;\r\n};\r\n\r\nexport const getRandom = (arr, n) => {\r\n  var result = new Array(n),\r\n    len = arr.length,\r\n    taken = new Array(len);\r\n  if (n > len)\r\n    throw new RangeError(\"getRandom: more elements taken than available\");\r\n  while (n--) {\r\n    var x = Math.floor(Math.random() * len);\r\n    result[n] = arr[x in taken ? taken[x] : x];\r\n    taken[x] = --len in taken ? taken[len] : len;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getRandomArrayIndex = (arr) => {\r\n  return Math.floor(Math.random() * (arr.length - 1)) + 1;\r\n};\r\n\r\nexport function getActionItemByValue(item) {\r\n  return find(actionNames, [\"value\", item]);\r\n}\r\n\r\nexport function getActionItemByName(actionName) {\r\n  return find(actionNames, [\"name\", actionName]);\r\n}\r\n\r\nexport function getDiceFace(item) {\r\n  return find(diceFaces, [\"value\", item]);\r\n}\r\n\r\nexport function getTeotibotArray(\r\n  teotibotWorkerPowerForAction4,\r\n  teotibotWorkerPowerForAction6,\r\n  teotibotWorkerPowerForAction8\r\n) {\r\n  return sortBy(\r\n    [\r\n      {\r\n        key: 0,\r\n        diceFace: getDiceFace(teotibotWorkerPowerForAction4),\r\n        number: 4,\r\n        actionName: getActionItemByValue(4).name,\r\n        color: getActionItemByValue(4).color,\r\n      },\r\n      {\r\n        key: 1,\r\n        diceFace: getDiceFace(teotibotWorkerPowerForAction6),\r\n        number: 6,\r\n        actionName: getActionItemByValue(6).name,\r\n        color: getActionItemByValue(6).color,\r\n      },\r\n      {\r\n        key: 2,\r\n        diceFace: getDiceFace(teotibotWorkerPowerForAction8),\r\n        number: 8,\r\n        actionName: getActionItemByValue(8).name,\r\n        color: getActionItemByValue(8).color,\r\n      },\r\n      {\r\n        key: 3,\r\n        diceFace: diceFaces[0],\r\n        number: 7,\r\n        worship: true,\r\n        actionName: getActionItemByValue(7).name,\r\n        color: getActionItemByValue(7).color,\r\n      },\r\n    ],\r\n    [\"key\"]\r\n  );\r\n}\r\n\r\nexport function getNeutralArray(shuffledTiles) {\r\n  let index = getRandomArrayIndex(shuffledTiles);\r\n  let numbers1 = shuffledTiles[index].numbers;\r\n  let dupNumbers = [];\r\n\r\n  const shuffledTile = shuffledTiles[index];\r\n\r\n  if (shuffledTile.duplicateNumbers) {\r\n    dupNumbers.push(shuffledTiles[index].numbers[0]);\r\n  }\r\n\r\n  shuffledTiles.splice(index, 1);\r\n\r\n  index = getRandomArrayIndex(shuffledTiles);\r\n  let numbers2 = shuffledTiles[index].numbers;\r\n\r\n  if (shuffledTiles[index].duplicateNumbers) {\r\n    dupNumbers.push(shuffledTiles[index].numbers[0]);\r\n  }\r\n\r\n  shuffledTiles.splice(index, 1);\r\n\r\n  let mergedActions = [...union(numbers1, numbers2), ...dupNumbers];\r\n  return sortBy(\r\n    [\r\n      {\r\n        key: 0,\r\n        diceFace: diceFaces[0],\r\n        number: mergedActions[0],\r\n        actionName: getActionItemByValue(mergedActions[0]).name,\r\n        color: getActionItemByValue(mergedActions[0]).color,\r\n      },\r\n      {\r\n        key: 1,\r\n        diceFace: diceFaces[0],\r\n        number: mergedActions[1],\r\n        actionName: getActionItemByValue(mergedActions[1]).name,\r\n        color: getActionItemByValue(mergedActions[1]).color,\r\n      },\r\n      {\r\n        key: 2,\r\n        diceFace: diceFaces[0],\r\n        number: mergedActions[2],\r\n        actionName: getActionItemByValue(mergedActions[2]).name,\r\n        color: getActionItemByValue(mergedActions[2]).color,\r\n      },\r\n    ],\r\n    [\"number\"]\r\n  );\r\n}\r\n\r\nexport function getPlayerArray(selectedStartTiles) {\r\n  let actions = [];\r\n  let playerPositions = [];\r\n\r\n  selectedStartTiles.forEach((selectedStartTile) => {\r\n    actions = union([...actions, ...selectedStartTile.numbers]);\r\n  });\r\n\r\n  var dupNumberTiles = find(selectedStartTiles, [\"duplicateNumbers\", true]);\r\n  if (dupNumberTiles) {\r\n    actions.push(dupNumberTiles.numbers[0]);\r\n  }\r\n\r\n  sortBy(actions).forEach((item, i) => {\r\n    playerPositions.push({\r\n      key: i,\r\n      diceFace: diceFaces[0],\r\n      number: item,\r\n      actionName: getActionItemByValue(item).name,\r\n      color: getActionItemByValue(item).color,\r\n    });\r\n  });\r\n\r\n  return playerPositions;\r\n}\r\n\r\nexport function getMansionResults(dieResult) {\r\n  var result = 0;\r\n  switch (dieResult) {\r\n    case 1:\r\n      result = `<span>The <span class=\"bold\">left</span> Royal tile is activated, <span class=\"weight\">if it was previously claimed by either you or Teotibot</span></span>`;\r\n      break;\r\n    case 2:\r\n      result = `<span>The <span class=\"bold\">middle</span> Royal tile is activated, <span class=\"weight\">if it was previously claimed by either you or Teotibot</span></span>`;\r\n      break;\r\n    case 3:\r\n      result = `<span>The <span class=\"bold\">right</span> Royal tile is activated, <span class=\"weight\">if it was previously claimed by either you or Teotibot</span></span>`;\r\n      break;\r\n    default:\r\n      result = `<span class=\"bold nothing\">nothing happens.</span>`;\r\n  }\r\n  return result;\r\n}\r\n","import { isEmpty } from \"lodash-es\";\r\nimport {\r\n  directionTileLeft,\r\n  directionTileLeft2Step,\r\n  directionTileLeft2StepFlipped,\r\n  directionTileLeft3Step,\r\n  directionTileLeft3StepFlipped,\r\n  directionTileRight,\r\n  directionTileRight2Step,\r\n  directionTileRight2StepFlipped,\r\n  directionTileRight3Step,\r\n  directionTileRight3StepFlipped,\r\n} from \"./Tiles/TileList.css\";\r\n\r\nimport { generateRandomInteger, getActionItemByName } from \"./Logic\";\r\nimport { pathTile } from \"./QuestionForm.css\";\r\n\r\nexport const num_trans = [\r\n  {\r\n    fig: \"L\",\r\n    op: { range: [0.75, 1], output: [0, 1] },\r\n    trans: {\r\n      range: [0.75, 1],\r\n      output: [-40, 0],\r\n      extrapolate: \"clamp\",\r\n    },\r\n  },\r\n  {\r\n    fig: \"o\",\r\n    op: {\r\n      range: [0.25, 0.5],\r\n      output: [0, 1],\r\n    },\r\n    trans: {\r\n      range: [0.25, 0.5],\r\n      output: [-40, 0],\r\n      extrapolate: \"clamp\",\r\n    },\r\n  },\r\n  {\r\n    fig: \"a\",\r\n    op: {\r\n      range: [0, 0.25],\r\n      output: [0, 1],\r\n    },\r\n    trans: {\r\n      range: [0, 0.25],\r\n      output: [-40, 0],\r\n      extrapolate: \"clamp\",\r\n    },\r\n  },\r\n  {\r\n    fig: \"d\",\r\n    op: {\r\n      range: [0.5, 0.75],\r\n      output: [0, 1],\r\n    },\r\n    trans: {\r\n      range: [0.5, 0.75],\r\n      output: [-40, 0],\r\n      extrapolate: \"clamp\",\r\n    },\r\n  },\r\n  {\r\n    fig: \"i\",\r\n    op: { range: [0.75, 1], output: [0, 1] },\r\n    trans: {\r\n      range: [0.75, 1],\r\n      output: [-40, 0],\r\n      extrapolate: \"clamp\",\r\n    },\r\n  },\r\n  {\r\n    fig: \"n\",\r\n    op: {\r\n      range: [0.25, 0.5],\r\n      output: [0, 1],\r\n    },\r\n    trans: {\r\n      range: [0.25, 0.5],\r\n      output: [-40, 0],\r\n      extrapolate: \"clamp\",\r\n    },\r\n  },\r\n  {\r\n    fig: \"g\",\r\n    op: {\r\n      range: [0, 0.25],\r\n      output: [0, 1],\r\n    },\r\n    trans: {\r\n      range: [0, 0.25],\r\n      output: [-40, 0],\r\n      extrapolate: \"clamp\",\r\n    },\r\n  },\r\n];\r\n\r\nexport const backgroundsToPreload = [\r\n  \"forms\",\r\n  \"late-preclassic\",\r\n  \"main\",\r\n  \"period\",\r\n  \"xitle\",\r\n];\r\n\r\nexport const resourcesToPreload = [\r\n  \"5cocoa\",\r\n  \"any\",\r\n  \"ascension\",\r\n  \"avenue\",\r\n  \"back\",\r\n  \"cancel\",\r\n  \"cocoa\",\r\n  \"discovery\",\r\n  \"mdiscovery\",\r\n  \"eclipse\",\r\n  \"gold\",\r\n  \"obsidian\",\r\n  \"hod1\",\r\n  \"hod2\",\r\n  \"hod3\",\r\n  \"powerup\",\r\n  \"pyramidt\",\r\n  \"wood\",\r\n  \"stone\",\r\n  \"tr\",\r\n  \"tb\",\r\n  \"tg\",\r\n  \"to\",\r\n  \"tw\",\r\n  \"tech\",\r\n  \"worship\",\r\n  \"worker\",\r\n  \"ascension\",\r\n];\r\n\r\nexport const empireResourcesToPreload = [\r\n  \"empire_map_teotibot\",\r\n  \"empire\",\r\n  \"PT1\",\r\n  \"PT2\",\r\n  \"PT3\",\r\n  \"PT4\",\r\n  \"region1\",\r\n  \"region2\",\r\n  \"region3\",\r\n  \"region4\",\r\n  \"region5\",\r\n  \"region6\",\r\n  \"region7\",\r\n  \"region8\",\r\n  \"region9\",\r\n  \"region10\",\r\n  \"region11\",\r\n];\r\n\r\nconst avenue = \"avenue\";\r\nconst any = \"any\";\r\nconst wood = \"wood\";\r\nconst gold = \"gold\";\r\nconst stone = \"stone\";\r\nconst cocoa = \"cocoa\";\r\nconst templeRed = \"tr\";\r\nconst templeBlue = \"tb\";\r\nconst templeGreen = \"tg\";\r\nconst templeOrange = \"to\";\r\nconst powerup = \"powerup\";\r\nconst obsidian = \"obsidian\";\r\nconst tech = \"tech\";\r\nconst discovery = \"discovery\";\r\nconst majorDiscovery = \"mdiscovery\";\r\nconst worship = \"worship\";\r\nconst worker = \"worker\";\r\nconst ascension = \"ascension\";\r\nconst pyramid = \"pyramid\";\r\nconst templeWild = \"tw\";\r\nconst base = \"base\";\r\nconst xitle = \"xitle\";\r\nconst period = \"period\";\r\n\r\nconst alchemy = \"alchemy\";\r\nconst construction = \"construction\";\r\nconst decorations = \"decorations\";\r\nconst mask_collection = \"mask_collection\";\r\nconst mask_period = \"mask_period\";\r\nconst mastery = \"mastery\";\r\nconst masteryForest = \"masteryForest\";\r\nconst masteryQuarry = \"masteryQuarry\";\r\nconst masteryGold = \"masteryGold\";\r\nconst masteryAlchemy = \"masteryAlchemy\";\r\nconst masteryNobles = \"masteryNobles\";\r\nconst masteryConquest = \"masteryConquest\";\r\nconst masteryDecorations = \"masteryDecorations\";\r\nconst masteryConstruction = \"masteryConstruction\";\r\nconst nobles = \"nobles\";\r\nconst conquest = \"conquest\";\r\nconst eclipse = \"eclipse\";\r\n\r\nexport const Eclipse = \"Eclipse\";\r\nexport const Neutral = \"Neutral\";\r\nexport const noNeutralDice = 3;\r\n\r\nexport const StartScreen = 1;\r\nexport const SetupScreen = 2;\r\nexport const AppScreen = 3;\r\nexport const OptionsScreen = 4;\r\n\r\nexport const initialOrdering = [0, 1, 2, 3, 4, 5, 6];\r\n\r\nexport const tileToolTip = [\r\n  [2, 3],\r\n  [4, 5],\r\n  [6, 7, 8],\r\n  [9, 10],\r\n  [11, 12],\r\n];\r\n\r\nexport const initialDirectionOrdering = [0, 1];\r\nexport const initialAlternativeDirectionOrdering = [0, 1, 2, 3];\r\nexport const players = [3, 4, 5, 6];\r\n\r\nexport const diceTilePositions = {\r\n  2: 3,\r\n  3: 3,\r\n  4: 1,\r\n  5: 1,\r\n  6: 0,\r\n  7: 0,\r\n  8: 0,\r\n  9: 2,\r\n  10: 2,\r\n  11: 5,\r\n  12: 5,\r\n};\r\n\r\nexport const dFaces = [\r\n  `${process.env.PUBLIC_URL}/game_dice/d1.png`,\r\n  `${process.env.PUBLIC_URL}/game_dice/d2.png`,\r\n  `${process.env.PUBLIC_URL}/game_dice/d3.png`,\r\n  `${process.env.PUBLIC_URL}/game_dice/d4.png`,\r\n  `${process.env.PUBLIC_URL}/game_dice/d5.png`,\r\n  `${process.env.PUBLIC_URL}/game_dice/d6.png`,\r\n];\r\n\r\nexport const regionDescriptions = [\r\n  {\r\n    name: \"region1\",\r\n    description: \"Gain 1 Victory Point. Gain 1 obsidian and 1 cocoa.\",\r\n    top: \"10%\",\r\n    left: \"25%\",\r\n  },\r\n  {\r\n    name: \"region2\",\r\n    description:\r\n      \"Gain 1 Victory Point. Advance your marker one step on any temple.\",\r\n    top: \"35%\",\r\n    left: \"28%\",\r\n  },\r\n  {\r\n    name: \"region3\",\r\n    description:\r\n      \"Gain 1 Victory Point. After placing the Building, draw 3 Discovery tiles and claim 1 by paying its cost. All unclaimed Discovery tiles are shuffled back into the Discovery tile stacks.\",\r\n    teotibotDescription:\r\n      \"Teotibot draws three Discovery tiles. If a Mask it doesn't yet have is drawn it will take that if able to pay for it, all other tiles are discarded. If a Mask isn't taken, it will gain 2 additional Victory Points.\",\r\n    top: \"55%\",\r\n    left: \"25%\",\r\n  },\r\n  {\r\n    name: \"region4\",\r\n    description: \"Gain 1 Victory Point. Power up 3 different unlocked workers.\",\r\n    top: \"55%\",\r\n    left: \"12%\",\r\n  },\r\n  {\r\n    name: \"region5\",\r\n    description:\r\n      \"Gain 2 Victory Points. Take one of the Special Mask tiles. It counts as a Mask during Eclipse scoring.\",\r\n    top: \"20%\",\r\n    left: \"47%\",\r\n  },\r\n  {\r\n    name: \"region6\",\r\n    description:\r\n      \"Gain 2 Victory Points. Draw 2 Major Discovery tiles and claim 1 by paying its cost. All unclaimed Major Discovery tiles are shuffled back into the Major Discovery tile stack.\",\r\n    teotibotDescription:\r\n      \"Teotibot draws two Major Discovery tiles. If a Mask it doesn't yet have is drawn it will take that, all other tiles are discarded. If a Mask isnt taken, it will gain 4 additional Victory Points.\",\r\n    top: \"38%\",\r\n    left: \"41%\",\r\n  },\r\n  {\r\n    name: \"region7\",\r\n    description:\r\n      \"Gain 2 Victory Points. Place a marker for free on the Technology tile with the lowest reference number that you do not already have. Receive a temple advancement as usual.\",\r\n    top: \"50%\",\r\n    left: \"44%\",\r\n  },\r\n  {\r\n    name: \"region8\",\r\n    description:\r\n      \"Gain 2 Victory Points. Advance your marker one step each on two different temples.\",\r\n    top: \"65%\",\r\n    left: \"38%\",\r\n  },\r\n  {\r\n    name: \"region9\",\r\n    description:\r\n      \"Gain 4 Victory Points. Take one of the Special Mask tiles. It counts as a Mask during Eclipse scoring.\",\r\n    top: \"25%\",\r\n    left: \"72%\",\r\n  },\r\n  {\r\n    name: \"region10\",\r\n    description: \"Gain 4 Victory Points. Gain 4 obsidian.\",\r\n    top: \"40%\",\r\n    left: \"75%\",\r\n  },\r\n  {\r\n    name: \"region11\",\r\n    description:\r\n      \"Gain 4 Victory Points. Score Victory Points for all of your workers: 1 Victory Point for every worker with a power of 1, 2, or 3. 2 Victory Points for every worker with a power of 4 or 5.\",\r\n    teotibotDescription: \"Teotibot scores a fixed number of 8 Victory Points.\",\r\n    top: \"60%\",\r\n    left: \"75%\",\r\n  },\r\n];\r\n\r\nexport const actionNames = [\r\n  { name: \"Palace\", value: 1, color: \"#9a3b2e\" },\r\n  { name: \"Forest\", value: 2, color: \"#c6beaf\" },\r\n  { name: \"Stone Quarry\", value: 3, color: \"#917c6d\" },\r\n  { name: \"Gold Deposits\", value: 4, color: \"#917c6d\" },\r\n  { name: \"Alchemy\", value: 5, color: \"#a5743e\" },\r\n  { name: \"Nobles\", value: 6, color: \"#647f8b\" },\r\n  { name: \"Conquest\", value: 6, color: \"#647f8b\" },\r\n  { name: \"Decorations\", value: 7, color: \"#8aa89e\" },\r\n  { name: \"Construction\", value: 8, color: \"#a3655a\" },\r\n];\r\n\r\nexport const diceFaces = [\r\n  { name: \"d1\", value: 1 },\r\n  { name: \"d2\", value: 2 },\r\n  { name: \"d3\", value: 3 },\r\n  { name: \"d4\", value: 4 },\r\n  { name: \"d5\", value: 5 },\r\n  { name: \"d6\", value: 6 },\r\n];\r\n\r\nexport const botTiles = (isAltarsAndShamans, isEmpires) => {\r\n  var tiles = [\r\n    { name: \"Alchemy\", src: \"alchemy\" },\r\n    { name: \"Construction\", src: \"construction\" },\r\n    { name: \"Decorations\", src: \"decorations\" },\r\n    { name: \"Mastery\", src: \"mastery\" },\r\n    { name: \"Worship\", src: \"worship\" },\r\n  ];\r\n\r\n  if (isAltarsAndShamans) {\r\n    tiles.push({ name: \"Activate Shaman\", src: \"mask_period\" });\r\n  } else {\r\n    tiles.push({ name: \"Mask Collection\", src: \"mask_collection\" });\r\n  }\r\n\r\n  if (isEmpires) {\r\n    tiles.push({ name: \"Empire and Build\", src: \"nobles\" });\r\n  } else {\r\n    tiles.push({ name: \"Nobles\", src: \"nobles\" });\r\n  }\r\n\r\n  return tiles;\r\n};\r\n\r\nexport const baseDirectionTiles = [\r\n  {\r\n    name: \"left\",\r\n    src: \"left\",\r\n    css: directionTileLeft,\r\n    type: \"left\",\r\n    actionBoard: \"next\",\r\n  },\r\n  {\r\n    name: \"right\",\r\n    src: \"right\",\r\n    css: directionTileRight,\r\n    type: \"right\",\r\n    actionBoard: \"next\",\r\n  },\r\n];\r\n\r\nexport const alternativeDirectionTilesStep2 = [\r\n  {\r\n    name: \"step2\",\r\n    src: \"rightstep2\",\r\n    css: directionTileRight2Step,\r\n    initialCss: directionTileRight2Step,\r\n    flippedCss: directionTileLeft2StepFlipped,\r\n    stepTile: true,\r\n    type: \"right\",\r\n    actionBoard: \"second\",\r\n  },\r\n  {\r\n    name: \"step2\",\r\n    src: \"leftstep2\",\r\n    css: directionTileLeft2Step,\r\n    initialCss: directionTileLeft2Step,\r\n    flippedCss: directionTileRight2StepFlipped,\r\n    stepTile: true,\r\n    type: \"left\",\r\n    actionBoard: \"second\",\r\n  },\r\n];\r\n\r\nexport const alternativeDirectionTilesStep3 = [\r\n  {\r\n    name: \"step3\",\r\n    src: \"rightstep3\",\r\n    css: directionTileRight3Step,\r\n    initialCss: directionTileRight3Step,\r\n    flippedCss: directionTileLeft3StepFlipped,\r\n    stepTile: true,\r\n    type: \"right\",\r\n    actionBoard: \"third\",\r\n  },\r\n  {\r\n    name: \"step3\",\r\n    src: \"leftstep3\",\r\n    css: directionTileLeft3Step,\r\n    initialCss: directionTileLeft3Step,\r\n    flippedCss: directionTileRight3StepFlipped,\r\n    stepTile: true,\r\n    type: \"left\",\r\n    actionBoard: \"third\",\r\n  },\r\n];\r\n\r\nexport const initialTeotibotStartingResources = (\r\n  startingGold,\r\n  startingWood,\r\n  startingStone\r\n) => {\r\n  return [\r\n    { quantity: startingGold, type: gold },\r\n    { quantity: startingStone, type: stone },\r\n    { quantity: startingWood, type: wood },\r\n  ];\r\n};\r\n\r\nexport const empireTiles = [\r\n  {\r\n    name: \"empire_map\",\r\n  },\r\n];\r\n\r\n// Starting Tiles\r\nexport const baseStartTiles = [\r\n  {\r\n    name: \"ST1\",\r\n    numbers: [1, 2],\r\n    tooltip:\r\n      \"Advance on the Avenue of the Dead track and gain 2 cocoa and 3 wood.\",\r\n    resources: [\r\n      { quantity: 1, type: avenue },\r\n      { quantity: 2, type: cocoa },\r\n      { quantity: 3, type: wood },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST2\",\r\n    numbers: [4, 3],\r\n    tooltip:\r\n      \"Advance on the green temple (gaining its reward) and gain 2 stone and 3 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: templeGreen },\r\n      { quantity: 2, type: stone },\r\n      { quantity: 3, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST3\",\r\n    numbers: [2, 3],\r\n    tooltip:\r\n      \"Advance on the blue temple (gaining its reward) and gain 4 wood and 1 stone.\",\r\n    resources: [\r\n      { quantity: 1, type: templeBlue },\r\n      { quantity: 4, type: wood },\r\n      { quantity: 1, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST4\",\r\n    numbers: [1, 4],\r\n    tooltip:\r\n      \"Advance on the red temple (gaining its reward) and gain 5 cocoa and 2 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: templeRed },\r\n      { quantity: 5, type: cocoa },\r\n      { quantity: 2, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST5\",\r\n    numbers: [4, 5],\r\n    tooltip:\r\n      \"Select the lowest numbered Technology tile on the Alchemy (5) Action Board, and place your marker on it for free. Gain the associated temple advance (and its reward) plus 2 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: tech },\r\n      { quantity: 2, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST6\",\r\n    numbers: [2, 4],\r\n    tooltip:\r\n      \"Increase the power of one of your starting workers. Gain 3 wood and 2 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: powerup },\r\n      { quantity: 3, type: wood },\r\n      { quantity: 2, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST7\",\r\n    numbers: [5, 8],\r\n    tooltip:\r\n      \"Select the lowest numbered Technology tile on the Alchemy (5) Action Board, and place your marker on it for free. Gain the associated temple advance (and its reward) plus any 2 resources.\",\r\n    resources: [\r\n      { quantity: 1, type: tech },\r\n      { quantity: 2, type: any },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST8\",\r\n    numbers: [6, 7],\r\n    tooltip:\r\n      \"Advance on the blue temple (gaining its reward) and gain 2 cocoa and 4 stone.\",\r\n    resources: [\r\n      { quantity: 1, type: templeBlue },\r\n      { quantity: 2, type: cocoa },\r\n      { quantity: 4, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST9\",\r\n    numbers: [5, 6],\r\n    tooltip: \"Advance on each of the three temples (gaining rewards).\",\r\n    resources: [\r\n      { quantity: 1, type: templeBlue },\r\n      { quantity: 1, type: templeRed },\r\n      { quantity: 1, type: templeGreen },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST10\",\r\n    numbers: [7, 8],\r\n    tooltip:\r\n      \"Advance on the red temple (gaining its reward), increase the power of one of your starting workers, and gain 5 cocoa.\",\r\n    resources: [\r\n      { quantity: 1, type: templeRed },\r\n      { quantity: 1, type: powerup },\r\n      { quantity: 5, type: cocoa },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST11\",\r\n    numbers: [6, 8],\r\n    tooltip:\r\n      \"Advance on the green temple (gaining its reward), increase the power of one of your starting workers, and gain 5 cocoa.\",\r\n    resources: [\r\n      { quantity: 1, type: templeGreen },\r\n      { quantity: 1, type: powerup },\r\n      { quantity: 5, type: cocoa },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST12\",\r\n    numbers: [5, 7],\r\n    tooltip:\r\n      \"Advance on the blue and red temples (gaining rewards), and gain any 2 resources.\",\r\n    resources: [\r\n      { quantity: 1, type: templeBlue },\r\n      { quantity: 1, type: templeRed },\r\n      { quantity: 2, type: any },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST13\",\r\n    numbers: [3, 5],\r\n    tooltip: \"Gain 3 cocoa and 5 wood.\",\r\n    resources: [\r\n      { quantity: 3, type: cocoa },\r\n      { quantity: 5, type: wood },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST14\",\r\n    numbers: [3, 7],\r\n    tooltip:\r\n      \"Gain 3 stone and 1 gold. You may claim a random Discovery tile (by paying its cost). You may look at the Discovery tile before deciding to pick this tile.\",\r\n    resources: [\r\n      { quantity: 3, type: stone },\r\n      { quantity: 1, type: gold },\r\n      { quantity: 1, type: discovery },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST15\",\r\n    numbers: [2, 6],\r\n    tooltip: \"Gain 1 wood, 2 stone, and 3 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: wood },\r\n      { quantity: 2, type: stone },\r\n      { quantity: 3, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST16\",\r\n    numbers: [4, 8],\r\n    tooltip:\r\n      \"Gain 2 cocoa and 3 gold. You may claim a random Discovery tile (by paying its cost). You may look at the Discovery tile before deciding to pick this tile.\",\r\n    resources: [\r\n      { quantity: 2, type: cocoa },\r\n      { quantity: 3, type: gold },\r\n      { quantity: 1, type: discovery },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST17\",\r\n    numbers: [3, 8],\r\n    tooltip: \"Gain 3 cocoa, 2 wood, and 3 stone.\",\r\n    resources: [\r\n      { quantity: 3, type: cocoa },\r\n      { quantity: 2, type: wood },\r\n      { quantity: 3, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST18\",\r\n    numbers: [2, 7],\r\n    tooltip:\r\n      \"Advance on the Avenue of the Dead track and gain 1 wood and 2 stone.\",\r\n    resources: [\r\n      { quantity: 1, type: avenue },\r\n      { quantity: 1, type: wood },\r\n      { quantity: 2, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n];\r\n\r\nexport const xitleStartTiles = [\r\n  {\r\n    name: \"XST1\",\r\n    numbers: [1, 7],\r\n    tooltip:\r\n      \"Take two separate Worship actions with two of your workers. You may activate the Worship space ability AND claim the Discovery tile without paying 1 cocoa to doing so. These two workers will begin the game locked.\",\r\n    resources: [{ quantity: 2, type: worship }],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST2\",\r\n    numbers: [6, 6],\r\n    tooltip:\r\n      \"Advance on the orange temple (gaining its reward) and gain 3 cocoa and 2 stone. You may place two of your starting workers on the Nobles (6) Action Board. (If you are playing without the Height of Development module from Teotihuacan: Late Preclassic Period, advance on the red temple instead of the orange temple.)\",\r\n    resources: [\r\n      { quantity: 1, type: templeOrange, alt: templeRed },\r\n      { quantity: 3, type: cocoa },\r\n      { quantity: 2, type: stone },\r\n    ],\r\n    selected: false,\r\n    duplicateNumbers: true,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST3\",\r\n    numbers: [4, 6],\r\n    tooltip:\r\n      \"Gain your 4th worker with a power of 3. Then select a valid reward from the Ascension wheel. (All four of your workers must be placed on different Action Boards, if possible.)\",\r\n    resources: [\r\n      { quantity: 1, type: worker },\r\n      { quantity: 1, type: ascension },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST4\",\r\n    numbers: [4, 7],\r\n    tooltip:\r\n      \"Advance on the orange temple (gaining its reward) and gain 2 wood and 3 gold. (If you are playing without the Height of Development module from Teotihuacan: Late Preclassic Period, advance on the blue temple instead of the orange temple.)\",\r\n    resources: [\r\n      { quantity: 1, type: templeOrange, alt: templeBlue },\r\n      { quantity: 2, type: wood },\r\n      { quantity: 3, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST5\",\r\n    numbers: [1, 5],\r\n    tooltip:\r\n      \"Advance on two different temples of your choice (gaining rewards) and gain 2 cocoa.\",\r\n    resources: [\r\n      { quantity: 2, type: templeWild },\r\n      { quantity: 2, type: cocoa },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST6\",\r\n    numbers: [1, 8],\r\n    tooltip:\r\n      \"Advance on two different temples of your choice (gaining rewards) and gain any 1 resource.\",\r\n    resources: [\r\n      { quantity: 2, type: templeWild },\r\n      { quantity: 1, type: any },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST7\",\r\n    numbers: [2, 8],\r\n    tooltip: \"Advance on the Pyramid track and gain 2 wood and 2 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: pyramid },\r\n      { quantity: 2, type: wood },\r\n      { quantity: 2, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST8\",\r\n    numbers: [2, 5],\r\n    tooltip: \"Advance on the Pyramid track and gain 3 cocoa and 1 stone.\",\r\n    resources: [\r\n      { quantity: 1, type: pyramid },\r\n      { quantity: 3, type: cocoa },\r\n      { quantity: 1, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST9\",\r\n    numbers: [7, 7],\r\n    tooltip:\r\n      \"Select the highest numbered Technology tile on the Alchemy (5) Action Board and place your marker on it for free. Gain the associated temple advancement (and its reward) plus any 1 resource. You may place two of your starting workers on the Decorations/Architecture (7) Action Board.\",\r\n    resources: [\r\n      { quantity: 1, type: tech },\r\n      { quantity: 1, type: any },\r\n    ],\r\n    selected: false,\r\n    duplicateNumbers: true,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST10\",\r\n    numbers: [3, 6],\r\n    tooltip:\r\n      \"Select the highest numbered Technology tile on the Alchemy (5) Action Board and place your marker on it for free. Gain the associated temple advancement (and its reward). You may claim a random Discovery tile (by paying its cost). You may look at the Discovery tile before deciding to pick this tile. 8\",\r\n    resources: [\r\n      { quantity: 1, type: tech },\r\n      { quantity: 1, type: discovery },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n];\r\n\r\nexport const periodStartTiles = [\r\n  {\r\n    name: \"PST1\",\r\n    numbers: [5, 5],\r\n    tooltip:\r\n      \"Gain an obsidian, increase the power of one of your starting workers, and you may claim a random Major Discovery tile (by paying its cost). You may look at the Major Discovery tile before deciding to pick this tile.\",\r\n    resources: [\r\n      { quantity: 1, type: majorDiscovery },\r\n      { quantity: 1, type: powerup },\r\n      { quantity: 1, type: obsidian },\r\n    ],\r\n    selected: false,\r\n    duplicateNumbers: true,\r\n    src: period,\r\n  },\r\n  {\r\n    name: \"PST2\",\r\n    numbers: [1, 6],\r\n    tooltip: \"Gain 3 obsidian and 4 cocoa.\",\r\n    resources: [\r\n      { quantity: 3, type: obsidian },\r\n      { quantity: 4, type: cocoa },\r\n    ],\r\n    selected: false,\r\n    duplicateNumbers: true,\r\n    src: period,\r\n  },\r\n];\r\n\r\n// Tech tiles\r\nexport const baseTechTiles = [\r\n  {\r\n    name: \"TT1\",\r\n    tooltip:\r\n      \"Each time you land on or move a worker over the Palace (1) Action Board, you gain 1 cocoa.\",\r\n    src: base,\r\n    order: 1,\r\n  },\r\n  {\r\n    name: \"TT3\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of Alchemy (5) or Nobles (6) Action Boards, gain 3 Victory Points.\",\r\n    src: base,\r\n    order: 3,\r\n  },\r\n  {\r\n    name: \"TT5\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of Forest (2), Stone Quarry (3), Gold Deposits (4), you get one (additional) wood, stone, gold, respectively.\",\r\n    src: base,\r\n    order: 5,\r\n  },\r\n  {\r\n    name: \"TT7\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Forest (2), Stone Quarry (3), or Gold Deposits (4) Action Boards, gain 1 cocoa and 1 Victory Point.\",\r\n    src: base,\r\n    order: 7,\r\n  },\r\n  {\r\n    name: \"TT9\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Decorations (7) Action Board, gain 4 Victory Points.\",\r\n    src: base,\r\n    order: 9,\r\n  },\r\n  {\r\n    name: \"TT11\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Construction (8) Action Board, gain 3 Victory Points (regardless of the number of tiles placed).\",\r\n    src: base,\r\n    order: 11,\r\n  },\r\n  {\r\n    name: \"TT13\",\r\n    tooltip:\r\n      \"Each time one of your workers gains a power-up as part of a Main action, you may pay 1 cocoa to power up once more (same or different worker) on the same Action Board.\",\r\n    src: base,\r\n    order: 13,\r\n  },\r\n  {\r\n    name: \"TT15\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Construction (8) Action Board, resolve it as if you had an additional worker, that also granted a discount of 1 resource.\",\r\n    src: base,\r\n    order: 15,\r\n  },\r\n  {\r\n    name: \"TT17\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Construction (8) Action Board, advance on one temple (regardless of the number of tiles placed).\",\r\n    src: base,\r\n    order: 17,\r\n  },\r\n];\r\n\r\nexport const xitleTechTiles = [\r\n  {\r\n    name: \"TT00\",\r\n    tooltip:\r\n      \"Each time you move a worker onto or past the Palace (1) Action Board, you may immediately exchange up to 4 resources of one type (wood, stone, or gold) into the same number of resources of a different type\",\r\n    src: xitle,\r\n    order: 0,\r\n  },\r\n  {\r\n    name: \"TT02\",\r\n    tooltip:\r\n      \"When taking the Collect Cocoa action, collect 1 more cocoa than normal.\",\r\n    src: xitle,\r\n    order: 2,\r\n  },\r\n  {\r\n    name: \"TT06\",\r\n    tooltip:\r\n      \"At the end of your turn, if you unlocked one or more of your workers, gain 4 Victory Points.\",\r\n    src: xitle,\r\n    order: 6,\r\n  },\r\n  {\r\n    name: \"TT08\",\r\n    tooltip:\r\n      \"When claiming a mask Discovery tile, gain 2 Victory Points. If you acquired both this Technology and a mask Discovery tile as a benefits from your Starting tiles, immediately apply the benefit of this Technology.\",\r\n    src: xitle,\r\n    order: 8,\r\n  },\r\n  {\r\n    name: \"TT10\",\r\n    tooltip:\r\n      \"During Eclipse scoring, after paying the salary for your workers as normal, you may pay 1 additional cocoa for each worker you have. If you do so, immediately gain 2 Victory Points for each worker you have.\",\r\n    src: xitle,\r\n    order: 10,\r\n  },\r\n  {\r\n    name: \"TT12\",\r\n    tooltip:\r\n      \"After performing the Main action of the Decorations/Architecture (7) Action Board, if you placed one or more Decoration tiles, advance your marker one additional step on the Pyramid track.\",\r\n    src: xitle,\r\n    order: 12,\r\n  },\r\n  {\r\n    name: \"TT14\",\r\n    tooltip:\r\n      \"At the end of your turn, if you unlocked all of your locked workers  either by paying cocoa (normally 3 cocoa) or by unlocking them for free (in lieu of taking a normal turn)  advance your marker once on a temple of your choice.\",\r\n    src: xitle,\r\n    order: 14,\r\n  },\r\n  {\r\n    name: \"TT16\",\r\n    tooltip:\r\n      \"When performing the Main action of the Decorations/Architecture (7) Action Board, you may place Decoration tiles without consideration for which way the arrow is pointing.\",\r\n    src: xitle,\r\n    order: 16,\r\n  },\r\n  {\r\n    name: \"TT18\",\r\n    tooltip:\r\n      \"After performing the Main action of the Nobles (6) Action Board, if you placed one or more Buildings, advance your marker once on a temple of your choice.\",\r\n    src: xitle,\r\n    order: 18,\r\n  },\r\n  {\r\n    name: \"TT20\",\r\n    tooltip:\r\n      \"Before taking a normal turn, you may move one of your unlocked workers exactly 1 space backwards (counterclockwise), but without performing an action with that worker. Afterwards, move a different unlocked worker, and perform an action on the Action Board the second worker moved to, as normal.\",\r\n    src: xitle,\r\n    order: 20,\r\n  },\r\n];\r\n\r\nexport const periodTechTiles = [\r\n  {\r\n    name: \"TT1.5\",\r\n    tooltip: \"When gaining any resource you may gain obsidian instead.\",\r\n    src: period,\r\n    order: 1.5,\r\n  },\r\n  {\r\n    name: \"TT3.5\",\r\n    tooltip:\r\n      \"You may spend 1 obsidian in place of up to 3 cocoa. No change is given.\",\r\n    src: period,\r\n    order: 3.5,\r\n  },\r\n  {\r\n    name: \"TT5.5\",\r\n    tooltip:\r\n      \"Whenever you perform the Collect Cocoa action or Worship at a Royal tile, gain 1 obsidian.\",\r\n    src: period,\r\n    order: 5.5,\r\n  },\r\n];\r\n\r\n// Temple Tiles\r\nexport const baseTempleTiles = [\r\n  {\r\n    name: \"BT1\",\r\n    tooltip: \"Score your highest scoring mask set one more time.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"BT2\",\r\n    tooltip:\r\n      \"Score 5 Victory Points for each Technology tile with your marker.\",\r\n    src: base,\r\n  },\r\n  { name: \"BT3\", tooltip: \"Score 15 Victory Points.\", src: base },\r\n  {\r\n    name: \"BT4\",\r\n    tooltip:\r\n      \"Score 3 Victory Points for each step you progressed on the Avenue of the Dead track.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"BT5\",\r\n    tooltip:\r\n      \"Score 9 Victory Points for each Bonus tile you unlocked, including this tile.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"BT6\",\r\n    tooltip:\r\n      \"Score 2 Victory Points for each nonmask Discovery tile you have (used or unused).\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"BT7\",\r\n    tooltip:\r\n      \"Score for your workers: for each worker with 1-3 power, score 4 Victory Points; for each worker with 4-5 power, score 9 Victory Points.\",\r\n    src: base,\r\n  },\r\n];\r\n\r\nexport const basePriestPriestessTiles = [\r\n  { name: \"pp1\", src: base },\r\n  { name: \"pp2\", src: base },\r\n  { name: \"pp3\", src: base },\r\n  { name: \"pp4\", src: base },\r\n  { name: \"pp5\", src: base },\r\n  { name: \"pp6\", src: base },\r\n  { name: \"pp7\", src: base },\r\n  { name: \"pp8\", src: base },\r\n  { name: \"pp9\", src: base },\r\n  { name: \"pp10\", src: base },\r\n];\r\n\r\n//Royal Tiles\r\nexport const baseRoyalTiles = [\r\n  {\r\n    name: \"rtc0\",\r\n    category: \"c\",\r\n    order: \"0\",\r\n    tooltip:\r\n      \"You may ad one tile to the Pyramid if the locked worker has a power of 1, 2, or 3. You may add two tiles to the Pyramid if the locked worker has a power of 4 or 5. Pay cost as usual but gain no rewards from any technology tiles.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rtc1\",\r\n    category: \"c\",\r\n    order: \"1\",\r\n    tooltip: \"Gain 1 more cocoa than the power of the locked worker.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rtc3\",\r\n    category: \"c\",\r\n    order: \"3\",\r\n    tooltip:\r\n      \"Pay 1 resource to receive 2 cocoa up to as many time as the power of the worker.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rtc8\",\r\n    category: \"c\",\r\n    order: \"8\",\r\n    tooltip:\r\n      \"Pay 1 cocoa to advance on any temple by one. Do this as many times as the power of the locked worked minus one.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rtb2\",\r\n    category: \"b\",\r\n    order: \"2\",\r\n    tooltip:\r\n      \"Pay 1 cocoa to receive 1 wood and 1 stone up to as many times as the power of the worker.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rtb6\",\r\n    category: \"b\",\r\n    order: \"6\",\r\n    tooltip:\r\n      \"Pay 1 cocoa to receive 1 gold and 1 stone up to as many times as the power of the worker.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rtb7\",\r\n    category: \"b\",\r\n    order: \"7\",\r\n    tooltip:\r\n      \"Pay 1 cocoa and 1 resource to receive as many resources of any type as the power of the worker.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rta4\",\r\n    category: \"a\",\r\n    order: \"4\",\r\n    tooltip:\r\n      \"Score 2 points for every technology you have or the power of the locked worker, whichever is lower.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rta5\",\r\n    category: \"a\",\r\n    order: \"5\",\r\n    tooltip:\r\n      \"Score 2 points for your position on the Pyramid track or the power of the locked worker, whichever is lower.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"rta9\",\r\n    category: \"a\",\r\n    order: \"9\",\r\n    tooltip:\r\n      \"Score 1 point for your position on the Avenue of the Dead or the power of the locked worker plus one, whichever is lower\",\r\n    src: base,\r\n  },\r\n];\r\n\r\nexport const periodRoyalTiles = [\r\n  {\r\n    name: \"rta10\",\r\n    category: \"a\",\r\n    order: \"10\",\r\n    tooltip:\r\n      \"Score 2 points for every pair of Major Discovery tiles you own or the power of the locked worker, whichever is lower.\",\r\n    src: period,\r\n  },\r\n  {\r\n    name: \"rtb11\",\r\n    category: \"b\",\r\n    order: \"11\",\r\n    tooltip:\r\n      \"Spend 3 cocoa (once) to receive obsidian equal to the power of the locked worker.\",\r\n    src: period,\r\n  },\r\n  {\r\n    name: \"rtc12\",\r\n    category: \"c\",\r\n    order: \"12\",\r\n    tooltip:\r\n      \"Pay 1 obsidian to receive 1 cocoa and 2 victory points up to as many times as the power of the worker.\",\r\n    src: period,\r\n  },\r\n];\r\n\r\nexport const obsidianPriestPriestessTiles = [{ name: \"ppp1\", src: period }];\r\n\r\nexport const altarsAndShamansPriestPriestessTiles = [\r\n  { name: \"ppp2\", src: period },\r\n];\r\n\r\nexport const baseTeotiPriestPriestessTiles = [\r\n  { name: \"ppt1\", src: base },\r\n  { name: \"ppt2\", src: base },\r\n  { name: \"ppt3\", src: base },\r\n  { name: \"ppt4\", src: base },\r\n  { name: \"ppt5\", src: base },\r\n  { name: \"ppt6\", src: base },\r\n];\r\n\r\nconst getImage = (imagePath) => {\r\n  return `<img class=\"icon\" src=\".${imagePath}\"}/>`;\r\n};\r\n\r\nexport const getActionImage = (imageName) => {\r\n  return `<img class=\"icon\" src=\"./actions/${imageName}.png\" alt=${imageName}}/>`;\r\n};\r\n\r\nexport const getPathTileImage = (tileNo) => {\r\n  return `<img class=\"path-tile\" src=\"/empire/pt${tileNo}.jpg\"/>`;\r\n};\r\n\r\nconst getDiceImage = (imageName) => {\r\n  return `<img class=\"icon\" src=\"./game_dice/${imageName}.png\" alt=${imageName}}/>`;\r\n};\r\n\r\nexport const getActionBoard = (actionName, noText) => {\r\n  return `${actionName} ${getActionImage(\r\n    `no${getActionItemByName(actionName).value}`\r\n  )} ${!noText ? \"Action Board\" : \"\"}`;\r\n};\r\n\r\nexport const getResourceImage = (imageName, className = \"icon\") => {\r\n  return `<img class=\"${className}\" src=\"./game_resources/${imageName}.png\" alt=${imageName}}/>`;\r\n};\r\n\r\nconst advancement = (isAlternateTeotibotMovement, topDirectionTile) => {\r\n  if (isAlternateTeotibotMovement) {\r\n    return altAdvancement(topDirectionTile);\r\n  } else {\r\n    return baseAdvancement;\r\n  }\r\n};\r\n\r\nconst baseAdvancement = `<ul><li>${getImage(\"/game_dice/d1.png\")}${getImage(\r\n  \"/game_dice/d2.png\"\r\n)}${getImage(\r\n  \"/game_dice/d3.png\"\r\n)} clockwise to the <span class=\"bold\">next</span> Action Board.</li><li>${getImage(\r\n  \"/game_dice/d4.png\"\r\n)}${getImage(\r\n  \"/game_dice/d5.png\"\r\n)} clockwise to the <span class=\"bold\">second</span> Action Board.</li></ul>`;\r\n\r\nconst altAdvancement = (topDirectionTile) => {\r\n  return `<div class=\"margin\">Clockwise to the <span class=\"bold\">${\r\n    topDirectionTile.actionBoard\r\n  }</span> ${getResourceImageStep(\r\n    topDirectionTile.actionBoard\r\n  )} Action Board.</div>`;\r\n};\r\n\r\nconst getResourceImageStep = (actionBoard) => {\r\n  if (actionBoard === \"next\") {\r\n    return getResourceImage(\"step1\");\r\n  }\r\n  if (actionBoard === \"second\") {\r\n    return getResourceImage(\"step2\");\r\n  }\r\n  if (actionBoard === \"third\") {\r\n    return getResourceImage(\"step3\");\r\n  }\r\n};\r\n\r\nexport const powerupMsg = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa\r\n) => {\r\n  return `<div>Teotibot gains\r\n5 cocoa ${getResourceImage(\r\n    \"5cocoa\"\r\n  )} (exchange <span class=\"bold\">10</span> cocoa for <span class=\"bold\">${teotibotVPFor10Cocoa}</span> VP ${getResourceImage(\r\n    \"vp\"\r\n  )}), powers up ${getResourceImage(\"powerup\")} its lowest powered worker, and\r\nthen advances it:</div>${advancement(\r\n    isAlternateTeotibotMovement,\r\n    topDirectionTile\r\n  )}`;\r\n};\r\n\r\nconst gainResources = (type, isObsidian, teotibotResourcesToGain) => {\r\n  return !isObsidian\r\n    ? `<span class=\"bold\">2</span> ${type} ${getResourceImage(type)}`\r\n    : `<span class=\"bold\">${teotibotResourcesToGain}</span> ${type} ${getResourceImage(\r\n        type\r\n      )} and <span class=\"bold\">1</span> obsidian ${getResourceImage(\r\n        \"obsidian\"\r\n      )}`;\r\n};\r\n\r\nconst gainResourcesNoText = (type, isObsidian, teotibotResourcesToGain) => {\r\n  return !isObsidian\r\n    ? `<span class=\"bold\">2</span> ${getResourceImage(type)}`\r\n    : `<span class=\"bold\">${teotibotResourcesToGain}</span> ${getResourceImage(\r\n        type\r\n      )} and <span class=\"bold\">1</span> ${getResourceImage(\"obsidian\")}`;\r\n};\r\n\r\nconst hasResources = (type, isObsidian, numResources) => {\r\n  return `<span class=\"bold\">${numResources}</span> or more ${type} ${getResourceImage(\r\n    type\r\n  )} ${\r\n    isObsidian ? `(including obsidian ${getResourceImage(\"obsidian\")})` : \"\"\r\n  }`;\r\n};\r\n\r\nexport const hasResourcesNoText = (type, isObsidian, numResources) => {\r\n  return ` <span class=\"bold\">${numResources}</span> ${getResourceImage(\r\n    type\r\n  )} ${isObsidian ? `(include ${getResourceImage(\"obsidian\")})` : \"\"}`;\r\n};\r\n\r\nconst hasResourcesOnBoard = (\r\n  action,\r\n  type,\r\n  actionNo,\r\n  numResources,\r\n  isObsidian\r\n) => {\r\n  return `<div>Does Teotibot have ${hasResources(\r\n    type,\r\n    isObsidian,\r\n    numResources\r\n  )} and at least one worker on the ${action} ${getActionImage(\r\n    `no${actionNo}`\r\n  )} Action Board?</div>`;\r\n};\r\n\r\nconst spendResources = (type, isObsidian, numResources) => {\r\n  return `<span class=\"bold\">${numResources}</span> ${type} ${getResourceImage(\r\n    type\r\n  )} ${\r\n    isObsidian ? `(spending obsidian ${getResourceImage(\"obsidian\")} last)` : \"\"\r\n  }`;\r\n};\r\n\r\nconst spendResourcesNoText = (type, isObsidian, numResources) => {\r\n  return `<span class=\"bold\">${numResources}</span> ${getResourceImage(type)} ${\r\n    isObsidian ? `(spending ${getResourceImage(\"obsidian\")} last)` : \"\"\r\n  }`;\r\n};\r\n\r\nconst getGoldDepositsReward = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return `<div>Teotibot gains ${gainResources(\r\n    gold,\r\n    isObsidian,\r\n    teotibotResourcesToGain\r\n  )}</div>\r\n  <div class=\"margin\">Power up Teotibots worker ${getResourceImage(\r\n    \"powerup\"\r\n  )} on the Gold Deposits ${getActionImage(\"no4\")}\r\n  Action Board (this might trigger an Ascension, which is resolved\r\n  normally). Then advance the powered-up worker (or the new worker, if the\r\n  old one triggered Ascension)\r\n  ${advancement(isAlternateTeotibotMovement, topDirectionTile)}\r\n  </div>`;\r\n};\r\n\r\nconst getQuarryReward = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return `<div>Teotibot gains ${gainResources(\r\n    stone,\r\n    isObsidian,\r\n    teotibotResourcesToGain\r\n  )}</div>\r\n  <div class=\"margin\">Power up Teotibots worker ${getResourceImage(\r\n    \"powerup\"\r\n  )} on the Stone Quarry ${getActionImage(\"no3\")}\r\n  Action Board (this might trigger an Ascension, which is resolved\r\n  normally). Then advance the powered-up worker (or the new worker, if the\r\n  old one triggered Ascension)\r\n  ${advancement(isAlternateTeotibotMovement, topDirectionTile)}\r\n  </div>`;\r\n};\r\n\r\nconst getForestReward = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return `<div>Teotibot gains ${gainResources(\r\n    wood,\r\n    isObsidian,\r\n    teotibotResourcesToGain\r\n  )}</div>\r\n  <div class=\"margin\">Power up Teotibots worker ${getResourceImage(\r\n    \"powerup\"\r\n  )} on the Forest ${getActionImage(\"no2\")}\r\n  Action Board (this might trigger an Ascension, which is resolved\r\n  normally). Then advance the powered-up worker (or the new worker, if the\r\n  old one triggered Ascension)\r\n  ${advancement(isAlternateTeotibotMovement, topDirectionTile)}\r\n  </div>`;\r\n};\r\n\r\nconst getConstructionReward = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  numResources,\r\n  isObsidian\r\n) => {\r\n  return `<div>Teotibot spends ${spendResources(\r\n    stone,\r\n    isObsidian,\r\n    numResources\r\n  )} and places the leftmost pyramid ${getResourceImage(\"pyramidt\")}\r\ntile (rotated randomly) onto the top left,\r\nlowest level space available on the Pyramid grid of the Main\r\nBoard. \r\nThen Teotibot: <ul>\r\n<li>Scores Victory Points ${getResourceImage(\r\n    \"vp\"\r\n  )} for the level.</li><li>Advances on the Pyramid ${getResourceImage(\r\n    \"pyramid\"\r\n  )} track.</li>\r\n<li><span class=\"temple-tip bold\">Advances*</span> on any temple by one. ${getResourceImage(\r\n    \"tw\"\r\n  )}</li><li>Scores an additional <span class=\"bold\">2</span> Victory Points ${getResourceImage(\r\n    \"vp\"\r\n  )} (Note: This represents average points the\r\nbot would score by matching icons.)</li>\r\n</ul></div>\r\n<div>\r\nPower up ${getResourceImage(\"powerup\")} Teotibots worker ${getDiceImage(\r\n    \"d3\"\r\n  )} on the Construction ${getActionImage(\"no8\")}\r\nAction Board (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then advance the powered-up worker (or the new worker, if the\r\nold one triggered Ascension)\r\n${advancement(isAlternateTeotibotMovement, topDirectionTile)}\r\n</div>`;\r\n};\r\n\r\nconst isOnActionBoard = (type, num) => {\r\n  return `<div>Does Teotibot have at least one worker on the ${type} ${getActionImage(\r\n    `no${num}`\r\n  )} Action Board? </div>`;\r\n};\r\n\r\nconst getElipseBuilding = (eclipseStage) => {\r\n  if (eclipseStage === 0) {\r\n    return `<li>Place it in the <span class=\"bold\">first (top)</span> row.</li>`;\r\n  }\r\n  if (eclipseStage === 1) {\r\n    return `<li>Place it in the <span class=\"bold\">second (center)</span> row.</li>`;\r\n  }\r\n  if (eclipseStage === 2) {\r\n    return `<li>Place it in the <span class=\"bold\">third (bottom)</span> row.</li>`;\r\n  }\r\n};\r\n\r\nconst getAlchemyReward = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian\r\n) => {\r\n  return `<div> Teotibot spends ${spendResources(\r\n    gold,\r\n    isObsidian,\r\n    1\r\n  )} and then gains\r\nthe technology ${getResourceImage(\r\n    \"tech\"\r\n  )} of the lowest number that does not have any markers (yours or Teotibot's). \r\n<ul>\r\n<li>If all remaining tiles have your marker on, then the bot\r\ngains the lowest numbered technology which it does not\r\nyet have, while you score the <span class=\"bold\">3</span> Victory Points ${getResourceImage(\r\n    \"vp\"\r\n  )} as normal.</li>\r\n<li><span class=\"temple-tip bold\">Advance*</span> on the temple ${getResourceImage(\r\n    \"tw\"\r\n  )} matching the gained\r\nTechnology ${getResourceImage(\"tech\")} and power up ${getResourceImage(\r\n    \"powerup\"\r\n  )} a worker on this Action Board\r\n(resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then the bot advances the powered-up worker\r\n(or the new worker, if the old one triggered Ascension).</li></ul>\r\n${advancement(isAlternateTeotibotMovement, topDirectionTile)}\r\n</div>\r\n<div>\r\n</div>`;\r\n};\r\n\r\nconst getNoblesReward = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  eclipseStage,\r\n  isObsidian\r\n) => {\r\n  return `<div>Teotibot spends ${spendResources(\r\n    wood,\r\n    isObsidian,\r\n    2\r\n  )} and builds a Building.\r\n<ul>\r\n${getElipseBuilding(eclipseStage)}\r\n<li>If a row is full, place it into a space with the lowest printed\r\nVictory Point value of all three rows.</li>\r\n<li>Score the Victory Points ${getResourceImage(\r\n    \"vp\"\r\n  )} shown on the space just covered,\r\nand advance the bot on the Avenue of the Dead ${getResourceImage(\r\n    \"avenue\"\r\n  )} (the same\r\nway an actual player would advance).</li>\r\n</ul></div>\r\n<div>\r\nPower up ${getResourceImage(\"powerup\")} Teotibots worker ${getDiceImage(\r\n    \"d3\"\r\n  )} on the Nobles\r\nAction Board ${getActionImage(\r\n    \"no6\"\r\n  )} (this might trigger an Ascension, which is resolved\r\nnormally). Then advance the powered-up worker (or the new worker, if the\r\nold one triggered Ascension)\r\n${advancement(isAlternateTeotibotMovement, topDirectionTile)}\r\n</div>`;\r\n};\r\n\r\nconst getDecorationsReward = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian\r\n) => {\r\n  return `<div> Teotibot spends ${spendResources(\r\n    gold,\r\n    isObsidian,\r\n    2\r\n  )} and places the topmost Decoration \r\ntile onto an available Decorations space on the Pyramid grid on the Main Board (clockwise from the top). \r\nThen Teotibot: <ul>\r\n<li>Scores 5 Victory Points ${getResourceImage(\r\n    \"vp\"\r\n  )}.</li><li>Advances on the Pyramid track. ${getResourceImage(\"pyramid\")}</li>\r\n<li><span class=\"temple-tip bold\">Advances*</span> on any temple by one. ${getResourceImage(\r\n    \"tw\"\r\n  )}</li>\r\n</ul></div>\r\n<div>\r\nPower up ${getResourceImage(\"powerup\")} Teotibots worker ${getDiceImage(\r\n    \"d3\"\r\n  )} on the Decorations\r\nAction Board ${getActionImage(\r\n    \"no7\"\r\n  )} (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then advance the powered-up worker (or the new worker, if the\r\nold one triggered Ascension)\r\n${advancement(isAlternateTeotibotMovement, topDirectionTile)}\r\n</div>`;\r\n};\r\n\r\nconst maskQuestionText = () => {\r\n  return `<div>If Teotibot does not yet have one of the masks available near\r\n  one of the Worship actions ${getResourceImage(\r\n    \"worshipspace\"\r\n  )} (on the Palace ${getActionImage(\"no1\")} Action Board\r\n  or on any of the 4 temple bands) and it can pay for its cost,\r\n  it pays that cost and immediately gains that mask.</div> \r\n  <div>\r\n  <ul>\r\n    <li>Draw a replacement for it immediately, and do not move any dice.</li>\r\n    <li>Take the lowest number mask first</li>\r\n    <li>If tied, it picks the first one clockwise from (and including) the Palace ${getActionImage(\r\n      \"no1\"\r\n    )} action board.</li>\r\n  </ul>\r\n</div>`;\r\n};\r\n\r\nexport const shamanText = () => {\r\n  return `<div class=\"shaman\">\r\n  <h4>Altars and Shamans</h4>\r\n  <ul>\r\n    <li>\r\n      Teotibot moves its Shaman to the next Altar counterclockwise from\r\n      its current location.\r\n    </li>\r\n    <li>\r\n      If any Major Discovery tile remains on that Altar, place the\r\n      Shaman on the Major Discovery spot.\r\n      <ul>\r\n        <li>\r\n          If the pile contains a Mask that Teotibot does not already\r\n          have, Teotibot claims that Mask.\r\n        </li>\r\n        <li>\r\n          If there is no Mask present or if Teotibot already owns that\r\n          Mask, discard the topmost Major Discovery tile instead.\r\n        </li>\r\n      </ul>\r\n    </li>\r\n    <li>\r\n      If no Major Discovery tiles remain on that Altar, place the Shaman\r\n      on the opposite spot instead, and Teotibot gains 2 obsidian ${getResourceImage(\r\n        \"obsidian\"\r\n      )}.\r\n    </li>\r\n  </ul>\r\n</div>`;\r\n};\r\n// Questions\r\nconst alchemyQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Alchemy\", gold, 5, 1, isObsidian),\r\n      questionId: 1,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getAlchemyReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n    {\r\n      question: `Power up ${getResourceImage(\"powerup\")} ${getResourceImage(\r\n        \"powerup\"\r\n      )} its lowest unlocked worker\r\n    by <span class=\"bold\">2</span>, without carrying out any actions or advancing any\r\n    workers.`,\r\n      questionId: 3,\r\n      condition: ({ answers }) =>\r\n        answers[1] === \"no\" && answers[3] === undefined,\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst decorationQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Decorations\", gold, 7, 2, isObsidian),\r\n      questionId: 1,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getDecorationsReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n    {\r\n      question: isOnActionBoard(\"Gold Deposits\", 4),\r\n      questionId: 3,\r\n      condition: ({ answers }) =>\r\n        answers[1] === \"no\" && answers[3] === undefined,\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getGoldDepositsReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      ),\r\n      questionId: 4,\r\n      condition: ({ answers }) => answers[3] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n    {\r\n      question: powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      ),\r\n      questionId: 5,\r\n      condition: ({ answers }) => answers[3] === \"no\",\r\n      margin: 50,\r\n      isEnd: true,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst constructionQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Construction\", stone, 8, 2, isObsidian),\r\n      questionId: 1,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getConstructionReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        2,\r\n        isObsidian\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n    {\r\n      question: isOnActionBoard(\"Stone Quarry\", 3),\r\n      questionId: 3,\r\n      condition: ({ answers }) =>\r\n        answers[1] === \"no\" && answers[3] === undefined,\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getQuarryReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      ),\r\n      questionId: 4,\r\n      condition: ({ answers }) => answers[3] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n    {\r\n      question: powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      ),\r\n      questionId: 5,\r\n      condition: ({ answers }) => answers[3] === \"no\",\r\n      margin: 50,\r\n      isEnd: true,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst noblesQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  eclipseStage,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Nobles\", wood, 6, 2, isObsidian),\r\n      questionId: 1,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getNoblesReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        eclipseStage,\r\n        isObsidian\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n    {\r\n      question: isOnActionBoard(\"Forest\", 2),\r\n      questionId: 3,\r\n      condition: ({ answers }) =>\r\n        answers[1] === \"no\" && answers[3] === undefined,\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getForestReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      ),\r\n      questionId: 4,\r\n      condition: ({ answers }) => answers[3] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n    {\r\n      question: powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      ),\r\n      questionId: 5,\r\n      condition: ({ answers }) => answers[3] === \"no\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst empireAndBuildQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Conquest\", wood, 6, 2, isObsidian),\r\n      questionId: 1,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: `<div class=\"empire-content\">\r\n      <h4>\r\n      When one of Teotibot's Warriors is pushed into another region, it\r\n      will move its Warriors so they stay in the same line.\r\n    </h4>\r\n\r\n    <div>Then, it will build a building ${getResourceImage(\r\n      \"building\"\r\n    )} by spending ${spendResources(wood, isObsidian, 2)} ${getResourceImage(\r\n        \"wood\"\r\n      )}. Teotibot will\r\n    attempt to build as far from Teotihuacan as possible and\r\n    starting in the topmost region available. Teotibot receives\r\n    rewards shown, check the map for clarifications.</div></div>\r\n    </br>\r\n    Power up ${getResourceImage(\"powerup\")} Teotibots worker ${getDiceImage(\r\n        \"d3\"\r\n      )} on the Conquest ${getActionImage(\"no6\")}\r\n  Action Board (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then advance the powered-up worker (or the new worker, if the\r\n  old one triggered Ascension)\r\n    ${advancement(isAlternateTeotibotMovement, topDirectionTile)}`,\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      margin: 75,\r\n      isEnd: true,\r\n      showMansion: true,\r\n      showPathSelector: true,\r\n    },\r\n    {\r\n      question: isOnActionBoard(\"Forest\", 2),\r\n      questionId: 3,\r\n      condition: ({ answers }) =>\r\n        answers[1] === \"no\" && answers[3] === undefined,\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getForestReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      ),\r\n      questionId: 4,\r\n      condition: ({ answers }) => answers[3] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n    {\r\n      question: powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      ),\r\n      questionId: 5,\r\n      condition: ({ answers }) => answers[3] === \"no\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst worshipQuestions = (teotibotStepsPerWorship) => {\r\n  return [\r\n    {\r\n      question: `<div>Advance Teotibots worker on a Worship space to the next\r\n    clockwise Worship space on a temple sidebar (remember:\r\n    Teotibot always ignores the Palace Action Board ${getActionImage(\"no1\")}).\r\n    <ul>\r\n    <li>If there is one of your workers on that space, the Teotibot unlocks that worker.</li>\r\n    <li>The bot <span class=\"temple-tip bold\">advances*</span> on the matching temple by <span class=\"bold\">${teotibotStepsPerWorship}</span> spaces,\r\n    gaining rewards for both (and gaining printed bonuses\r\n    instead of Discovery tiles as mentioned before).</li>\r\n    <li>If the activated space is on the Decorations ${getActionImage(\r\n      \"no7\"\r\n    )} Action\r\n    Board, the bot <span class=\"temple-tip bold\">advances*</span> on any temple by <span class=\"bold\">${\r\n      teotibotStepsPerWorship + 1\r\n    }</span> instead.</li>\r\n    </ul></div>\r\n    <div>\r\n    Discard the Discovery tile near the activated space, and\r\nimmediately draw a replacement for it.\r\n  </div>`,\r\n      questionId: 1,\r\n      isEnd: true,\r\n      margin: 50,\r\n    },\r\n  ];\r\n};\r\n\r\nconst maskQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa\r\n) => {\r\n  return [\r\n    {\r\n      question: `${maskQuestionText()}\r\n  <div>Did the above yield any Masks?</div>`,\r\n      questionId: 1,\r\n      isEnd: false,\r\n      endsOnYes: true,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"no\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst maskQuestionsShaman = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa\r\n) => {\r\n  return [\r\n    {\r\n      question: `${maskQuestionText()}\r\n  </br>\r\n  <div>Did the above yield any Masks?</div>`,\r\n      questionId: 1,\r\n      isEnd: false,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: `${shamanText()}`,\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 30,\r\n      showMansion: false,\r\n      showAltarsAndShamans: false,\r\n    },\r\n    {\r\n      question: powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      ),\r\n      questionId: 3,\r\n      condition: ({ answers }) => answers[1] === \"no\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n      showAltarsAndShamans: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst eclipseQuestions = (eclipseStage, isHeightOfDevelopment) => {\r\n  const getVpForEclipse = (eclipseStage) => {\r\n    if (eclipseStage === 1) {\r\n      return 4;\r\n    } else if (eclipseStage === 2) {\r\n      return 3;\r\n    } else if (eclipseStage === 3) {\r\n      return 2;\r\n    }\r\n  };\r\n\r\n  const heightOfDevelopmentEclipse = (isHeightOfDevelopment, eclipseStage) => {\r\n    if (isHeightOfDevelopment) {\r\n      if (eclipseStage === 1) {\r\n        return `<span class=\"height\">Teotibot places a Special Ability marker on ${getResourceImage(\r\n          \"hod1\",\r\n          \"icon-dev\"\r\n        )}</span>`;\r\n      }\r\n      if (eclipseStage === 2) {\r\n        return `<span class=\"height\">Teotibot places a Special Ability marker on ${getResourceImage(\r\n          \"hod2\",\r\n          \"icon-dev\"\r\n        )}</span>`;\r\n      }\r\n      if (eclipseStage === 3) {\r\n        return `<span class=\"height\">Teotibot places a Special Ability marker on ${getResourceImage(\r\n          \"hod3\",\r\n          \"icon-dev\"\r\n        )}</span>`;\r\n      }\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  return [\r\n    {\r\n      question: `<div>\r\n    ${heightOfDevelopmentEclipse(isHeightOfDevelopment, eclipseStage)}\r\n    <ul>\r\n    <li>Score lowest visible number on the Buildings row for each step progressed on the Avenue of the Dead ${getResourceImage(\r\n      \"avenue\"\r\n    )}.</li>\r\n    <li>The player (or players) furthest ahead on the Pyramid track scores <span class=\"bold\">4</span> Victory Points ${getResourceImage(\r\n      \"vp\"\r\n    )}.</li>\r\n    <li>Each player scores <span class=\"bold\">${getVpForEclipse(\r\n      eclipseStage\r\n    )}</span> points for each step they have moved up on the Pyramid track. ${getResourceImage(\r\n        \"pyramid\"\r\n      )}.</li>\r\n    <li>Reset the Pyramid track for all players, by moving all player markers to their starting position.</li>\r\n    <li>Each player organizes their masks into one or more sets, where each set is comprised of different masks. Then each set scores points, depending on the number of masks in that set:\r\n    Each set of <span class=\"bold\">1</span>/2/<span class=\"bold\">3</span>/4/<span class=\"bold\">5</span>/6/<span class=\"bold\">7</span> masks score <span class=\"bold\">1</span>/3/<span class=\"bold\">6</span>/10/<span class=\"bold\">15</span>/21/<span class=\"bold\">28</span> Victory Points.</li>\r\n    <li>Each player (not Teotibot) must now pay a salary of <span class=\"bold\">1</span> cocoa per worker, and an additional cocoa for each worker with a power of ${getDiceImage(\r\n      \"d4\"\r\n    )} or ${getDiceImage(\r\n        \"d5\"\r\n      )}. For each cocoa a player is unwilling or unable to pay, that player loses <span class=\"bold\">3</span> Victory Points. If at any time this reduces a player's Victory Point total to <span class=\"bold\">0</span>, that player loses no more Victory Points.</li>\r\n    </ul> \r\n  </div>`,\r\n      questionId: 1,\r\n      isEnd: true,\r\n      noButtons: true,\r\n    },\r\n  ];\r\n};\r\n\r\n// Mastery questions\r\nexport const masteryQuestions = (isEmpires) => {\r\n  return [\r\n    { id: 1, name: `Forest ${getActionImage(\"no2\")}`, action: masteryForest },\r\n    {\r\n      id: 2,\r\n      name: `Stone Quarry ${getActionImage(\"no3\")}`,\r\n      action: masteryQuarry,\r\n    },\r\n    {\r\n      id: 3,\r\n      name: `Gold Deposits ${getActionImage(\"no4\")}`,\r\n      action: masteryGold,\r\n    },\r\n    { id: 4, name: `Alchemy ${getActionImage(\"no5\")}`, action: masteryAlchemy },\r\n    {\r\n      id: 5,\r\n      name: isEmpires\r\n        ? `Conquest ${getActionImage(\"no6\")}`\r\n        : `Nobles ${getActionImage(\"no6\")}`,\r\n      action: isEmpires ? masteryConquest : masteryNobles,\r\n    },\r\n    {\r\n      id: 6,\r\n      name: `Decorations ${getActionImage(\"no7\")}`,\r\n      action: masteryDecorations,\r\n    },\r\n    {\r\n      id: 7,\r\n      name: `Construction ${getActionImage(\"no8\")}`,\r\n      action: masteryConstruction,\r\n    },\r\n  ];\r\n};\r\n\r\nconst masteryForestQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: isOnActionBoard(\"Forest\", 2),\r\n      questionId: 1,\r\n      masteryQuestionId: 1,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getForestReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst masteryQuarryQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: isOnActionBoard(\"Stone Quarry\", 3),\r\n      questionId: 1,\r\n      masteryQuestionId: 2,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getQuarryReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst masteryGoldQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: isOnActionBoard(\"Gold Deposits\", 4),\r\n      questionId: 1,\r\n      masteryQuestionId: 3,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getGoldDepositsReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst masteryAlchemyQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Alchemy\", gold, 5, 1, isObsidian),\r\n      questionId: 1,\r\n      masteryQuestionId: 4,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getAlchemyReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst masteryEmpiresQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Conquest\", wood, 6, 2, isObsidian),\r\n      questionId: 1,\r\n      masteryQuestionId: 5,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: `<div class=\"empire-content\">\r\n      <h4>\r\n      When one of Teotibot's Warriors is pushed into another region, it\r\n      will move its Warriors so they stay in the same line.\r\n    </h4>\r\n\r\n    <div>Then, it will build a building ${getResourceImage(\r\n      \"building\"\r\n    )} by spending ${spendResources(wood, isObsidian, 2)} ${getResourceImage(\r\n        \"wood\"\r\n      )}. Teotibot will\r\n    attempt to build as far from Teotihuacan as possible and\r\n    starting in the topmost region available. Teotibot receives\r\n    rewards shown, check the map for clarifications.</div></div>\r\n    </br>\r\n    Power up ${getResourceImage(\"powerup\")} Teotibots worker ${getDiceImage(\r\n        \"d3\"\r\n      )} on the Conquest ${getActionImage(\"no6\")}\r\n  Action Board (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then advance the powered-up worker (or the new worker, if the\r\n  old one triggered Ascension)\r\n    ${advancement(isAlternateTeotibotMovement, topDirectionTile)}`,\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      margin: 50,\r\n      isEnd: true,\r\n      showMansion: true,\r\n      showPathSelector: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst masteryNoblesQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  eclipseStage,\r\n  isObsidian\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Nobles\", wood, 6, 2, isObsidian),\r\n      questionId: 1,\r\n      masteryQuestionId: 5,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getNoblesReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        eclipseStage,\r\n        isObsidian\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst masteryDecorationsQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Decorations\", gold, 7, 2, isObsidian),\r\n      questionId: 1,\r\n      masteryQuestionId: 6,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getDecorationsReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst masteryConstructionQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian\r\n) => {\r\n  return [\r\n    {\r\n      question: hasResourcesOnBoard(\"Construction\", stone, 8, 2, isObsidian),\r\n      questionId: 1,\r\n      masteryQuestionId: 7,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n    },\r\n    {\r\n      question: getConstructionReward(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        2,\r\n        isObsidian\r\n      ),\r\n      questionId: 2,\r\n      condition: ({ answers }) => answers[1] === \"yes\",\r\n      isEnd: true,\r\n      margin: 50,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport const TilesToQuestions = (\r\n  tileSrc,\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian,\r\n  teotibotResourcesToGain,\r\n  eclipseStage,\r\n  teotibotStepsPerWorship,\r\n  teotibotVPFor10Cocoa,\r\n  isHeightOfDevelopment,\r\n  isEmpires\r\n) => {\r\n  var result;\r\n\r\n  switch (tileSrc) {\r\n    case alchemy:\r\n      result = alchemyQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian\r\n      );\r\n      break;\r\n    case construction:\r\n      result = constructionQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      );\r\n      break;\r\n    case nobles:\r\n      result = isEmpires\r\n        ? empireAndBuildQuestions(\r\n            isAlternateTeotibotMovement,\r\n            topDirectionTile,\r\n            teotibotVPFor10Cocoa,\r\n            isObsidian,\r\n            teotibotResourcesToGain\r\n          )\r\n        : noblesQuestions(\r\n            isAlternateTeotibotMovement,\r\n            topDirectionTile,\r\n            teotibotVPFor10Cocoa,\r\n            eclipseStage,\r\n            isObsidian,\r\n            teotibotResourcesToGain\r\n          );\r\n      break;\r\n    case decorations:\r\n      result = decorationQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      );\r\n      break;\r\n    case mask_collection:\r\n      result = maskQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      );\r\n      break;\r\n    case mask_period:\r\n      result = maskQuestionsShaman(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      );\r\n      break;\r\n    case worship:\r\n      result = worshipQuestions(teotibotStepsPerWorship);\r\n      break;\r\n    case mastery:\r\n      result = [];\r\n      break;\r\n    case masteryForest:\r\n      result = masteryForestQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      );\r\n      break;\r\n    case masteryQuarry:\r\n      result = masteryQuarryQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      );\r\n      break;\r\n    case masteryGold:\r\n      result = masteryGoldQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      );\r\n      break;\r\n    case masteryAlchemy:\r\n      result = masteryAlchemyQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian\r\n      );\r\n      break;\r\n    case masteryConquest:\r\n      result = masteryEmpiresQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian\r\n      );\r\n      break;\r\n    case masteryNobles:\r\n      result = masteryNoblesQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        eclipseStage,\r\n        isObsidian\r\n      );\r\n      break;\r\n    case masteryDecorations:\r\n      result = masteryDecorationsQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian\r\n      );\r\n      break;\r\n    case masteryConstruction:\r\n      result = masteryConstructionQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian\r\n      );\r\n      break;\r\n    case eclipse:\r\n      result = eclipseQuestions(eclipseStage, isHeightOfDevelopment);\r\n      break;\r\n    default:\r\n      result = [];\r\n  }\r\n  return result;\r\n};\r\n\r\nconst advancedNoblesQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain,\r\n  eclipseStage\r\n) => {\r\n  return [\r\n    {\r\n      question: `<div><span class=\"step\">1.</span> If Teotibot has ${hasResourcesNoText(\r\n        wood,\r\n        isObsidian,\r\n        2\r\n      )} and at <span class=\"bold\">least 1</span> worker on the ${getActionBoard(\r\n        \"Nobles\"\r\n      )}, it spends ${spendResourcesNoText(\r\n        wood,\r\n        isObsidian,\r\n        2\r\n      )} and builds a building:</div>\r\n      <ul>\r\n      ${getElipseBuilding(eclipseStage)}\r\n      <li>If a row is full, place it in the space with the lowest printed VP.</li>\r\n      <li>Score the Victory Points ${getResourceImage(\r\n        \"vp\"\r\n      )} shown on the space just covered,\r\n    and advance the bot on the Avenue of the Dead ${getResourceImage(\r\n      \"avenue\"\r\n    )}.</li>\r\n      </ul>\r\n      <div><span class=\"step\">2.</span> <span class=\"red\">If 1. not performed</span> & Teotibot has at <span class=\"bold\">least 1</span> worker on the ${getActionBoard(\r\n        \"Forest\"\r\n      )}, it gains ${gainResourcesNoText(\r\n        wood,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      )}</div>\r\n      </br>\r\n      <div><span class=\"step\">3.</span> <span class=\"green\">If 1. or 2. performed</span> power ${getResourceImage(\r\n        \"powerup\"\r\n      )} up a worker on the relevant Action Board (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then advance the powered-up worker (or the new worker, if the old one triggered ascension).</div>\r\n      </br>\r\n      <div>\r\n      <span class=\"step\">4.</span> <span class=\"red\">If neither performed:</span>\r\n      </div>\r\n      ${powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      )}\r\n      `,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n      questionId: 1,\r\n      isEnd: true,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst advancedEmpireAndBuildQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain,\r\n  eclipseStage\r\n) => {\r\n  return [\r\n    {\r\n      question: `<div>\r\n      Then, it will build a building ${getResourceImage(\r\n        \"building\"\r\n      )} spending ${spendResourcesNoText(wood, isObsidian, 2)} it will\r\n      attempt to build as far from Teotihuacan as possible and\r\n      starting in the topmost region available. Teotibot receives\r\n      rewards shown, check the map for clarifications.</div>\r\n      </br>\r\n      <div><span class=\"step\">2.</span> <span class=\"red\">If 1. not performed</span> & Teotibot has at <span class=\"bold\">least 1</span> worker on the ${getActionBoard(\r\n        \"Forest\"\r\n      )}, it gains ${gainResourcesNoText(\r\n        wood,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      )}</div>\r\n      </br>\r\n      <div><span class=\"step\">3.</span> <span class=\"green\">If 1. or 2. performed</span> power ${getResourceImage(\r\n        \"powerup\"\r\n      )} up a worker on the relevant Action Board (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then advance the powered-up worker (or the new worker, if the old one triggered ascension).</div>\r\n      </br>\r\n      <div>\r\n      <span class=\"step\">4.</span> <span class=\"red\">If neither performed:</span>\r\n      </div>\r\n      ${powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      )}\r\n      `,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 75,\r\n      questionId: 1,\r\n      isEnd: true,\r\n      showMansion: true,\r\n      showPathSelector: true,\r\n      isAdvanced: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst advancedConstructionQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: `<div><span class=\"step\">1.</span> If Teotibot has ${hasResourcesNoText(\r\n        stone,\r\n        isObsidian,\r\n        2\r\n      )} and at <span class=\"bold\">least 1</span> worker on ${getActionBoard(\r\n        \"Construction\"\r\n      )}.</div>\r\n      <ul>\r\n        <li>Spends ${spendResourcesNoText(stone, isObsidian, 2)}.</li>\r\n        <li>Builds the leftmost available Pyramid Tile ${getResourceImage(\r\n          \"pyramidt\"\r\n        )}</li>\r\n        <li>Places the Tile (randomly oriented) onto the top left, lowest level available space</li>\r\n        <li>Scores VP ${getResourceImage(\r\n          \"vp\"\r\n        )} in accordance with level + 2.</li>\r\n        <li>Advances on the pyramid track.</li>\r\n        <li>Advances on any temple ${getResourceImage(\"tw\")}.</li>\r\n      </ul>\r\n      <div><span class=\"step\">2.</span> <span class=\"red\">If 1. not performed</span> & Teotibot has at <span class=\"bold\">least 1</span> worker on the ${getActionBoard(\r\n        \"Stone Quarry\"\r\n      )}, gain ${gainResourcesNoText(\r\n        stone,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      )}.</div>\r\n      </br>\r\n      <div><span class=\"step\">3.</span> <span class=\"green\">If 1. or 2. performed</span> power ${getResourceImage(\r\n        \"powerup\"\r\n      )} up a worker on the relevant Action Board (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then advance the powered-up worker (or the new worker, if the old one triggered ascension).</div>\r\n      </br>\r\n      <div><span class=\"step\">4.</span> <span class=\"red\">If neither performed:</span></div>\r\n      ${powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      )}`,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n      questionId: 1,\r\n      isEnd: true,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst advancedDecorationsQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: `<div><span class=\"step\">1.</span> If Teotibot has ${hasResourcesNoText(\r\n        gold,\r\n        isObsidian,\r\n        2\r\n      )} and at least one worker on the ${getActionBoard(\r\n        \"Decorations\"\r\n      )}, it spends ${spendResourcesNoText(\r\n        gold,\r\n        isObsidian,\r\n        2\r\n      )} and places the top most Decoration tile onto an available Decorations space on the Pyramid (clockwise from the top). Then the bot:</div>\r\n      <ul>\r\n        <li>Scores 5 Victory Points ${getResourceImage(\"vp\")}</li>\r\n        <li><span class=\"temple-tip bold\">Advances*</span> on the Pyramid track ${getResourceImage(\r\n          \"pyramid\"\r\n        )}</li>\r\n        <li><span>Advances</span> on any temple by one</li>\r\n      </ul>\r\n      <div><span class=\"step\">2.</span> <span class=\"red\">If 1. not performed</span> & Teotibot has at <span class=\"bold\">least 1</span> worker on the Gold Deposits  action board, it gains ${gainResourcesNoText(\r\n        gold,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      )}.</div>\r\n      </br>\r\n      <div><span class=\"step\">3.</span> <span class=\"green\">If 1. or 2. performed</span> power ${getResourceImage(\r\n        \"powerup\"\r\n      )} up a worker on the relevant Action Board (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then advance the powered-up worker (or the new worker, if the old one triggered ascension).</div>\r\n      </br>\r\n      <div><span class=\"step\">4.</span> <span class=\"red\">If neither performed:</span></div>\r\n      ${powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      )}`,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n      questionId: 1,\r\n      isEnd: true,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst advancedAlchemyQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain\r\n) => {\r\n  return [\r\n    {\r\n      question: `<div><span class=\"step\">1.</span> If Teotibot has ${hasResourcesNoText(\r\n        gold,\r\n        isObsidian,\r\n        1\r\n      )}, and at <span class=\"bold\">least 1</span> worker on the ${getActionBoard(\r\n        \"Alchemy\"\r\n      )}, it spends ${spendResourcesNoText(\r\n        gold,\r\n        isObsidian,\r\n        1\r\n      )} and then gains the technology ${getResourceImage(\r\n        \"tech\"\r\n      )} of the lowest number that does not have any markers (yours, or Teotibot's).</div>\r\n      <div><ul>\r\n      <li>If all remaining tiles have your marker on, then Teotibot\r\n      gains the lowest numbered technology ${getResourceImage(\r\n        \"tech\"\r\n      )} which it does not\r\n      yet have, while you score the <span class=\"bold\">3</span> VP ${getResourceImage(\r\n        \"vp\"\r\n      )} as normal.</li>\r\n      <li><span class=\"temple-tip bold\">Advance*</span> on the temple ${getResourceImage(\r\n        \"tw\"\r\n      )} matching the gained\r\n      technology ${getResourceImage(\"tech\")} and power up ${getResourceImage(\r\n        \"powerup\"\r\n      )} a worker on this Action Board\r\n      (resolve any <span class=\"ascend-tip bold\">Ascensions</span> normally). Then the bot advances the powered-up worker\r\n      (or the new worker, if the old one triggered Ascension).</li></ul></div>\r\n      ${advancement(isAlternateTeotibotMovement, topDirectionTile)}\r\n     <div><span class=\"step\">2.</span> <span class=\"red\">If the above step failed,</span> power up ${getResourceImage(\r\n       \"powerup\"\r\n     )} ${getResourceImage(\"powerup\")} its lowest unlocked worker\r\n    by <span class=\"bold\">2</span>, without carrying out any actions or advancing any\r\n    workers.`,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n      questionId: 1,\r\n      isEnd: true,\r\n    },\r\n  ];\r\n};\r\n\r\nconst advancedMaskQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain,\r\n  isAltarsAndShamans\r\n) => {\r\n  return [\r\n    {\r\n      question: `<div>If Teotibot does not yet have one of the masks available near\r\n      one of the Worship actions ${getResourceImage(\r\n        \"worshipspace\"\r\n      )} (on the Palace ${getActionImage(\"no1\")} Action Board\r\n      or on any of the 4 temple bands) and it can pay for its cost,\r\n      it pays that cost and immediately gains that mask.</div> \r\n      <div>\r\n      <ul>\r\n        <li>Draw a replacement for it immediately, and do not move any dice.</li>\r\n        <li>Take the lowest number mask first.</li>\r\n        <li>If tied, it picks the first one clockwise from (and including) the Palace ${getActionImage(\r\n          \"no1\"\r\n        )} action board.</li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"red\">If the above did not yield any masks:</div>\r\n    </br>\r\n    ${powerupMsg(\r\n      isAlternateTeotibotMovement,\r\n      topDirectionTile,\r\n      teotibotVPFor10Cocoa\r\n    )}`,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n      questionId: 1,\r\n      isEnd: true,\r\n      showMansion: true,\r\n      showAltarsAndShamans: isAltarsAndShamans,\r\n    },\r\n  ];\r\n};\r\n\r\nconst advancedMasteryQuestions = (\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  teotibotVPFor10Cocoa,\r\n  isObsidian,\r\n  teotibotResourcesToGain,\r\n  isEmpires\r\n) => {\r\n  return [\r\n    {\r\n      question: `<div><span class=\"step\">1.</span> Find the bot's highest powered unlocked die.</div>\r\n      </br>\r\n      <div><span class=\"step\">2.</span> Perform that action board's action if possible:</div>\r\n      <ul>\r\n      <li>${getActionBoard(\"Forest\", true)}: Gain ${gainResourcesNoText(\r\n        wood,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      )}</li>\r\n      <li>${getActionBoard(\"Stone Quarry\", true)}: Gain ${gainResourcesNoText(\r\n        stone,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      )}</li>\r\n      <li>${getActionBoard(\"Gold Deposits\", true)}: Gain ${gainResourcesNoText(\r\n        gold,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      )}</li>\r\n\r\n      <li>${getActionBoard(\"Alchemy\", true)}: Attempt the board's action.</li>\r\n      <li>${getActionBoard(\r\n        isEmpires ? \"Conquest\" : \"Nobles\",\r\n        true\r\n      )}: Attempt the board's action.</li>\r\n      <li>${getActionBoard(\r\n        \"Decorations\",\r\n        true\r\n      )}: Attempt the board's action.</li>\r\n      <li>${getActionBoard(\r\n        \"Construction\",\r\n        true\r\n      )}: Attempt the board's action.</li>\r\n      </ul>\r\n      <div><span class=\"step\">3.</span>\r\n        <span class=\"red\">If the action failed,</span> find the bot's next highest powered unlocked worker, and repeat step 2.\r\n      </div>\r\n      </br>\r\n      <div><span class=\"step\">4.</span> <span class=\"green\">If an action is successful</span>, power up the worker in question (this might trigger an Ascension, which is resolved normally). Then advance the powered-up worker (or the new worker, if the old one triggered ascension).</div>\r\n      </br>\r\n      <div><span class=\"step\">5.</span> <span class=\"red\">If all workers failed to perform an action</span>: ${powerupMsg(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa\r\n      )}\r\n      `,\r\n      condition: ({ answers }) => isEmpty(answers),\r\n      margin: 50,\r\n      questionId: 1,\r\n      isEnd: true,\r\n      showMansion: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport const AdvancedTilesToQuestions = (\r\n  tileSrc,\r\n  isAlternateTeotibotMovement,\r\n  topDirectionTile,\r\n  isObsidian,\r\n  teotibotResourcesToGain,\r\n  eclipseStage,\r\n  teotibotStepsPerWorship,\r\n  teotibotVPFor10Cocoa,\r\n  isHeightOfDevelopment,\r\n  isEmpires\r\n) => {\r\n  var result;\r\n\r\n  switch (tileSrc) {\r\n    case alchemy:\r\n      result = advancedAlchemyQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      );\r\n      break;\r\n    case construction:\r\n      result = advancedConstructionQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      );\r\n      break;\r\n    case nobles:\r\n      result = isEmpires\r\n        ? advancedEmpireAndBuildQuestions(\r\n            isAlternateTeotibotMovement,\r\n            topDirectionTile,\r\n            teotibotVPFor10Cocoa,\r\n            isObsidian,\r\n            teotibotResourcesToGain,\r\n            eclipseStage\r\n          )\r\n        : advancedNoblesQuestions(\r\n            isAlternateTeotibotMovement,\r\n            topDirectionTile,\r\n            teotibotVPFor10Cocoa,\r\n            isObsidian,\r\n            teotibotResourcesToGain,\r\n            eclipseStage\r\n          );\r\n      break;\r\n    case decorations:\r\n      result = advancedDecorationsQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa,\r\n        isObsidian,\r\n        teotibotResourcesToGain\r\n      );\r\n      break;\r\n    case mask_collection:\r\n      result = advancedMaskQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa,\r\n        isObsidian,\r\n        teotibotResourcesToGain,\r\n        false\r\n      );\r\n      break;\r\n    case mask_period:\r\n      result = advancedMaskQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa,\r\n        isObsidian,\r\n        teotibotResourcesToGain,\r\n        true\r\n      );\r\n      break;\r\n    case worship:\r\n      result = worshipQuestions(teotibotStepsPerWorship);\r\n      break;\r\n    case mastery:\r\n      result = advancedMasteryQuestions(\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        teotibotVPFor10Cocoa,\r\n        isObsidian,\r\n        teotibotResourcesToGain,\r\n        isEmpires\r\n      );\r\n      break;\r\n    case eclipse:\r\n      result = eclipseQuestions();\r\n      break;\r\n    default:\r\n      result = [];\r\n  }\r\n  return result;\r\n};\r\n","import { css } from \"@emotion/react\";\r\nimport { mediaQueries } from \"../variables\";\r\n\r\nexport const setupContainer = css`\r\n  color: #eeeddb;\r\n\r\n  h2 {\r\n    margin: 1.5rem 0;\r\n    color: chocolate;\r\n  }\r\n\r\n  h3 {\r\n    margin: 1.5rem 0;\r\n  }\r\n`;\r\n\r\nexport const setupSection = css`\r\n  margin: 0 0 5rem 0.5rem;\r\n\r\n  @media ${mediaQueries.isMaxXs} {\r\n    margin: 2rem 0 2rem 0.2rem;\r\n  }\r\n`;\r\n\r\nexport const setup = css``;\r\n\r\nexport const btnSettings = css`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  cursor: pointer;\r\n  width: 64px;\r\n  margin: 5px 5px 0 0;\r\n`;\r\n\r\nexport const orangeTemple = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: 2rem 0;\r\n\r\n  img {\r\n    width: 50px;\r\n    vertical-align: middle;\r\n  }\r\n`;\r\n\r\nexport const btnContinue = css`\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 2rem;\r\n  width: 100%;\r\n  margin: 0 0 25px 0;\r\n  cursor: pointer;\r\n\r\n  span {\r\n    border: 1px solid black;\r\n    padding: 10px;\r\n    background: #35a7c6;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nexport const btnNew = css`\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 2rem;\r\n  width: 100%;\r\n  cursor: pointer;\r\n\r\n  span {\r\n    border: 1px solid black;\r\n    padding: 10px;\r\n    background: #35a7c6;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nexport const tileContainer = css`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const startTile = css`\r\n  width: 100px;\r\n  height: 0;\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    width: 75px;\r\n  }\r\n\r\n  img {\r\n    width: 100%;\r\n  }\r\n\r\n  span {\r\n    display: block;\r\n    margin-top: 11px;\r\n    width: 50px;\r\n    text-align: center;\r\n    justify-content: center;\r\n    color: tan;\r\n  }\r\n\r\n  .hide {\r\n      visibility: hidden;\r\n  }\r\n`;\r\n\r\nexport const resourceContainer = css``;\r\n\r\nexport const resource = css`\r\n  display: flex;\r\n  height: 50px;\r\n  position: absolute;\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    height: 50px;\r\n  }\r\n`;\r\n\r\nexport const startResource = css`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n\r\n  span {\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  img {\r\n    height: 50px;\r\n  }\r\n`;\r\n\r\nexport const techTile = css`\r\n  width: 120px;\r\n  position: absolute;\r\n`;\r\n\r\nexport const templeTile = css`\r\n  width: 180px;\r\n  position: absolute;\r\n`;\r\n\r\nexport const priestPriestessTile = css`\r\n  width: 95%;\r\n  position: absolute;\r\n\r\n  @media ${mediaQueries.isSm} {\r\n    width: 48%;\r\n  }\r\n`;\r\n\r\nexport const action = css`\r\n  width: 35px;\r\n`;\r\n\r\nexport const actionText = css`\r\n  display: block;\r\n`;\r\n\r\nexport const diceFace = css`\r\n  width: 50px;\r\n`;\r\n\r\nexport const neutralContainer = css`\r\n  display: flex;\r\n`;\r\n\r\nexport const diceContainer = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n`;\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport default function useMedia(queries, values, defaultValue) {\r\n  const match = () => values[queries.findIndex(q => matchMedia(q).matches)] || defaultValue\r\n  const [value, set] = useState(match)\r\n  useEffect(() => {\r\n    const handler = () => set(match)\r\n    window.addEventListener('resize', handler)\r\n    return () => window.removeEventListener('resize', handler)\r\n  }, [])\r\n  return value\r\n}\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport {\r\n  diceFace,\r\n  neutralContainer,\r\n  action,\r\n  actionText,\r\n  diceContainer,\r\n} from \"./Setup.css\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport useMedia from \"../UseMedia\";\r\n\r\nexport const DicePlacement = (props) => {\r\n  const tileHeight = 200;\r\n\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\r\n      \"(min-width: 1500px)\",\r\n      \"(min-width: 1000px)\",\r\n      \"(min-width: 600px)\",\r\n      \"(max-width: 480px)\",\r\n    ],\r\n    [4, 4, 4, 2],\r\n    2\r\n  );\r\n\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  // Hook3: Hold items\r\n  const [items, set] = useState(props.dicePlacements);\r\n\r\n  useEffect(() => {\r\n    set(props.dicePlacements);\r\n  }, [props.dicePlacements]);\r\n\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n\r\n      return {\r\n        ...child,\r\n        x,\r\n        y,\r\n      };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.key,\r\n    from: ({ x, y }) => ({ x: 0, y, opacity: 0 }),\r\n    enter: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 1000, mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n    onRest: props.onRest,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      css={neutralContainer}\r\n      style={{ height: Math.max(...heights) }}\r\n    >\r\n      {transitions((style, item) => (\r\n        <a.div css={diceContainer} key={item.name} style={style}>\r\n          <div>\r\n            {item.worship && (\r\n              <a.img\r\n                css={diceFace}\r\n                src={`${process.env.PUBLIC_URL}/game_resources/worshipspace.png`}\r\n              />\r\n            )}\r\n            <a.img\r\n              css={diceFace}\r\n              src={`${process.env.PUBLIC_URL}/game_dice/${item.diceFace.name}.png`}\r\n            />\r\n            <a.img\r\n              css={action}\r\n              src={`${process.env.PUBLIC_URL}/actions/no${item.number}.png`}\r\n            />\r\n          </div>\r\n          <span style={{ color: item.color }} css={actionText}>\r\n            {item.actionName}\r\n          </span>\r\n        </a.div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","\r\nimport { css } from '@emotion/react'\r\n\r\nexport const mansionContainer = css`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const mansionDice = css`\r\n    margin: 1rem 0;\r\n`;","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/react\";\r\nimport { dFaces, getActionImage } from \"./Constants\";\r\nimport Dice from \"react-dice-roll\";\r\nimport { generateRandomInteger, getMansionResults } from \"./Logic\";\r\nimport { useState } from \"react\";\r\nimport parse from \"html-react-parser\";\r\nimport { mansionContainer, mansionDice } from \"./Mansion.css\";\r\n\r\nexport const Mansion = (props) => {\r\n  const [diceValue, setDiceValue] = useState(0);\r\n\r\n  const onRoll = (value) => {\r\n    var result = false;\r\n    setDiceValue(value);\r\n    if (value <= 3) {\r\n      result = true;\r\n    }\r\n    props.onMansionResult(result);\r\n  }\r\n\r\n  return (\r\n    <div css={mansionContainer}>\r\n      <span>\r\n        If Teotibot moved a worker past the Mansion{\" \"}\r\n        {parse(getActionImage(\"no1\"))} Action Board, roll the die:\r\n      </span>\r\n      <div css={mansionDice}>\r\n        <Dice\r\n          faces={dFaces}\r\n          size={50}\r\n          rollingTime={generateRandomInteger(500, 1500)}\r\n          onRoll={(value) => onRoll(value)}\r\n          disabled={diceValue > 0}\r\n        />\r\n      </div>\r\n      {diceValue > 0 && (\r\n        <div>\r\n          {parse(getMansionResults(diceValue))}{\" \"}\r\n          {diceValue <= 3 && (\r\n            <ul>\r\n              <li>\r\n                Discard and replace the Major Discovery tile on the Mansion\r\n                board.\r\n              </li>\r\n              <li>\r\n                If able, Teotibot spends 1 cocoa to advance once on the temple\r\n                associated with that Royal tile.\r\n              </li>\r\n              <li>\r\n                The owner of the Claim marker (whether you or Teotibot) receives\r\n                a free power-up as normal. In Teotibot's case, it powers up its\r\n                highest power unlocked worker.\r\n              </li>\r\n              <li>\r\n                The Worship effect of the Royal tile is never performed by the\r\n                Teotibot.\r\n              </li>\r\n            </ul>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/react\";\r\nimport { useState } from \"react\";\r\nimport { useSpring, animated } from \"@react-spring/web\";\r\nimport { generateRandomInteger } from \"./Logic\";\r\nimport { pathTile, drawTile, pathSelectorContainer } from \"./QuestionForm.css\";\r\n\r\nexport const PathSelector = (props) => {\r\n  const [tileNo, setTileNo] = useState(1);\r\n  const [state, toggle] = useState(false);\r\n  const { x } = useSpring({\r\n    from: { x: 0 },\r\n    x: state ? 1 : 0,\r\n    config: { duration: 200 },\r\n  })\r\n\r\n  const drawPathTile = () => {\r\n    toggle(false);\r\n    setTimeout(() => {\r\n      setTileNo(generateRandomInteger(1, 4));\r\n      toggle(true);\r\n    }, 300)\r\n  }\r\n\r\n  return (\r\n    <div css={pathSelectorContainer}>\r\n      <div css={drawTile} onClick={drawPathTile}>Draw Path Tile</div>\r\n      <animated.div\r\n          style={{\r\n            opacity: x.to({ range: [0, 1], output: [0, 1] }),\r\n          }}>\r\n           <animated.img style={{\r\n            opacity: x.to({ range: [0, 1], output: [0, 1] }),\r\n          }} css={pathTile} src={`${process.env.PUBLIC_URL}/empire/PT${tileNo}.jpg`} />\r\n        </animated.div>\r\n    </div>\r\n  );\r\n};\r\n","\r\nimport { css } from '@emotion/react'\r\n\r\nexport const appContainer = css`\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: calc(10px + 2vmin);\r\n  color: white;\r\n`;\r\n\r\nexport const checkbox = css`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nexport const checkboxTooltip = css`\r\n  margin-left: 2rem;\r\n  color: chocolate;\r\n  font-size: 1rem;\r\n`\r\n\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/react\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport React from \"react\";\r\nimport { checkboxTooltip, checkbox } from \"./Checkbox.css\";\r\nimport { regionDescriptions } from \"./Constants\";\r\nimport {\r\n  empireMap,\r\n  empireMapContainer,\r\n  regionTooltip,\r\n} from \"./QuestionForm.css\";\r\n\r\nexport class EmpireMap extends React.Component {\r\n  render() {\r\n    return (\r\n      <div css={empireMapContainer}>\r\n        {regionDescriptions.map((region) => {\r\n          return (\r\n            <Tippy\r\n              content={\r\n                <div className=\"region-descriptions\">\r\n                  <img\r\n                    src={`${process.env.PUBLIC_URL}/empire/${region.name}.jpg`}\r\n                  />\r\n                  <div>{region.description}</div>\r\n                  {region.teotibotDescription && (\r\n                    <div>{region.teotibotDescription}</div>\r\n                  )}\r\n                </div>\r\n              }\r\n            >\r\n              <div css={regionTooltip(region.top, region.left)}>?</div>\r\n            </Tippy>\r\n          );\r\n        })}\r\n        <img\r\n          css={empireMap}\r\n          src={`${process.env.PUBLIC_URL}/empire/empire_map_teotibot.jpg`}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/** @jsx jsx */\r\nimport React, { useState } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport parse from \"html-react-parser\";\r\nimport {\r\n  buttons,\r\n  questionModal,\r\n  modalClose,\r\n  questionModalContent,\r\n  questionForm,\r\n  questionModalPlacements,\r\n  modalHeading,\r\n  strikeOut,\r\n  masteryForm,\r\n  btnContinue,\r\n  modalHeadingEclipse,\r\n  endGame,\r\n  content,\r\n  pathSelectorQuestion,\r\n  pathSelectorQuestionAdvanced,\r\n  stepContainer,\r\n} from \"./QuestionForm.css\";\r\nimport {\r\n  powerupMsg,\r\n  getResourceImage,\r\n  getActionImage,\r\n  Eclipse,\r\n  masteryQuestions,\r\n  TilesToQuestions,\r\n  AdvancedTilesToQuestions,\r\n  shamanText,\r\n  hasResourcesNoText,\r\n  getActionBoard,\r\n  Neutral,\r\n} from \"./Constants\";\r\nimport { DicePlacement } from \"./Setup/DicePlacement\";\r\nimport { getNeutralArray } from \"./Logic\";\r\nimport { cloneDeep } from \"lodash\";\r\nimport { tippy } from \"@tippyjs/react\";\r\nimport { Mansion } from \"./Mansion\";\r\nimport { PathSelector } from \"./PathSelector\";\r\nimport { EmpireMap } from \"./EmpireMap\";\r\n\r\nconst Question = (props) => {\r\n  const [isMansionResult, setIsMansionResult] = useState(false);\r\n\r\n  const onMansionResult = (value) => {\r\n    setIsMansionResult(value);\r\n  };\r\n\r\n  return (\r\n    <div css={questionForm(props.margin)}>\r\n      {!isMansionResult && props.isAdvanced && props.showPathSelector && (\r\n        <div css={pathSelectorQuestionAdvanced}>\r\n          <div css={stepContainer}>\r\n            <span class=\"step\">1.</span> If Teotibot has{\" \"}\r\n            {parse(hasResourcesNoText(\"wood\", props.isObsidian, 2))} and at{\" \"}\r\n            <span class=\"bold\">least 1</span> worker on the{\" \"}\r\n            {parse(getActionBoard(\"Conquest\"))}\r\n          </div>\r\n\r\n          <span>\r\n            It will place two Warriors in Teotihuacan, one at a time, resolving\r\n            all moves as explained in the Empire reward section. If it has no\r\n            more Warriors, skip this step.\r\n          </span>\r\n\r\n          <PathSelector />\r\n\r\n          <EmpireMap />\r\n        </div>\r\n      )}\r\n      {/* Show path selector for basic forms */}\r\n      {!isMansionResult && !props.isAdvanced && props.showPathSelector && (\r\n        <div css={pathSelectorQuestion}>\r\n          <span>\r\n            Teotibot will place two Warriors in Teotihuacan (if able), one at a\r\n            time. When one of its warriors is pushed out of Teotihuacan, draw a\r\n            new path tile. The tile shows the region the warrior will move into:\r\n          </span>\r\n          <PathSelector />\r\n          <EmpireMap />\r\n        </div>\r\n      )}\r\n      {!isMansionResult && props.children}\r\n      {/* Show mansion component for all forms */}\r\n      {props.isMansion && props.showMansion && (\r\n        <div className=\"mansion\">\r\n          <h4>Mansion</h4>\r\n          <Mansion onMansionResult={onMansionResult} />\r\n        </div>\r\n      )}\r\n      {props.showAltarsAndShamans &&\r\n        props.isAltarsAndShamans &&\r\n        parse(shamanText())}\r\n      {!props.isEnd ? (\r\n        <div css={content(props.margin)}>\r\n          <div\r\n            onClick={\r\n              !props.endsOnYes\r\n                ? () => {\r\n                    props.onSelect(\"yes\");\r\n                  }\r\n                : () => props.onExitForm(true)\r\n            }\r\n          >\r\n            yes\r\n          </div>\r\n          <div\r\n            onClick={\r\n              !props.fromMastery\r\n                ? () => {\r\n                    props.onSelect(\"no\");\r\n                  }\r\n                : () => {\r\n                    props.onRestartQuestions(props.masteryQuestionId);\r\n                  }\r\n            }\r\n          >\r\n            no\r\n          </div>\r\n        </div>\r\n      ) : !props.noButtons ? (\r\n        <CloseForm\r\n          margin={props.margin}\r\n          isEnd={props.isEnd}\r\n          onExitForm={props.onExitForm}\r\n          fromMastery={props.fromMastery}\r\n          questionId={props.questionId}\r\n          onRestartQuestions={props.onRestartQuestions}\r\n        />\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction CloseForm(props) {\r\n  return (\r\n    <div>\r\n      <div css={buttons(props.margin)}>\r\n        <div onClick={() => props.onExitForm(true)}>continue</div>\r\n        {props.questionId !== 1 && (props.isEnd || props.fromMastery) && (\r\n          <div onClick={props.onRestartQuestions}>restart</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport class QuestionForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      answers: {},\r\n      masteryAnswers: [],\r\n      questions: [],\r\n      fromMastery: false,\r\n      neutralPlacements1: [],\r\n      neutralPlacements2: [],\r\n    };\r\n\r\n    this.onExitForm = this.onExitForm.bind(this);\r\n    this.onCancelEclipse = this.onCancelEclipse.bind(this);\r\n    this.onExitNeutral = this.onExitNeutral.bind(this);\r\n    this.onRestartQuestions = this.onRestartQuestions.bind(this);\r\n    this.onClickMasteryOption = this.onClickMasteryOption.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const props = this.props;\r\n    var tiles = cloneDeep(props.tiles);\r\n\r\n    this.setState({\r\n      neutralPlacements1:\r\n        (props.tileName === Eclipse && props.eclipseStage <= 2) ||\r\n        props.tileName === Neutral\r\n          ? getNeutralArray(tiles)\r\n          : [],\r\n      neutralPlacements2:\r\n        (props.tileName === Eclipse && props.eclipseStage <= 2) ||\r\n        props.tileName === Neutral\r\n          ? getNeutralArray(tiles)\r\n          : [],\r\n      questions: !props.isAdvanced\r\n        ? TilesToQuestions(\r\n            props.tileSrc,\r\n            props.isAlternateTeotibotMovement,\r\n            props.topDirectionTile,\r\n            props.isObsidian,\r\n            props.teotibotResourcesToGain,\r\n            props.eclipseStage,\r\n            props.teotibotStepsPerWorship,\r\n            props.teotibotVPFor10Cocoa,\r\n            props.isHeightOfDevelopment,\r\n            props.isEmpires\r\n          )\r\n        : AdvancedTilesToQuestions(\r\n            props.tileSrc,\r\n            props.isAlternateTeotibotMovement,\r\n            props.topDirectionTile,\r\n            props.isObsidian,\r\n            props.teotibotResourcesToGain,\r\n            props.eclipseStage,\r\n            props.teotibotStepsPerWorship,\r\n            props.teotibotVPFor10Cocoa,\r\n            props.isHeightOfDevelopment,\r\n            props.isEmpires\r\n          ),\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    tippy(\".temple-tip\", {\r\n      allowHTML: true,\r\n      content: `<div class=\"templeTip\"><div>*Advance Teotibot on its highest temple ignoring topmost.</div>\r\n    <div class=\"priority\">\r\n      Temple priority: <br/>\r\n      ${getResourceImage(\"tb\")} ->\r\n      ${getResourceImage(\"tr\")} ->\r\n      ${getResourceImage(\"tg\")}\r\n    </div>\r\n    <div class=\"priority\">\r\n      Resource priority:<br/>\r\n      Least -> ${getResourceImage(\"gold\")} -> ${getResourceImage(\r\n        \"stone\"\r\n      )} -> ${getResourceImage(\"wood\")}\r\n    </div></div>`,\r\n    });\r\n    tippy(\".ascend-tip\", {\r\n      allowHTML: true,\r\n      content: `<div class=\"templeTip\">\r\n      <div class=\"tooltip-text\">\r\n       <span>- Advance when worker ${getResourceImage(\r\n         \"worker\"\r\n       )} reaches level 6</span>\r\n       <span>- Advance Marker one step on the avenue ${getResourceImage(\r\n         \"avenue\"\r\n       )} track.</span>\r\n       <span>- Move new die to the Palace action board ${getActionImage(\r\n         \"no1\"\r\n       )}</span>\r\n       <span>- Select the reward: 5vp, 5 cocoa, Temple Advance.</span>\r\n        <span>- Pay 3 to advance twice on 1 or 2 temples.</span>\r\n        <span>- If only 3 workers, gain your 4th worker starting power of 3, place in palace 1 general area.</span>\r\n        <span>- Advance the light disc on the Calendar track by one. This might trigger an Eclipse.</span>\r\n      </div></div>`,\r\n    });\r\n  }\r\n\r\n  onRestartQuestions(i) {\r\n    if (this.state.fromMastery) {\r\n      const masteryAnswers =\r\n        i > 0 ? [...this.state.masteryAnswers, i] : this.state.masteryAnswers;\r\n      this.setState({\r\n        fromMastery: false,\r\n        questions: TilesToQuestions(\"mastery\"),\r\n        masteryAnswers,\r\n        answers: {},\r\n      });\r\n    } else {\r\n      this.setState({\r\n        answers: {},\r\n      });\r\n    }\r\n  }\r\n\r\n  onClickMasteryOption(\r\n    tileSrc,\r\n    isAlternateTeotibotMovement,\r\n    topDirectionTile,\r\n    isObsidian,\r\n    teotibotResourcesToGain,\r\n    eclipseStage\r\n  ) {\r\n    this.setState({\r\n      questions: TilesToQuestions(\r\n        tileSrc,\r\n        isAlternateTeotibotMovement,\r\n        topDirectionTile,\r\n        isObsidian,\r\n        teotibotResourcesToGain,\r\n        eclipseStage\r\n      ),\r\n      fromMastery: true,\r\n    });\r\n  }\r\n\r\n  onExitForm(shouldShuffle) {\r\n    this.props.onCloseClick(shouldShuffle);\r\n  }\r\n\r\n  onCancelEclipse() {\r\n    this.props.onCancelEclipseClick();\r\n  }\r\n\r\n  onExitNeutral() {\r\n    this.props.onCloseNeutral();\r\n  }\r\n\r\n  render() {\r\n    var answers = this.state.answers;\r\n    var questions = this.state.questions;\r\n    var neutralPlacements1 = this.state.neutralPlacements1;\r\n    var neutralPlacements2 = this.state.neutralPlacements2;\r\n    var fromMastery = this.state.fromMastery;\r\n\r\n    const qs = questions.filter((q) => {\r\n      if (!q.condition) {\r\n        // no condition set; always visible\r\n        return true;\r\n      }\r\n      return q.condition({ answers });\r\n    });\r\n\r\n    return (\r\n      <div css={questionModal}>\r\n        <div css={questionModalContent}>\r\n          {this.props.isMoveNeutral && (\r\n            <div\r\n              css={modalClose}\r\n              onClick={\r\n                this.props.tileName === Eclipse\r\n                  ? () => this.onCancelEclipse()\r\n                  : () => this.onExitForm(false)\r\n              }\r\n            >\r\n              <img\r\n                src={`${process.env.PUBLIC_URL}/game_resources/back.png`}\r\n                alt=\"Cancel\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* //Heading */}\r\n          {this.props.tileName === Eclipse ? (\r\n            <div css={modalHeadingEclipse}>\r\n              <h2>{this.props.tileName}</h2>\r\n              <img\r\n                src={`${process.env.PUBLIC_URL}/game_resources/${this.props.tileSrc}.png`}\r\n                alt={this.props.tileName}\r\n              />\r\n            </div>\r\n          ) : this.props.tileName === Neutral ? (\r\n            <div css={modalHeadingEclipse}>\r\n              <h2>Neutral Player</h2>\r\n              <img\r\n                src={`${process.env.PUBLIC_URL}/game_resources/${this.props.tileSrc}.png`}\r\n                alt={this.props.tileName}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div\r\n              css={modalHeading(\r\n                this.props.isAdvanced ||\r\n                  this.props.tileName === \"Empire and Build\"\r\n                  ? 100\r\n                  : 70\r\n              )}\r\n            >\r\n              <h2>{this.props.tileName}</h2>\r\n              <img\r\n                src={`${process.env.PUBLIC_URL}/bot_tiles/${this.props.tileSrc}.png`}\r\n                alt={this.props.tileName}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Questions */}\r\n          {qs.map((question) => (\r\n            <Question\r\n              key={question.questionId}\r\n              masteryQuestionId={question.masteryQuestionId}\r\n              questionId={question.questionId}\r\n              isEnd={question.isEnd}\r\n              endsOnYes={question.endsOnYes}\r\n              noButtons={question.noButtons}\r\n              margin={question.margin}\r\n              isMansion={this.props.isMansion}\r\n              isAltarsAndShamans={this.props.isAltarsAndShamans}\r\n              showMansion={question.showMansion}\r\n              showPathSelector={question.showPathSelector}\r\n              isAdvanced={question.isAdvanced}\r\n              showAltarsAndShamans={question.showAltarsAndShamans}\r\n              onExitForm={this.onExitForm}\r\n              fromMastery={fromMastery}\r\n              onRestartQuestions={this.onRestartQuestions}\r\n              onSelect={(answer) => {\r\n                const answers = {\r\n                  ...this.state.answers,\r\n                  [question.questionId]: answer,\r\n                };\r\n                this.setState({ answers });\r\n              }}\r\n            >\r\n              {parse(question.question)}\r\n            </Question>\r\n          ))}\r\n\r\n          {this.props.tileName === Eclipse && this.props.eclipseStage <= 2 && (\r\n            <div css={questionModalPlacements}>\r\n              <h3>Neutral placements</h3>\r\n              <h4>Neutral player 1</h4>\r\n              <DicePlacement dicePlacements={neutralPlacements1} />\r\n              <h4>Neutral player 2</h4>\r\n              <DicePlacement dicePlacements={neutralPlacements2} />\r\n            </div>\r\n          )}\r\n\r\n          {this.props.tileName === Neutral && (\r\n            <div css={questionModalPlacements}>\r\n              <h3>Neutral placements</h3>\r\n              <h4>Neutral player 1</h4>\r\n              <DicePlacement dicePlacements={neutralPlacements1} />\r\n              <h4>Neutral player 2</h4>\r\n              <DicePlacement dicePlacements={neutralPlacements2} />\r\n            </div>\r\n          )}\r\n\r\n          {this.props.eclipseStage === 3 && (\r\n            <div css={endGame}>\r\n              <h3>End Game</h3>\r\n              <div>\r\n                Each player who has qualified for one or more Temple Bonus tiles\r\n                (by being on the penultimate or topmost step of a temple) scores\r\n                additional Victory Points based on any Bonus tiles they have\r\n                reached. Refer to the Appendix for an explanation of all Bonus\r\n                tiles.\r\n              </div>\r\n              <h3>Teotibot scoring</h3>\r\n              <ul>\r\n                <li>\r\n                  <span className=\"bold\">1</span> Victory Point per leftover\r\n                  resource/cocoa.\r\n                </li>\r\n                <li>\r\n                  <span className=\"bold\">\r\n                    {this.props.teotibotVPForTechTiles}\r\n                  </span>{\" \"}\r\n                  Victory Points for Technology{\" \"}\r\n                  {parse(getResourceImage(\"tech\"))} it has a marker on.\r\n                </li>\r\n                <li>\r\n                  <span className=\"bold\">\r\n                    {this.props.teotibotVPForTempleTiles}\r\n                  </span>{\" \"}\r\n                  Victory Points for each Temple Bonus tile{\" \"}\r\n                  {parse(getResourceImage(\"templebonus\"))} it has reached\r\n                  (instead of scoring them normally).\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {this.props.tileName === Eclipse && (\r\n            <div css={buttons}>\r\n              <div css={btnContinue} onClick={() => this.onExitForm(false)}>\r\n                continue\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {this.props.tileName === Neutral && (\r\n            <div css={buttons}>\r\n              <div css={btnContinue} onClick={this.onExitNeutral}>\r\n                continue\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {!this.props.isAdvanced &&\r\n            this.props.tileName === \"Mastery\" &&\r\n            !this.state.fromMastery && (\r\n              <div css={masteryForm}>\r\n                <div>Find the bots highest powered unlocked die.</div>\r\n                <div>Select the Action Board below:</div>\r\n                <ul>\r\n                  {masteryQuestions(this.props.isEmpires).map((question) => (\r\n                    <li\r\n                      css={\r\n                        this.state.masteryAnswers.indexOf(question.id) >= 0\r\n                          ? strikeOut\r\n                          : {}\r\n                      }\r\n                      key={question.id}\r\n                      onClick={() =>\r\n                        this.onClickMasteryOption(\r\n                          question.action,\r\n                          this.props.isAlternateTeotibotMovement,\r\n                          this.props.topDirectionTile,\r\n                          this.props.isObsidian,\r\n                          this.props.teotibotResourcesToGain,\r\n                          this.props.eclipseStage\r\n                        )\r\n                      }\r\n                    >\r\n                      {parse(question.name)}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n                {this.state.masteryAnswers.length >= 7 && (\r\n                  <div>\r\n                    {parse(\r\n                      powerupMsg(\r\n                        this.props.isAlternateTeotibotMovement,\r\n                        this.props.topDirectionTile,\r\n                        this.props.teotibotVPFor10Cocoa\r\n                      )\r\n                    )}\r\n                    <div css={buttons(50)}>\r\n                      <div onClick={() => this.onExitForm(true)}>continue</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport {\r\n  buttons,\r\n  empireMap,\r\n  modalClose,\r\n  pathContent,\r\n  pathTile,\r\n  questionModal,\r\n  questionModalContent,\r\n  regionTooltip,\r\n  empireMapContainer,\r\n} from \"../QuestionForm.css\";\r\nimport { generateRandomInteger } from \"../Logic\";\r\nimport { PathSelector } from \"../PathSelector\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { regionDescriptions, regionDescriptions2 } from \"../Constants\";\r\nimport { EmpireMap } from \"../EmpireMap\";\r\n\r\nexport const PathTiles = (props) => {\r\n  const [tileNo, setTileNo] = useState(generateRandomInteger(1, 4));\r\n\r\n  return (\r\n    <div css={questionModal}>\r\n      <div css={questionModalContent}>\r\n        <img\r\n          css={modalClose}\r\n          src={`${process.env.PUBLIC_URL}/game_resources/back.png`}\r\n          onClick={() => props.onCloseClick(false)}\r\n          alt=\"Cancel\"\r\n        />\r\n        <div css={pathContent}>\r\n          <h2>Teotibot's Warrior Movement</h2>\r\n\r\n          <h4>\r\n            When one of Teotibots Warriors is pushed out of Teotihuacan, draw a\r\n            new path tile. The tile shows the region the warrior will move into.\r\n          </h4>\r\n\r\n          <PathSelector />\r\n\r\n          <h4>\r\n            When one of Teotibot's Warriors is pushed into another region, it\r\n            will move its Warriors so they stay in the same line.\r\n          </h4>\r\n\r\n          <EmpireMap />\r\n          \r\n          <div css={buttons(50)}>\r\n            <div onClick={() => props.onCloseClick(false)}>continue</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useCallback, useEffect, useState, useMemo, useRef } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { useSpring, animated, useTransition } from \"@react-spring/web\";\r\nimport { mainImg } from \"../AppContainer.css\";\r\nimport {\r\n  tileListContainer,\r\n  tileList,\r\n  diceContainer,\r\n  nav,\r\n  navButton,\r\n  directionTileImage,\r\n  empire,\r\n} from \"./TileList.css\";\r\nimport { QuestionForm } from \"../QuestionForm\";\r\nimport {\r\n  calculateXDirectionTile,\r\n  calculateXTile,\r\n  calculateYTile,\r\n  orderTiles,\r\n  swapArrayLocs,\r\n  calculateYDirectionTile,\r\n  generateRandomInteger,\r\n  getRandom,\r\n} from \"../Logic\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport useMedia from \"../UseMedia\";\r\nimport { shuffle } from \"lodash-es\";\r\nimport {\r\n  AppScreen,\r\n  baseDirectionTiles,\r\n  baseStartTiles,\r\n  xitleStartTiles,\r\n  diceTilePositions,\r\n  Eclipse,\r\n  Neutral,\r\n  initialDirectionOrdering,\r\n  initialAlternativeDirectionOrdering,\r\n  initialOrdering,\r\n  alternativeDirectionTilesStep2,\r\n  alternativeDirectionTilesStep3,\r\n  dFaces,\r\n  botTiles,\r\n} from \"../Constants\";\r\nimport { cloneDeep } from \"lodash-es\";\r\nimport Dice from \"react-dice-roll\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nimport { PathTiles } from \"./PathTiles\";\r\n\r\nexport const TileList = (props) => {\r\n  const getInitialDirectionTileOrder = useCallback(() => {\r\n    var currentDirectionTileOrdering = JSON.parse(\r\n      reactLocalStorage.get(\"directionTileOrdering\") ?? null\r\n    );\r\n\r\n    var defaultDirectionTileOrdering = shuffle(\r\n      props.isAlternateTeotibotMovement\r\n        ? initialAlternativeDirectionOrdering\r\n        : initialDirectionOrdering\r\n    );\r\n\r\n    if (\r\n      (currentDirectionTileOrdering && currentDirectionTileOrdering.length) !==\r\n      defaultDirectionTileOrdering.length\r\n    ) {\r\n      //we've changed the setting\r\n      currentDirectionTileOrdering = defaultDirectionTileOrdering;\r\n    }\r\n\r\n    return currentDirectionTileOrdering ?? defaultDirectionTileOrdering;\r\n  }, [props.isAlternateTeotibotMovement]);\r\n\r\n  const getInitialOrdering = useCallback(() => {\r\n    return (\r\n      JSON.parse(reactLocalStorage.get(\"tileOrdering\") ?? null) ??\r\n      shuffle(initialOrdering)\r\n    );\r\n  }, []);\r\n\r\n  const getInitialEclipseStage = useCallback(() => {\r\n    return JSON.parse(reactLocalStorage.get(\"eclipseStage\") ?? null) ?? 0;\r\n  }, []);\r\n\r\n  const getInitialStepsUntilEclipse = useCallback(() => {\r\n    return (\r\n      JSON.parse(reactLocalStorage.get(\"stepsUntilEclipse\") ?? null) ??\r\n      initialStepsUntilEclipse\r\n    );\r\n  }, []);\r\n\r\n  const initialStepsUntilEclipse = 10;\r\n  const [tiles, setTiles] = useState([]);\r\n  const [startTiles, setStartTiles] = useState([]);\r\n  const [directionTiles, setDirectionTiles] = useState([]);\r\n  const [ordering, setOrdering] = useState(getInitialOrdering); //inital ordering;\r\n  const [directionOrdering, setDirectionOrdering] = useState(\r\n    getInitialDirectionTileOrder\r\n  );\r\n  const [eclipseStage, setEclipseStage] = useState(getInitialEclipseStage);\r\n  const [stepsUntilEclipse, setStepsUntilEclipse] = useState(\r\n    getInitialStepsUntilEclipse\r\n  );\r\n  const [tilesDisabled, setTilesDisabled] = useState(false);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [showEmpire, setShowEmpire] = useState(false);\r\n  const [showEclipseForm, setShowEclipseForm] = useState(false);\r\n  const [selectedTileIndex, setSelectedTileIndex] = useState(0);\r\n  const [showDice, setShowDice] = useState(false);\r\n  const [enableRoll, setEnableRoll] = useState(true);\r\n  const [dice1Rolled, setDice1Rolled] = useState(0);\r\n  const [dice2Rolled, setDice2Rolled] = useState(0);\r\n  const [showNeutralMovements, setShowNeutralMovements] = useState(false);\r\n\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\r\n      \"(min-width: 1500px)\",\r\n      \"(min-width: 1000px)\",\r\n      \"(min-width: 600px)\",\r\n      \"(max-width: 480px)\",\r\n    ],\r\n    [4, 4, 4, 3],\r\n    4\r\n  );\r\n\r\n  const checkOrientation = useMedia(\r\n    [\"(orientation: landscape)\"],\r\n    [true],\r\n    false\r\n  );\r\n\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n  const refDice1 = useRef(null);\r\n  const refDice2 = useRef(null);\r\n\r\n  const { transform } = useSpring({\r\n    from: { x: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50, duration: 500 },\r\n    transform: `translateX(${showDice ? 0 : -2000}px)`,\r\n  });\r\n\r\n  var tileWidth = width / columns;\r\n  var mapWidth = width / (columns * 2);\r\n\r\n  if (checkOrientation) {\r\n    tileWidth = width / (columns / 0.8);\r\n  }\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [tileHeights, tileItems] = useMemo(() => {\r\n    let tileHeights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let tileItems = tiles?.map((child, i) => {\r\n      const column = tileHeights.indexOf(Math.min(...tileHeights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = calculateXTile(\r\n        ordering.indexOf(i),\r\n        tileWidth,\r\n        columns,\r\n        props.isAlternateTeotibotMovement\r\n      );\r\n      const y = calculateYTile(\r\n        ordering.indexOf(i),\r\n        tileWidth,\r\n        columns,\r\n        props.isAlternateTeotibotMovement\r\n      );\r\n      return {\r\n        ...child,\r\n        index: i,\r\n        width: tileWidth,\r\n        x,\r\n        y,\r\n      };\r\n    });\r\n    return [tileHeights, tileItems];\r\n  }, [ordering, columns, tiles, tileWidth, props.isAlternateTeotibotMovement]);\r\n\r\n  const tileTransitions = useTransition(tileItems, {\r\n    key: (item) => item.index,\r\n    from: ({ x, y, width }) => ({ x, y, width, opacity: 0 }),\r\n    enter: ({ x, y, width }) => ({ x, y, width, opacity: 1 }),\r\n    update: ({ x, y, width }) => ({ x, y, width }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 500, mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  const [directionTileHeights, directionTileItems] = useMemo(() => {\r\n    let directionTileHeights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let directionTileItems = directionTiles?.map((child, i) => {\r\n      const column = directionTileHeights.indexOf(\r\n        Math.min(...directionTileHeights)\r\n      ); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = calculateXDirectionTile(\r\n        directionOrdering.indexOf(i),\r\n        tileWidth,\r\n        columns\r\n      );\r\n      const y = calculateYDirectionTile(\r\n        directionOrdering.indexOf(i),\r\n        tileWidth,\r\n        columns\r\n      );\r\n\r\n      let deg = child.nextWValue ?? 0;\r\n\r\n      if (child.nextWValue === 0 && child.stepTile) {\r\n        child.css = child.initialCss;\r\n      } else if (child.nextWValue === 180 && child.stepTile) {\r\n        child.css = child.flippedCss;\r\n      }\r\n\r\n      return {\r\n        ...child,\r\n        index: i,\r\n        width: tileWidth,\r\n        x,\r\n        y,\r\n        rotateY: deg,\r\n      };\r\n    });\r\n    return [directionTileHeights, directionTileItems];\r\n  }, [directionOrdering, columns, directionTiles, tileWidth]);\r\n\r\n  const directionTileTransitions = useTransition(directionTileItems, {\r\n    key: (item) => item.index,\r\n    from: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY, opacity: 0 }),\r\n    enter: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY, opacity: 1 }),\r\n    update: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 500, mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  // const [empireTileItems] = useMemo(() => {\r\n  //   let empireTileItems = empireTiles?.map((child, i) => {\r\n  //     const x = calculateXEmpireTile(mapWidth, columns, props.isAlternateTeotibotMovement);\r\n  //     const y = calculateYEmpireTile(mapWidth, columns, props.isAlternateTeotibotMovement);\r\n\r\n  //     return {\r\n  //       ...child,\r\n  //       width: mapWidth,\r\n  //       x,\r\n  //       y,\r\n  //     };\r\n  //   });\r\n  //   return [empireTileItems];\r\n  // }, [columns, mapWidth, tileWidth, props.isAlternateTeotibotMovement]);\r\n\r\n  // const empireTileItemTransitions = useTransition(empireTileItems, {\r\n  //   key: (item) => item.index,\r\n  //   from: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY, opacity: 0 }),\r\n  //   enter: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY, opacity: 1 }),\r\n  //   update: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY }),\r\n  //   leave: { height: 0, opacity: 0 },\r\n  //   config: { duration: 500, mass: 5, tension: 500, friction: 50 },\r\n  //   trail: 25,\r\n  // });\r\n\r\n  const shuffleTiles = (tileIndex) => {\r\n    if (ordering.indexOf(tileIndex) >= 6 || ordering.indexOf(tileIndex) === 4)\r\n      return; //clicked extra tiles\r\n\r\n    if (tilesDisabled) return;\r\n\r\n    setTilesDisabled(true);\r\n\r\n    setTimeout(() => {\r\n      setTilesDisabled(false);\r\n    }, 1000);\r\n\r\n    let newOrder = cloneDeep(ordering);\r\n    let newDirectionOrder = cloneDeep(directionOrdering);\r\n    let newDirectionTiles = cloneDeep(directionTiles);\r\n\r\n    orderTiles(\r\n      newOrder,\r\n      newOrder.indexOf(tileIndex),\r\n      newDirectionTiles[newDirectionOrder[0]],\r\n      newDirectionTiles[newDirectionOrder[1]]\r\n    );\r\n\r\n    if (props.isAlternateTeotibotMovement) {\r\n      //4 Direction tiles\r\n      swapArrayLocs(newDirectionOrder, 0, 3);\r\n      swapArrayLocs(newDirectionOrder, 0, 2);\r\n      swapArrayLocs(newDirectionOrder, 0, 1);\r\n    } else {\r\n      //Just 2 tiles\r\n      swapArrayLocs(newDirectionOrder, 0, 1);\r\n    }\r\n\r\n    newDirectionTiles.forEach((directionTile, index) => {\r\n      if (newDirectionOrder.indexOf(index) === 0) {\r\n        //to move to top\r\n        directionTile.top = true;\r\n      } else if (\r\n        newDirectionOrder.indexOf(index) ===\r\n        newDirectionOrder.length - 1\r\n      ) {\r\n        //top to bottom, and flip\r\n        directionTile.top = false;\r\n        directionTile.toFlip = true;\r\n      }\r\n    });\r\n\r\n    setOrdering(newOrder);\r\n    reactLocalStorage.set(\"tileOrdering\", JSON.stringify(newOrder));\r\n    setDirectionOrdering(newDirectionOrder);\r\n    reactLocalStorage.set(\r\n      \"directionTileOrdering\",\r\n      JSON.stringify(newDirectionOrder)\r\n    );\r\n\r\n    animateTiles(newDirectionTiles);\r\n  };\r\n\r\n  const animateTiles = useCallback((newDirectionTiles) => {\r\n    const flippedValue = 180;\r\n    const defaultValue = 0;\r\n\r\n    newDirectionTiles.forEach((directionTile) => {\r\n      if (!directionTile.curWValue && directionTile.toFlip) {\r\n        directionTile.nextWValue = flippedValue;\r\n        directionTile.flipped = true;\r\n      } else if (directionTile.curWValue && directionTile.toFlip) {\r\n        if (directionTile.curWValue === directionTile.nextWValue) {\r\n          directionTile.nextWValue = defaultValue;\r\n          directionTile.flipped = false;\r\n        }\r\n      }\r\n    }, []);\r\n\r\n    newDirectionTiles.forEach((directionTile) => {\r\n      if (directionTile.toFlip === true) {\r\n        directionTile.toFlip = false;\r\n        directionTile.curWValue = directionTile.nextWValue;\r\n      }\r\n    });\r\n\r\n    setDirectionTiles(newDirectionTiles);\r\n  });\r\n\r\n  useEffect(() => {\r\n    setTiles(botTiles(props.isAltarsAndShamans, props.isEmpires));\r\n  }, [props.isAltarsAndShamans, props.isEmpires]);\r\n\r\n  useEffect(() => {\r\n    const tiles = props.isXitle\r\n      ? [...baseStartTiles, ...xitleStartTiles]\r\n      : baseStartTiles;\r\n    setStartTiles(tiles);\r\n  }, [props.isXitle]);\r\n\r\n  useEffect(() => {\r\n    const directionTilesList = props.isAlternateTeotibotMovement\r\n      ? [\r\n          ...baseDirectionTiles,\r\n          ...getRandom(alternativeDirectionTilesStep2, 1),\r\n          ...getRandom(alternativeDirectionTilesStep3, 1),\r\n        ]\r\n      : baseDirectionTiles;\r\n    setDirectionTiles(directionTilesList);\r\n\r\n    setDirectionOrdering(getInitialDirectionTileOrder);\r\n  }, [props.isAlternateTeotibotMovement, getInitialDirectionTileOrder]);\r\n\r\n  useEffect(() => {\r\n    if (dice1Rolled > 0 && dice2Rolled > 0) {\r\n      let diceTotal = dice1Rolled + dice2Rolled;\r\n      var tilePosition = diceTilePositions[diceTotal];\r\n      setDice1Rolled(0);\r\n      setDice2Rolled(0);\r\n      showSteps(ordering[tilePosition]);\r\n      setTimeout(() => {\r\n        setShowDice(false);\r\n      }, 500);\r\n    }\r\n  }, [dice1Rolled, dice2Rolled, ordering]);\r\n\r\n  const [state, toggle] = useState(false);\r\n\r\n  const { x, api } = useSpring({\r\n    from: { x: 0 },\r\n    x: state ? 1 : 0,\r\n    config: { duration: 1000 },\r\n    loop: true,\r\n  });\r\n\r\n  const showSteps = (i) => {\r\n    setSelectedTileIndex(i);\r\n    toggle(true);\r\n    setTimeout(() => {\r\n      setShowForm(true);\r\n      toggle(false);\r\n    }, 700);\r\n  };\r\n\r\n\r\n  const onCloseNeutral = () => {\r\n    setShowNeutralMovements(false);\r\n    shuffleTiles(selectedTileIndex);\r\n    setShowDice(false);\r\n  }\r\n\r\n  const onCloseClick = (shouldShuffle) => {\r\n    setShowForm(false);\r\n    setShowEclipseForm(false);\r\n    setShowEmpire(false);\r\n\r\n    if (shouldShuffle) {\r\n      if (props.isMoveNeutral) {\r\n        setShowNeutralMovements(true);\r\n      } else {\r\n        shuffleTiles(selectedTileIndex);\r\n      }\r\n    }\r\n\r\n    setShowDice(false);\r\n  };\r\n\r\n  const handleRollClick = () => {\r\n    if (enableRoll) {\r\n      setShowDice(true);\r\n      refDice1.current.rollDice();\r\n      refDice2.current.rollDice();\r\n      setEnableRoll(false);\r\n\r\n      setTimeout(() => {\r\n        setEnableRoll(true);\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  const moveEclipse = (newEclipseValue) => {\r\n    setEclipseStage(newEclipseValue);\r\n    reactLocalStorage.set(\"eclipseStage\", JSON.stringify(newEclipseValue));\r\n  };\r\n\r\n  const handleEclipseClick = () => {\r\n    if (props.isAscend) return;\r\n\r\n    if (eclipseStage <= 2) {\r\n      moveEclipse(eclipseStage + 1);\r\n\r\n      setShowEclipseForm(true);\r\n    }\r\n  };\r\n\r\n  const getStepsLimit = (isDarkEclipse) => {\r\n    return !isDarkEclipse ? 0 : 1;\r\n  };\r\n\r\n  const handleAscendClick = () => {\r\n    let newStepsUntilEclipse = 0;\r\n\r\n    if (eclipseStage <= 2) {\r\n      newStepsUntilEclipse = stepsUntilEclipse - 1;\r\n      setStepsUntilEclipse(newStepsUntilEclipse);\r\n      reactLocalStorage.set(\r\n        \"stepsUntilEclipse\",\r\n        JSON.stringify(newStepsUntilEclipse)\r\n      );\r\n    }\r\n\r\n    if (\r\n      stepsUntilEclipse <= getStepsLimit(props.isDarkEclipse) &&\r\n      eclipseStage <= 2\r\n    ) {\r\n      let eclipseValue = eclipseStage + 1;\r\n      newStepsUntilEclipse = initialStepsUntilEclipse - eclipseValue;\r\n\r\n      moveEclipse(eclipseValue);\r\n      setStepsUntilEclipse(newStepsUntilEclipse);\r\n      reactLocalStorage.set(\r\n        \"stepsUntilEclipse\",\r\n        JSON.stringify(newStepsUntilEclipse)\r\n      );\r\n      setShowEclipseForm(true);\r\n    }\r\n  };\r\n\r\n  const onCancelEclipseClick = () => {\r\n    let newEclipseValue = eclipseStage - 1;\r\n\r\n    setEclipseStage(newEclipseValue);\r\n    reactLocalStorage.set(\"eclipseStage\", JSON.stringify(newEclipseValue));\r\n\r\n    setStepsUntilEclipse(getStepsLimit(props.isDarkEclipse));\r\n    reactLocalStorage.set(\r\n      \"stepsUntilEclipse\",\r\n      JSON.stringify(getStepsLimit(props.isDarkEclipse))\r\n    );\r\n\r\n    setShowEclipseForm(false);\r\n  };\r\n\r\n  const onShowEmpireClick = () => {\r\n    setShowEmpire(true);\r\n  };\r\n\r\n  const getStyle = useCallback(\r\n    (item) => {\r\n      var test = {\r\n        scale: x.to({\r\n          range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],\r\n          output: [1, 0.97, 0.9, 1.1, 0.9, 1.1, 1.03, 1],\r\n        }),\r\n      };\r\n\r\n      return item.index === selectedTileIndex ? test : {};\r\n    },\r\n    [x, selectedTileIndex]\r\n  );\r\n\r\n  return (\r\n    <div css={tileListContainer}>\r\n      <div css={mainImg} />\r\n      <div>\r\n        {showForm && (\r\n          <QuestionForm\r\n            onCloseClick={(shouldShuffle) => onCloseClick(shouldShuffle)}\r\n            isMoveNeutral={props.isMoveNeutral}\r\n            tileName={tiles[selectedTileIndex].name}\r\n            eclipseStage={eclipseStage}\r\n            tileSrc={tiles[selectedTileIndex].src}\r\n            teotibotResourcesToGain={props.teotibotResourcesToGain}\r\n            teotibotStepsPerWorship={props.teotibotStepsPerWorship}\r\n            teotibotVPFor10Cocoa={props.teotibotVPFor10Cocoa}\r\n            isAlternateTeotibotMovement={props.isAlternateTeotibotMovement}\r\n            isObsidian={props.isObsidian}\r\n            isMansion={props.isMansion}\r\n            isAltarsAndShamans={props.isAltarsAndShamans}\r\n            isEmpires={props.isEmpires}\r\n            isAdvanced={props.isAdvanced}\r\n            topDirectionTile={directionTiles[directionOrdering[0]]}\r\n          />\r\n        )}\r\n        {showEclipseForm && (\r\n          <QuestionForm\r\n            tiles={cloneDeep(startTiles)}\r\n            onCloseClick={(shouldShuffle) => onCloseClick(shouldShuffle)}\r\n            onCancelEclipseClick={(shouldShuffle) =>\r\n              onCancelEclipseClick(shouldShuffle)\r\n            }\r\n            tileName={Eclipse}\r\n            eclipseStage={eclipseStage}\r\n            tileSrc={\"eclipse\"}\r\n            isHeightOfDevelopment={props.isHeightOfDevelopment}\r\n            teotibotVPForTechTiles={props.teotibotVPForTechTiles}\r\n            teotibotVPForTempleTiles={props.teotibotVPForTempleTiles}\r\n          />\r\n        )}\r\n        {showNeutralMovements && (\r\n          <QuestionForm\r\n            tiles={cloneDeep(startTiles)}\r\n            tileName={Neutral}\r\n            tileSrc={\"worker\"}\r\n            onCloseNeutral={onCloseNeutral}\r\n          />\r\n        )}\r\n      </div>\r\n      {props.isEmpires && (\r\n        <img\r\n          css={empire}\r\n          src={`${process.env.PUBLIC_URL}/empire/empire_map.jpg`}\r\n          onClick={onShowEmpireClick}\r\n        />\r\n      )}\r\n      {showEmpire && (\r\n        <PathTiles\r\n          onCloseClick={(shouldShuffle) => onCloseClick(shouldShuffle)}\r\n        />\r\n      )}\r\n      <div ref={ref} css={tileList} style={{ height: 0 }}>\r\n        {tileTransitions((style, tile) => (\r\n          <animated.img\r\n            onContextMenu={(e) => e.preventDefault()}\r\n            draggable=\"false\"\r\n            key={tile.key}\r\n            onClick={() => {\r\n              showSteps(tile.index);\r\n            }}\r\n            src={`${process.env.PUBLIC_URL}/bot_tiles/${tile.src}.png`}\r\n            style={{ ...style, ...getStyle(tile) }}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div css={tileList} style={{ height: 0 }}>\r\n        {directionTileTransitions((style, directionTile) => (\r\n          <animated.div\r\n            onContextMenu={(e) => e.preventDefault()}\r\n            draggable=\"false\"\r\n            key={directionTile.index}\r\n            css={[directionTileImage, directionTile.css]}\r\n            style={style}\r\n          />\r\n        ))}\r\n      </div>\r\n      {/* <div css={tileList}>\r\n        {empireTileItemTransitions((style, empireTile) => (\r\n          <animated.img\r\n            onContextMenu={(e) => e.preventDefault()}\r\n            draggable=\"false\"\r\n            key={empireTile.index}\r\n            onClick={onShowEmpireClick}\r\n            src={`${process.env.PUBLIC_URL}/empire/${empireTile.name}.jpg`}\r\n            style={style}\r\n          />\r\n        ))}\r\n      </div> */}\r\n      <div css={nav}>\r\n        <div css={navButton} onClick={handleRollClick}>\r\n          <img src={`${process.env.PUBLIC_URL}/game_dice/d3.png`} alt=\"d3\" />\r\n        </div>\r\n        {props.isAscend && (\r\n          <span css={navButton} onClick={handleAscendClick}>\r\n            <img\r\n              src={`${process.env.PUBLIC_URL}/game_resources/ascension.png`}\r\n              alt=\"eclipse\"\r\n            />\r\n            {eclipseStage <= 2 ? `Eclipse in ${stepsUntilEclipse}` : \"\"}\r\n          </span>\r\n        )}\r\n        <span css={navButton} onClick={handleEclipseClick}>\r\n          <img\r\n            src={`${process.env.PUBLIC_URL}/game_resources/eclipse.png`}\r\n            alt=\"eclipse\"\r\n          />\r\n          {eclipseStage <= 2 ? `Eclipse ${eclipseStage}` : \"Game over\"}\r\n        </span>\r\n        <div css={navButton}>\r\n          <img\r\n            css={{}}\r\n            onClick={() => props.options(AppScreen)}\r\n            src=\"./game_resources/settings.png\"\r\n            alt=\"Settings\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div css={diceContainer} style={{ zIndex: showDice ? 5 : 1 }}>\r\n        <animated.div\r\n          style={{\r\n            display: \"flex\",\r\n            transform,\r\n          }}\r\n        >\r\n          <Dice\r\n            ref={refDice1}\r\n            faces={dFaces}\r\n            size={150}\r\n            rollingTime={generateRandomInteger(500, 1500)}\r\n            onRoll={(value) => setDice1Rolled(value)}\r\n            disabled\r\n          />\r\n          <Dice\r\n            ref={refDice2}\r\n            faces={dFaces}\r\n            size={150}\r\n            rollingTime={generateRandomInteger(500, 1500)}\r\n            onRoll={(value) => setDice2Rolled(value)}\r\n            disabled\r\n          />\r\n        </animated.div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useCallback, useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useSpring, useTransition, a } from \"@react-spring/web\";\r\nimport { startTile } from \"./Setup.css\";\r\nimport { shuffle, find } from \"lodash\";\r\nimport Tippy, { useSingleton } from \"@tippyjs/react\";\r\nimport { removeRandomItemFromArray } from \"../Logic\";\r\nimport \"tippy.js/dist/tippy.css\";\r\n\r\nexport const StartTiles = (props) => {\r\n  const tileHeight = 250;\r\n  const [source, target] = useSingleton();\r\n  const [showToolTips, setShowToolTips] = useState(false);\r\n  \r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\r\n      \"(min-width: 1500px)\",\r\n      \"(min-width: 1000px)\",\r\n      \"(min-width: 600px)\",\r\n      \"(max-width: 480px)\",\r\n    ],\r\n    [4, 4, 4, 4],\r\n    4\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  // Hook3: Hold items\r\n  const [items, set] = useState([]);\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    if (items.length <= 0) {\r\n      set(props.startTiles);\r\n    }\r\n    const t = setInterval(() => {\r\n      if (items.length >= 5) {\r\n        removeRandomItemFromArray(items);\r\n        set(shuffle);\r\n      }\r\n    }, 50);\r\n    return () => clearInterval(t);\r\n  }, [items]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      props.startTiles.forEach((item) => {\r\n        item.selected = false;\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n\r\n      return {\r\n        ...child,\r\n        x,\r\n        y,\r\n      };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  const onRest = () => {\r\n    setTimeout(() => {\r\n      setShowToolTips(true);\r\n    }, 500);\r\n  }\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x }) => ({ x, opacity: 0 }),\r\n    enter: ({ x }) => ({ x, opacity: 1 }),\r\n    update: ({ x }) => ({ x }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 500, mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n    onRest,\r\n  });\r\n\r\n  const [state, toggle] = useState(true);\r\n\r\n  const { x, api } = useSpring({\r\n    from: { x: 0 },\r\n    x: state ? 1 : 0,\r\n    config: { duration: 1000 },\r\n    loop: true,\r\n  });\r\n\r\n  const getStyle = useCallback(\r\n    (item) => {\r\n      var itemList = find(items, [\"name\", item.name]);\r\n      var test = {\r\n        scale: x.to({\r\n          range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],\r\n          output: [1, 0.97, 0.9, 1.1, 0.9, 1.1, 1.03, 1],\r\n        }),\r\n      };\r\n\r\n      return itemList?.selected ? test : {};\r\n    },\r\n    [x, items]\r\n  );\r\n\r\n  const onClick = (item) => {\r\n    var listItem = find(items, [\"name\", item.name]);\r\n    props.selectedStartTiles(listItem);\r\n  };\r\n\r\n  return (\r\n    <div ref={ref} style={{ height: tileHeight }}>\r\n      <Tippy singleton={source} />\r\n      {transitions((style, item) => (\r\n        <a.div css={startTile} style={style}>\r\n          <a.img\r\n            onContextMenu={(e) => e.preventDefault()}\r\n            style={getStyle(item)}\r\n            onClick={() => {\r\n              onClick(item);\r\n            }}\r\n            src={`${process.env.PUBLIC_URL}/start_tiles/${item.src}/${item.name}.jpg`}\r\n            data-tip={item.tooltip}\r\n          />\r\n          <Tippy singleton={target} content={item.tooltip}>\r\n            <span className={`${!showToolTips ? \"hide\" : \"\"}`}>?</span>\r\n          </Tippy>\r\n        </a.div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { tileContainer, techTile } from \"./Setup.css\";\r\nimport { shuffle, orderBy } from \"lodash\";\r\nimport Tippy, { useSingleton } from \"@tippyjs/react\";\r\nimport { removeRandomItemFromArray } from '../Logic';\r\nimport \"tippy.js/dist/tippy.css\";\r\n\r\nexport const TechTiles = (props) => {\r\n  const tileHeight = 350;\r\n  const [source, target] = useSingleton();\r\n\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\"],\r\n    [8, 8, 3],\r\n    3\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n  // Hook3: Hold items\r\n  \r\n  const [items, setTiles] = useState([]);\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    if (items.length <= 0) {\r\n      setTiles(props.techTiles);\r\n    }\r\n\r\n    const t = setInterval(() => {\r\n      if (items.length >= 7) {\r\n        removeRandomItemFromArray(items);\r\n        setTiles(shuffle);\r\n        setTiles(orderBy(items, ['order'], ['asc']));\r\n      } \r\n    }, 100);\r\n    return () => clearInterval(t);\r\n  }, [items]);\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n      return { ...child, x, y };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  const onRest = () => {\r\n    setTimeout(() => {\r\n      props.onRest();\r\n    }, 500);\r\n  };\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x, y }) => ({ x, y, opacity: 0 }),\r\n    enter: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y }) => ({ x, y }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n    onRest,\r\n  });\r\n\r\n  return (\r\n    <div ref={ref} css={tileContainer} style={{ height: Math.max(...heights) }}>\r\n      <Tippy singleton={source} />\r\n      {transitions((style, item) => (\r\n        <Tippy singleton={target} content={item.tooltip}>\r\n          <a.img\r\n            onContextMenu={(e) => e.preventDefault()}\r\n            css={techTile}\r\n            style={style}\r\n            src={`${process.env.PUBLIC_URL}/tech_tiles/${item.src}/${item.name}.jpg`}\r\n          />\r\n        </Tippy>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { tileContainer, templeTile } from \"../Setup/Setup.css\";\r\nimport { shuffle } from \"lodash\";\r\nimport Tippy, { useSingleton } from \"@tippyjs/react\";\r\nimport { removeRandomItemFromArray } from \"../Logic\";\r\nimport \"tippy.js/dist/tippy.css\";\r\n\r\nexport const TempleTiles = (props) => {\r\n  const tileHeight = 250;\r\n  const [source, target] = useSingleton();\r\n\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\"],\r\n    [4, 4, 4],\r\n    2\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  // Hook3: Hold items\r\n  const [items, set] = useState([]);\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    if (items.length <= 0) {\r\n      set(props.templeTiles);\r\n    }\r\n\r\n    const t = setInterval(() => {\r\n      if (items.length >= 4) {\r\n        removeRandomItemFromArray(items);\r\n        set(shuffle);\r\n      }\r\n    }, 100);\r\n    return () => clearInterval(t);\r\n  }, [items]);\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n      return { ...child, x, y };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  const onRest = () => {\r\n    setTimeout(() => {\r\n      props.onRest();\r\n    }, 500);\r\n  }\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x, y }) => ({ x, y, opacity: 0 }),\r\n    enter: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y }) => ({ x, y }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n    onRest,\r\n  });\r\n\r\n  return (\r\n    <div ref={ref} css={tileContainer} style={{ height: Math.max(...heights) }}>\r\n      <Tippy singleton={source} />\r\n      {transitions((style, item) => (\r\n        <Tippy singleton={target} content={item.tooltip}>\r\n          <a.img\r\n            onContextMenu={(e) => e.preventDefault()}\r\n            css={templeTile}\r\n            style={style}\r\n            src={`${process.env.PUBLIC_URL}/temple_tiles/base/${item.name}.jpg`}\r\n            data-tip={item.tooltip}\r\n          />\r\n        </Tippy>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { tileContainer, techTile } from \"./Setup.css\";\r\nimport { shuffle, orderBy } from \"lodash\";\r\nimport Tippy, { useSingleton } from \"@tippyjs/react\";\r\nimport { removeRandomItemFromArray } from '../Logic';\r\nimport \"tippy.js/dist/tippy.css\";\r\n\r\nexport const RoyalTiles = (props) => {\r\n  const tileHeight = 175;\r\n  const [source, target] = useSingleton();\r\n\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\"],\r\n    [8, 8, 3],\r\n    3\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n  // Hook3: Hold items\r\n  \r\n  const [items, setTiles] = useState([]);\r\n\r\nconst removeRandomItemFromArray = (array) => {\r\n  // Create a copy of the array to avoid modifying the original array\r\n  let tilesCopy = [...array];\r\n\r\n  // Helper function to count the number of items in each category\r\n  const countCategories = (tiles) => {\r\n    return tiles.reduce((acc, tile) => {\r\n      acc[tile.category] = (acc[tile.category] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n  };\r\n\r\n  // Get initial counts of each category\r\n  let categoryCounts = countCategories(tilesCopy);\r\n\r\n  // Function to get a random integer between min and max (inclusive)\r\n  const getRandomInt = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  };\r\n\r\n  // Loop until only three items remain in total\r\n  while (tilesCopy.length > 3) {\r\n    // Get an array of categories with more than one item\r\n    const removableCategories = Object.keys(categoryCounts).filter(category => categoryCounts[category] > 1);\r\n\r\n    if (removableCategories.length > 0) {\r\n      // Select a random category from the removable categories\r\n      const randomCategory = removableCategories[getRandomInt(0, removableCategories.length - 1)];\r\n\r\n      // Get all items in the selected category\r\n      const categoryItems = tilesCopy.filter(tile => tile.category === randomCategory);\r\n\r\n      // Select a random item from the category items\r\n      const itemToRemove = categoryItems[getRandomInt(0, categoryItems.length - 1)];\r\n\r\n      // Remove the selected item from the tiles copy\r\n      tilesCopy = tilesCopy.filter(tile => tile !== itemToRemove);\r\n\r\n      // Update the counts after removal\r\n      categoryCounts = countCategories(tilesCopy);\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return orderBy(tilesCopy, ['category'], ['asc']);\r\n  }\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    if (items.length <= 0) {\r\n      var tiles = removeRandomItemFromArray(props.royalTiles);\r\n\r\n      setTiles(tiles);\r\n    }\r\n\r\n    const t = setInterval(() => {\r\n      if (items.length >= 4) {\r\n\r\n        setTiles(shuffle);\r\n      } \r\n    }, 100);\r\n    return () => clearInterval(t);\r\n  }, [items]);\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n      return { ...child, x, y };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  const onRest = () => {\r\n    setTimeout(() => {\r\n      props.onRest();\r\n    }, 500);\r\n  };\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x, y }) => ({ x, y, opacity: 0 }),\r\n    enter: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y }) => ({ x, y }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n    onRest,\r\n  });\r\n\r\n  return (\r\n    <div ref={ref} css={tileContainer} style={{ height: Math.max(...heights) }}>\r\n      <Tippy singleton={source} />\r\n      {transitions((style, item) => (\r\n        <Tippy singleton={target} content={item.tooltip}>\r\n          <a.img\r\n            onContextMenu={(e) => e.preventDefault()}\r\n            css={techTile}\r\n            style={style}\r\n            src={`${process.env.PUBLIC_URL}/royal_tiles/${item.src}/${item.name}.jpg`}\r\n          />\r\n        </Tippy>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { resourceContainer, startResource, resource } from \"./Setup.css\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport useMedia from \"../UseMedia\";\r\nimport { orderBy } from \"lodash\";\r\n\r\nexport const StartingResources = (props) => {\r\n  const columns = useMedia(\r\n    [\r\n      \"(min-width: 1500px)\",\r\n      \"(min-width: 1000px)\",\r\n      \"(min-width: 600px)\",\r\n      \"(min-width: 480px)\",\r\n    ],\r\n    [10, 10, 6, 3],\r\n    3\r\n  );\r\n\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  const [startingResources, setStartingResources] = useState();\r\n\r\n  useEffect(() => {\r\n    setStartingResources(props.startingResources);\r\n  }, [props.startingResources, ref]);\r\n\r\n  const [heights, resources] = useMemo(() => {\r\n    let resources = [];\r\n    let heights = [];\r\n\r\n    heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    resources = orderBy(\r\n      startingResources,\r\n      [\"quantity\", \"type\"],\r\n      [\"desc\", \"desc\"]\r\n    ).map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += 150 / 2) - 150 / 2; // y = it's just the height of the current column\r\n      return {\r\n        ...child,\r\n        index: i,\r\n        y,\r\n        x,\r\n      };\r\n    });\r\n\r\n    return [heights, resources];\r\n  }, [columns, startingResources, width]);\r\n\r\n  const onRest = () => {\r\n    setTimeout(() => {\r\n      props.onRest();\r\n    }, 1000);\r\n  }\r\n\r\n  const resourceTransitions = useTransition(resources, {\r\n    key: (item) => item.index,\r\n    from: ({ x, y }) => ({ x, y:-1000, opacity: 0 }),\r\n    enter: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y }) => ({ x, y }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 1000, mass: 5, tension: 500, friction: 50 },\r\n    trail: 100,\r\n    onRest,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      css={resourceContainer}\r\n      style={{ height: Math.max(...heights) }}\r\n    >\r\n      {resourceTransitions((style, item) => {\r\n        return (\r\n          <a.div\r\n            css={resource}\r\n            style={style}\r\n            className=\"box\"\r\n          >\r\n            <div css={startResource}>\r\n              <span>{item.quantity}</span>\r\n              <a.img\r\n                src={`${process.env.PUBLIC_URL}/game_resources/${item.type}.png`}\r\n              />\r\n            </div>\r\n          </a.div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { tileContainer, priestPriestessTile } from \"../Setup/Setup.css\";\r\nimport { shuffle } from \"lodash\";\r\n\r\nexport const PriestPriestessTiles = (props) => {\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 768px)\", \"(max-width: 767px)\"],\r\n    [ 2, 1],\r\n    1\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  // Hook3: Hold items\r\n  const [items, set] = useState([]);\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    if (items.length <= 0) {\r\n      set(props.priestPriestessTiles);\r\n    }\r\n\r\n    const t = setInterval(() => {\r\n      if (items.length > props.numberToPick) {\r\n        items.pop();\r\n        set(shuffle);\r\n      }\r\n    }, 50);\r\n    return () => clearInterval(t);\r\n  }, [items, props.numberToPick]);\r\n\r\n  let tileHeight = (width * 1.4661654135338345864661654135338)/columns;\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n      return { ...child, x, width: width, y };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width, tileHeight]);\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x, y, }) => ({ x, y, opacity: 0 }),\r\n    enter: ({ x, y,  }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y,  }) => ({ x, y, }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 500, mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n    onRest: props.onRest\r\n  });\r\n\r\n  return (\r\n    <div ref={ref} css={tileContainer} style={{ height: Math.max(...heights) }}>\r\n      {transitions((style, item) => (\r\n        <a.img\r\n          css={priestPriestessTile}\r\n          style={style}\r\n          src={`${process.env.PUBLIC_URL}/priest_priestess_tiles/${item.src}/${item.name}.jpg`}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useRef, useCallback, useEffect, useState } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { StartTiles } from \"./StartTiles\";\r\nimport { TechTiles } from \"./TechTiles\";\r\nimport { TempleTiles } from \"./TempleTiles\";\r\nimport { RoyalTiles } from \"./RoyalTiles\";\r\nimport {\r\n  btnContinue,\r\n  orangeTemple,\r\n  setupContainer,\r\n  setupSection,\r\n} from \"./Setup.css\";\r\nimport { DicePlacement } from \"./DicePlacement\";\r\nimport { find, remove, cloneDeep, shuffle } from \"lodash\";\r\nimport { StartingResources } from \"./StartingResources\";\r\nimport { PriestPriestessTiles } from \"./PriestPriestessTiles\";\r\nimport {\r\n  getActionItemByValue,\r\n  getNeutralArray,\r\n  getPlayerArray,\r\n  getRandomArrayIndex,\r\n  getTeotibotArray,\r\n} from \"../Logic\";\r\nimport {\r\n  baseStartTiles,\r\n  xitleStartTiles,\r\n  initialTeotibotStartingResources,\r\n  periodStartTiles,\r\n  baseTechTiles,\r\n  baseRoyalTiles,\r\n  xitleTechTiles,\r\n  periodTechTiles,\r\n  baseTempleTiles,\r\n  basePriestPriestessTiles,\r\n  baseTeotiPriestPriestessTiles,\r\n  obsidianPriestPriestessTiles,\r\n  altarsAndShamansPriestPriestessTiles,\r\n  getActionImage,\r\n} from \"../Constants\";\r\n\r\nexport const Setup = (props) => {\r\n  const startTileRef = useRef(null);\r\n  const royalTileRef = useRef(null);\r\n  const playerResourceRef = useRef(null);\r\n  const teotibotResourceRef = useRef(null);\r\n  const neutralPlayerResourceRef = useRef(null);\r\n  const continueRef = useRef(null);\r\n  const [startTiles, setStartTiles] = useState([]);\r\n  const [techTiles, setTechTiles] = useState([]);\r\n  const [templeTiles, setTempleTiles] = useState([]);\r\n  const [royalTiles, setRoyalTiles] = useState([]);\r\n  const [priestPriestessTiles, setPriestPriestessTiles] = useState([]);\r\n  const [teotibotPriestPriestessTiles, setTeotibotPriestPriestessTiles] =\r\n    useState([]);\r\n  const [hasScrolled, setHasScrolled] = useState(false);\r\n  const [selectedStartTiles, setSelectedStartTiles] = useState([]);\r\n  const [selectedResources, setSelectedResources] = useState([]);\r\n  const [teotibotStartingResources, setTeotibotStartingResources] = useState(\r\n    initialTeotibotStartingResources(\r\n      props.teotibotStartingGold,\r\n      props.teotibotStartingWood,\r\n      props.teotibotStartingStone\r\n    )\r\n  );\r\n  const [remainingStartTiles, setRemainingStartTiles] = useState([]);\r\n  const [playerPlacements, setPlayerPlacements] = useState([]);\r\n  const [teotibotPlacements, setTeotibotPlacements] = useState([]);\r\n  const [teotibotShamanPlacement, setTeotibotShamanPlacement] = useState([]);\r\n  const [neutralPlacements1, setNeutralPlacements1] = useState([]);\r\n  const [neutralPlacements2, setNeutralPlacements2] = useState([]);\r\n  const [showPlayerStartingResources, setShowPlayerStartingResources] =\r\n    useState(false);\r\n  const [showTeotibotStartingResources, setShowTeotibotStartingResources] =\r\n    useState(false);\r\n  const [showPlayerPlacements, setShowPlayerPlacements] = useState(false);\r\n  const [showTechs, setShowTechs] = useState(true);\r\n  const [showTemples, setShowTemples] = useState(false);\r\n  const [showRoyalTiles, setShowRoyalTiles] = useState(false);\r\n  const [showStartTiles, setShowStartTiles] = useState(false);\r\n  const [showPlayerPriestPriestessTiles, setShowPlayerPriestPriestessTiles] =\r\n    useState(false);\r\n  const [showIsHeightOfDevelopment, setShowIsHeightOfDevelopment] =\r\n    useState(false);\r\n  const [showIsAltarsAndShamans, setShowIsAltarsAndShamans] = useState(false);\r\n  const [\r\n    showTeotibotPriestPriestessTiles,\r\n    setShowTeotibotPriestPriestessTiles,\r\n  ] = useState(false);\r\n  const [showTeotibotDice, setShowTeotibotDice] = useState(false);\r\n  const [showNeutralPlayer1, setShowNeutralPlayer1] = useState(false);\r\n  const [showNeutralPlayer2, setShowNeutralPlayer2] = useState(false);\r\n  const [showBoardSetup, setShowBoardSetup] = useState(false);\r\n  const [showContinue, setShowContinue] = useState(false);\r\n\r\n  const getTeotibotPlacement = useCallback(() => {\r\n    return getTeotibotArray(\r\n      props.teotibotWorkerPowerForAction4,\r\n      props.teotibotWorkerPowerForAction6,\r\n      props.teotibotWorkerPowerForAction8\r\n    );\r\n  }, []);\r\n\r\n  const getShamanPlacement = useCallback((shuffledTiles) => {\r\n    let index = getRandomArrayIndex(shuffledTiles);\r\n    return shuffledTiles[index].numbers[0];\r\n  }, []);\r\n\r\n  const getNeutralPlacement = useCallback((shuffledTiles) => {\r\n    return getNeutralArray(shuffledTiles);\r\n  }, []);\r\n\r\n  const getPlayerPlacements = useCallback((selectedStartTiles) => {\r\n    return getPlayerArray(selectedStartTiles);\r\n  }, []);\r\n\r\n  const calcDicePlacements = useCallback(() => {\r\n    let shuffledTiles = shuffle(cloneDeep(remainingStartTiles));\r\n    setPlayerPlacements(getPlayerPlacements(selectedStartTiles));\r\n    setTeotibotPlacements(getTeotibotPlacement());\r\n    setTeotibotShamanPlacement(getShamanPlacement(shuffledTiles));\r\n    setNeutralPlacements1(getNeutralPlacement(shuffledTiles));\r\n    setNeutralPlacements2(getNeutralPlacement(shuffledTiles));\r\n  }, [selectedStartTiles, remainingStartTiles]);\r\n\r\n  function addResourceQuantities(arr, item) {\r\n    const found = arr.some((el) => el.type === item.type);\r\n    let index = arr.findIndex((el) => el.type === item.type);\r\n\r\n    if (index >= 0) {\r\n      arr[index].quantity += item.quantity;\r\n    }\r\n\r\n    if (!found) {\r\n      item.key = arr.length;\r\n      arr.push(item);\r\n    }\r\n\r\n    return arr;\r\n  }\r\n\r\n  const getResources = useCallback((selectedStartTiles) => {\r\n    let result = [];\r\n\r\n    selectedStartTiles.forEach((selectedStartTile) => {\r\n      let arr = cloneDeep(selectedStartTile.resources);\r\n\r\n      arr.forEach((resource) => {\r\n        addResourceQuantities(result, resource);\r\n      });\r\n    });\r\n\r\n    //add 1 Cocoa for player start\r\n    addResourceQuantities(result, { type: \"cocoa\", quantity: 1 });\r\n\r\n    return result;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let startTiles = baseStartTiles;\r\n    let techTiles = baseTechTiles;\r\n    let templeTiles = baseTempleTiles;\r\n    let royalTiles = baseRoyalTiles;\r\n    let priestPriestessTiles = basePriestPriestessTiles;\r\n    let teotibotPriestPriestessTiles = baseTeotiPriestPriestessTiles;\r\n\r\n    if (props.isXitle) {\r\n      startTiles = [...startTiles, ...xitleStartTiles];\r\n      techTiles = [...techTiles, ...xitleTechTiles];\r\n    }\r\n\r\n    if (props.isObsidian) {\r\n      startTiles = [...startTiles, ...periodStartTiles];\r\n      techTiles = [...techTiles, ...periodTechTiles];\r\n      priestPriestessTiles = [\r\n        ...priestPriestessTiles,\r\n        ...obsidianPriestPriestessTiles,\r\n      ];\r\n    }\r\n\r\n    if (props.isAltarsAndShamans) {\r\n      priestPriestessTiles = [\r\n        ...priestPriestessTiles,\r\n        ...altarsAndShamansPriestPriestessTiles,\r\n      ];\r\n    }\r\n\r\n    setStartTiles(startTiles);\r\n    setTechTiles(techTiles);\r\n    setTempleTiles(templeTiles);\r\n    setRoyalTiles(royalTiles);\r\n    setPriestPriestessTiles(priestPriestessTiles);\r\n    setTeotibotPriestPriestessTiles(teotibotPriestPriestessTiles);\r\n  }, [props.isXitle, props.isObsidian, props.isAltarsAndShamans]);\r\n\r\n  useEffect(() => {\r\n    if (selectedStartTiles.length >= 2) {\r\n      setRemainingStartTiles(\r\n        startTiles.filter((el) => {\r\n          return (\r\n            el.name !== selectedStartTiles[0].name &&\r\n            el.name !== selectedStartTiles[1].name\r\n          );\r\n        })\r\n      );\r\n      setSelectedResources(getResources(selectedStartTiles));\r\n      setShowPlayerStartingResources(true);\r\n    } else {\r\n      setShowPlayerPlacements(false);\r\n      setShowTeotibotDice(false);\r\n      setShowNeutralPlayer1(false);\r\n      setShowNeutralPlayer2(false);\r\n      setShowBoardSetup(false);\r\n      setShowPlayerStartingResources(false);\r\n      setShowPlayerPriestPriestessTiles(false);\r\n      setShowTeotibotPriestPriestessTiles(false);\r\n      setShowTeotibotStartingResources(false);\r\n      setHasScrolled(false);\r\n      setNeutralPlacements1([]);\r\n      setNeutralPlacements2([]);\r\n      setTeotibotPlacements([]);\r\n      setSelectedResources([]);\r\n    }\r\n  }, [getResources, selectedStartTiles]);\r\n\r\n  useEffect(() => {\r\n    if (remainingStartTiles.length > 0) {\r\n      calcDicePlacements();\r\n    }\r\n  }, [calcDicePlacements, remainingStartTiles.length]);\r\n\r\n  useEffect(() => {\r\n    if (showStartTiles) {\r\n      setTimeout(() => {\r\n        startTileRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n      }, 500);\r\n    }\r\n  }, [showStartTiles]);\r\n\r\n  const selectedTile = (startTile) => {\r\n    if (startTile) {\r\n      let newTitle = startTile;\r\n      var newHistory = [...selectedStartTiles];\r\n      var listItem = find(newHistory, [\"name\", startTile.name]);\r\n\r\n      //add\r\n      if (listItem == null) {\r\n        if (newHistory.length < 2) {\r\n          newTitle.selected = !startTile.selected;\r\n          newHistory = [...selectedStartTiles, newTitle];\r\n        } else {\r\n          return;\r\n        }\r\n      } else {\r\n        //update\r\n        listItem.selected = !listItem.selected;\r\n        if (listItem.selected === false) {\r\n          remove(newHistory, (item) => {\r\n            return item.name === listItem.name;\r\n          });\r\n        }\r\n      }\r\n\r\n      setSelectedStartTiles(newHistory);\r\n    }\r\n  };\r\n\r\n  const onRest = () => {\r\n    if (showTechs) {\r\n      setShowTemples(true);\r\n    }\r\n\r\n    if (showTemples) {\r\n      setShowRoyalTiles(true);\r\n    }\r\n\r\n    if (showRoyalTiles) {\r\n      setShowStartTiles(true);\r\n      scrollIntoView(royalTileRef);\r\n    }\r\n\r\n    if (showPlayerStartingResources) {\r\n      setShowPlayerPlacements(true);\r\n      scrollIntoView(playerResourceRef);\r\n      if (props.isPriestAndPriestess) {\r\n        setShowPlayerPriestPriestessTiles(true);\r\n      }\r\n    }\r\n    if (showPlayerPlacements) {\r\n      setShowTeotibotStartingResources(true);\r\n    }\r\n    if (showTeotibotStartingResources) {\r\n      if (props.isPriestAndPriestess) {\r\n        setShowTeotibotPriestPriestessTiles(true);\r\n      }\r\n      if (props.isHeightOfDevelopment) {\r\n        setShowIsHeightOfDevelopment(true);\r\n      }\r\n      if (props.isAltarsAndShamans) {\r\n        setShowIsAltarsAndShamans(true);\r\n      }\r\n      scrollIntoView(teotibotResourceRef);\r\n      setShowTeotibotDice(true);\r\n    }\r\n    if (showTeotibotDice) {\r\n      setShowNeutralPlayer1(true);\r\n    }\r\n    if (showNeutralPlayer1) {\r\n      scrollIntoView(neutralPlayerResourceRef);\r\n      setShowNeutralPlayer2(true);\r\n    }\r\n    if (showNeutralPlayer2) {\r\n      setShowContinue(true);\r\n      scrollIntoView(continueRef, true);\r\n      setShowBoardSetup(true);\r\n    }\r\n  };\r\n\r\n  const scrollIntoView = (ref, finishScroll) => {\r\n    if (!hasScrolled) {\r\n      ref.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n    if (finishScroll) {\r\n      setHasScrolled(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div css={setupContainer}>\r\n      {showTechs && (\r\n        <div css={setupSection}>\r\n          <h3>Technology Tiles</h3>\r\n          <TechTiles techTiles={techTiles} onRest={onRest} />\r\n        </div>\r\n      )}\r\n      {showTemples && (\r\n        <div css={setupSection}>\r\n          <h3>Temple Tiles</h3>\r\n          <TempleTiles templeTiles={templeTiles} onRest={onRest} />\r\n        </div>\r\n      )}\r\n\r\n        <div css={setupSection} ref={royalTileRef}>\r\n        {showRoyalTiles && (\r\n          <div css={setupSection}>\r\n            <h3>Royal Tiles</h3>\r\n            <RoyalTiles royalTiles={royalTiles} onRest={onRest} />\r\n          </div>\r\n                )}\r\n        </div>\r\n\r\n      <div css={setupSection} ref={startTileRef}>\r\n        {showStartTiles && (\r\n          <div>\r\n            <h3>Select 2 Start Tiles:</h3>\r\n            <StartTiles\r\n              startTiles={startTiles}\r\n              selectedStartTiles={selectedTile}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div css={setupSection} ref={playerResourceRef}>\r\n        <h2>Player setup</h2>\r\n        {showPlayerStartingResources && (\r\n          <div>\r\n            <h3>Player Starting Resources:</h3>\r\n            <StartingResources\r\n              startingResources={selectedResources}\r\n              onRest={onRest}\r\n            />\r\n          </div>\r\n        )}\r\n        {showPlayerPriestPriestessTiles && (\r\n          <div css={setupSection}>\r\n            <h3>Priest/Priestess Tiles:</h3>\r\n            <PriestPriestessTiles\r\n              priestPriestessTiles={priestPriestessTiles}\r\n              numberToPick={2}\r\n            />\r\n          </div>\r\n        )}\r\n        {showPlayerPlacements && (\r\n          <div css={setupSection}>\r\n            <h3>Player Placements:</h3>\r\n            <DicePlacement dicePlacements={playerPlacements} onRest={onRest} />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div css={setupSection} ref={teotibotResourceRef}>\r\n        <h2>Teotibot Setup</h2>\r\n        {showTeotibotStartingResources && (\r\n          <div>\r\n            <h3>Teotibot Starting Resources:</h3>\r\n            <StartingResources\r\n              startingResources={teotibotStartingResources}\r\n              onRest={onRest}\r\n            />\r\n          </div>\r\n        )}\r\n        {showTeotibotPriestPriestessTiles && (\r\n          <div>\r\n            <h3>Teotibot Priest/Priestess Tile:</h3>\r\n            <PriestPriestessTiles\r\n              priestPriestessTiles={teotibotPriestPriestessTiles}\r\n              numberToPick={1}\r\n            />\r\n          </div>\r\n        )}\r\n        {showTeotibotDice && (\r\n          <div>\r\n            <h3>Teotibot Placement:</h3>\r\n            <DicePlacement\r\n              dicePlacements={teotibotPlacements}\r\n              onRest={onRest}\r\n            />\r\n            {showIsHeightOfDevelopment && (\r\n              <div css={orangeTemple}>\r\n                <h3>Height of development</h3>\r\n                <span>\r\n                  Place one of Teotibot's worshippers on the Temple Bonus tile\r\n                  of the orange temple.{\" \"}\r\n                  <img src={`${process.env.PUBLIC_URL}/game_resources/to.png`} />\r\n                </span>\r\n              </div>\r\n            )}\r\n            {showIsAltarsAndShamans && (\r\n              <div css={orangeTemple}>\r\n                <h3>Altars and Shamans</h3>\r\n                <span>\r\n                  Place the Shaman on the Major Discovery space of the first\r\n                  Altar counter-clockwise from:\r\n                </span>\r\n                <div>\r\n                  <img\r\n                    src={`${process.env.PUBLIC_URL}/actions/no${teotibotShamanPlacement}.png`}\r\n                  />\r\n                  {getActionItemByValue(teotibotShamanPlacement).name}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div css={setupSection} ref={neutralPlayerResourceRef}>\r\n        <h2>Neutral Player Setup</h2>\r\n        {showNeutralPlayer1 && (\r\n          <div>\r\n            <h3>Neutral player 1:</h3>\r\n            <DicePlacement\r\n              dicePlacements={neutralPlacements1}\r\n              onRest={onRest}\r\n            />\r\n          </div>\r\n        )}\r\n        {showNeutralPlayer2 && (\r\n          <div>\r\n            <h3>Neutral player 2:</h3>\r\n            <DicePlacement\r\n              dicePlacements={neutralPlacements2}\r\n              onRest={onRest}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div css={setupSection}>\r\n      {showBoardSetup && (<div>\r\n        <h2>Board Setup</h2>\r\n        <img src=\"./game_resources/temple_setup.png\"/>\r\n        </div>)}\r\n      </div>\r\n      <div ref={continueRef}>\r\n        {showContinue && (\r\n          <div css={btnContinue} onClick={props.startApp}>\r\n            <span>Continue</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { css } from \"@emotion/react\";\r\nimport { mediaQueries } from \"./variables\";\r\n\r\nexport const optionsButton = css`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n`;\r\n\r\nexport const options = css`\r\n  margin: auto auto;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  font-size: 1rem;\r\n\r\n  h2 {\r\n    text-align: center;\r\n  }\r\n\r\n  .checkbox-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    .checkbox-item {\r\n      display: flex;\r\n      align-items: center;\r\n      cursor: pointer;\r\n\r\n      &.disabled {\r\n        pointer-events: none;\r\n        opacity: 0.7;\r\n      }\r\n\r\n      span {\r\n        margin-left: 1rem;\r\n        font-size: 1.5rem;\r\n\r\n        @media ${mediaQueries.isMaxXs} {\r\n          font-size: 1rem;\r\n        }\r\n      }\r\n    }\r\n\r\n    input[type=\"checkbox\"] {\r\n      width: 42px;\r\n      height: 42px;\r\n      cursor: pointer;\r\n\r\n      @media ${mediaQueries.isMaxXs} {\r\n        width: 30px;\r\n        height: 30px;\r\n      }\r\n    }\r\n\r\n    span {\r\n      font-size: 2rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const optionsContainer = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 3rem 0 0 0;\r\n\r\n  h3 {\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nexport const teotibotResourceContainer = css`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 20px;\r\n\r\n  @media ${mediaQueries.isMaxSm} {\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nexport const optionsTeotibotStartingResources = css`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n\r\n  .action {\r\n    width: 2.5rem;\r\n  }\r\n\r\n  .vp {\r\n    width: 2rem;\r\n  }\r\n\r\n  img {\r\n    width: 4rem;\r\n    margin: 0 5px;\r\n  }\r\n\r\n  span {\r\n    display: flex;\r\n    font-size: 4rem;\r\n    margin: 0 5px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  @media ${mediaQueries.isMaxSm} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const expansionOptions = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  flex: 100%;\r\n  margin-left: 1rem;\r\n  img {\r\n    width: 4rem;\r\n  }\r\n`;\r\n\r\nexport const generalOption = css`\r\n  margin: 2rem 1rem;\r\n`\r\n\r\nexport const optionsSection = css`\r\n  margin: 2rem 0;\r\n`;\r\n\r\nexport const expansionContainer = css`\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: 1rem 1rem;\r\n`;\r\n\r\nexport const expansion = css`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex: 50%;\r\n\r\n  img {\r\n    width: 100%;\r\n    max-width: 300px;\r\n  }\r\n`;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/react\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport React from \"react\";\r\nimport { checkboxTooltip, checkbox } from \"./Checkbox.css\";\r\n\r\nexport class Checkbox extends React.Component {\r\n  render() {\r\n    return (\r\n      <div css={checkbox}>\r\n        <label className={`checkbox-item`}>\r\n          <input\r\n            name={this.props.label}\r\n            type=\"checkbox\"\r\n            checked={this.props.checked}\r\n            onChange={this.props.onChange}\r\n          />\r\n          <span>{this.props.label}</span>\r\n        </label>\r\n\r\n        {this.props.withTooltip && (\r\n          <Tippy content={this.props.withTooltip}>\r\n            <span css={checkboxTooltip}>?</span>\r\n          </Tippy>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/** @jsx jsx */\r\nimport React from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport {\r\n  options,\r\n  optionsContainer,\r\n  expansionOptions,\r\n  optionsSection,\r\n  optionsTeotibotStartingResources,\r\n  expansion,\r\n  expansionContainer,\r\n  teotibotResourceContainer,\r\n  generalOption,\r\n} from \"./Options.css.js\";\r\nimport { activeText } from \"./Tiles/TileList.css\";\r\nimport { Checkbox } from \"./Checkbox\";\r\nimport { btnNew } from \"./Setup/Setup.css.js\";\r\n\r\nexport const Options = (props) => {\r\n  return (\r\n    <div css={options}>\r\n      <div css={activeText} onClick={props.back}>\r\n        <img\r\n          src={`${process.env.PUBLIC_URL}/game_resources/back.png`}\r\n          alt=\"Back\"\r\n        />\r\n      </div>\r\n      <h2>General</h2>\r\n      <div css={optionsSection}>\r\n        <div css={generalOption}>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Skip setup\"\r\n              checked={props.isSkipSetup}\r\n              onChange={props.onChangeIsSkipSetup}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div css={generalOption}>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Track Ascensions\"\r\n              checked={props.isAscend}\r\n              onChange={props.onChangeIsAscend}\r\n              withTooltip={\r\n                \"Click to track number of Ascensions until an Eclipse.\"\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        {props.isAscend && (\r\n          <div css={generalOption}>\r\n            <div className={\"checkbox-container\"}>\r\n              <Checkbox\r\n                label=\"Dark Eclipse Variant\"\r\n                checked={props.isDarkEclipse}\r\n                onChange={props.onChangeIsDarkEclipse}\r\n                withTooltip={\r\n                  \"An Eclipse (scoring) happens immediately after the turn of the player who has caused the light disc to reach the space occupied by the dark disc.\"\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div css={generalOption}>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Move Neutral Players every turn\"\r\n              checked={props.isMoveNeutral}\r\n              onChange={props.onChangeIsMoveNeutral}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div css={generalOption}>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Advanced bot tile descriptions\"\r\n              checked={props.isAdvanced}\r\n              onChange={props.onChangeIsAdvanced}\r\n              withTooltip={\"Shorter bot tile summaries with no steps.\"}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <h2>Expansions</h2>\r\n      <div css={expansionContainer}>\r\n        <div css={expansion}>\r\n          <img\r\n            src={`${process.env.PUBLIC_URL}/backgrounds/late-preclassic.jpg`}\r\n            alt=\"late-preclassic\"\r\n          />\r\n        </div>\r\n        <div css={expansionOptions}>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Priests and Priestesses\"\r\n              checked={props.isPriestAndPriestess}\r\n              onChange={props.onChangeIsPriestAndPriestess}\r\n            />\r\n          </div>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Height of Development\"\r\n              checked={props.isHeightOfDevelopment}\r\n              onChange={props.onChangeIsHeightOfDevelopment}\r\n            />\r\n          </div>\r\n          {/* <div className={\"checkbox-container\"}>\r\n              <Checkbox\r\n                label=\"Seasons of Progress\"\r\n                checked={props.isSeasonsOfProgress}\r\n                onChange={props.onChangeIsSeasonsOfProgress}\r\n              />\r\n            </div> */}\r\n        </div>\r\n      </div>\r\n      <div css={expansionContainer}>\r\n        <div css={expansion}>\r\n          <img\r\n            src={`${process.env.PUBLIC_URL}/backgrounds/xitle.jpg`}\r\n            alt=\"Shadow of Xitle\"\r\n          />\r\n        </div>\r\n        <div css={expansionOptions}>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Start & Tech Tiles\"\r\n              checked={props.isXitle}\r\n              onChange={props.onChangeXitle}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div css={expansionContainer}>\r\n        <div css={expansion}>\r\n          <img\r\n            src={`${process.env.PUBLIC_URL}/backgrounds/period.jpg`}\r\n            alt=\"Expansion Period\"\r\n          />\r\n        </div>\r\n        <div css={expansionOptions}>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Obsidian\"\r\n              checked={props.isObsidian}\r\n              onChange={props.onChangeIsObsidian}\r\n            />\r\n          </div>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Mansion\"\r\n              checked={props.isMansion}\r\n              onChange={props.onChangeIsMansion}\r\n            />\r\n          </div>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Altars and Shamans\"\r\n              checked={props.isAltarsAndShamans}\r\n              onChange={props.onChangeIsAltarsAndShamans}\r\n            />\r\n          </div>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Expanding Empire\"\r\n              checked={props.isEmpires}\r\n              onChange={props.onChangeIsEmpires}\r\n            />\r\n          </div>\r\n          <div className={\"checkbox-container\"}>\r\n            <Checkbox\r\n              label=\"Alt. Teotibot movement\"\r\n              checked={props.isAlternateTeotibotMovement}\r\n              onChange={props.onChangeAlternateTeotibotMovement}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div css={optionsContainer}>\r\n        <h2>Teotibot Difficulty</h2>\r\n        <div css={optionsSection}>\r\n          <h3>Unlocked workers power</h3>\r\n          <div css={optionsTeotibotStartingResources}>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotWorkerPowerForAction4}>\r\n                +\r\n              </span>\r\n              <img className=\"action\" src=\"./actions/no4.png\" alt=\"Gold\" />\r\n              <img\r\n                src={`./game_dice/d${props.teotibotWorkerPowerForAction4}.png`}\r\n                alt=\"\"\r\n              />\r\n              <span onClick={props.onDecreaseTeotibotWorkerPowerForAction4}>\r\n                -\r\n              </span>\r\n            </div>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotWorkerPowerForAction6}>\r\n                +\r\n              </span>\r\n              <img className=\"action\" src=\"./actions/no6.png\" alt=\"Gold\" />\r\n              <img\r\n                src={`./game_dice/d${props.teotibotWorkerPowerForAction6}.png`}\r\n                alt=\"\"\r\n              />\r\n              <span onClick={props.onDecreaseTeotibotWorkerPowerForAction6}>\r\n                -\r\n              </span>\r\n            </div>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotWorkerPowerForAction8}>\r\n                +\r\n              </span>\r\n              <img className=\"action\" src=\"./actions/no8.png\" alt=\"Gold\" />\r\n              <img\r\n                src={`./game_dice/d${props.teotibotWorkerPowerForAction8}.png`}\r\n                alt=\"\"\r\n              />\r\n              <span onClick={props.onDecreaseTeotibotWorkerPowerForAction8}>\r\n                -\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={optionsSection}>\r\n          <h3>Teotibot Starting Resources</h3>\r\n          <div css={optionsTeotibotStartingResources}>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotStartingGold}>+</span>\r\n              <span>{props.teotibotStartingGold}</span>\r\n              <img src=\"./game_resources/gold.png\" alt=\"Gold\" />{\" \"}\r\n              <span onClick={props.onDecreaseTeotibotStartingGold}>-</span>\r\n            </div>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotStartingWood}>+</span>\r\n              <span>{props.teotibotStartingWood}</span>\r\n              <img src=\"./game_resources/wood.png\" alt=\"Wood\" />{\" \"}\r\n              <span onClick={props.onDecreaseTeotibotStartingWood}>-</span>\r\n            </div>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotStartingStone}>+</span>\r\n              <span>{props.teotibotStartingStone}</span>\r\n              <img src=\"./game_resources/stone.png\" alt=\"Stone\" />{\" \"}\r\n              <span onClick={props.onDecreaseTeotibotStartingStone}>-</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={optionsSection}>\r\n          <h3>VP exchange for 10 cocoa</h3>\r\n          <div css={optionsTeotibotStartingResources}>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotVPfor10Cocoa}>+</span>\r\n              <span>{props.teotibotVPFor10Cocoa}</span>\r\n              <img className=\"vp\" src=\"./game_resources/vp.png\" alt=\"VP\" />{\" \"}\r\n              <img src=\"./game_resources/cocoa.png\" alt=\"VP\" />{\" \"}\r\n              <span onClick={props.onDecreaseTeotibotVPfor10Cocoa}>-</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={optionsSection}>\r\n          <h3>Steps taken per worship</h3>\r\n          <div css={optionsTeotibotStartingResources}>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotStepsPerWorship}>+</span>\r\n              <span>{props.teotibotStepsPerWorship}</span>\r\n              <img src=\"./game_resources/worshipspace.png\" alt=\"VP\" />{\" \"}\r\n              <span onClick={props.onDecreaseTeotibotStepsPerWorship}>-</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={optionsSection}>\r\n          <h3>VP for temple bonus tiles</h3>\r\n          <div css={optionsTeotibotStartingResources}>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotVPForTempleTiles}>+</span>\r\n              <span>{props.teotibotVPForTempleTiles}</span>\r\n              <img src=\"./game_resources/templebonus.jpg\" alt=\"VP\" />{\" \"}\r\n              <span onClick={props.onDecreaseTeotibotVPForTempleTiles}>-</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={optionsSection}>\r\n          <h3>VP for tech tiles</h3>\r\n          <div css={optionsTeotibotStartingResources}>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotVPForTechTiles}>+</span>\r\n              <span>{props.teotibotVPForTechTiles}</span>\r\n              <img className=\"vp\" src=\"./game_resources/vp.png\" alt=\"VP\" />{\" \"}\r\n              <img src=\"./game_resources/tech.png\" alt=\"VP\" />{\" \"}\r\n              <span onClick={props.onDecreaseTeotibotVPForTechTiles}>-</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={optionsSection}>\r\n          <h3>Gaining resources</h3>\r\n          <div css={optionsTeotibotStartingResources}>\r\n            <div css={teotibotResourceContainer}>\r\n              <span onClick={props.onIncreaseTeotibotResourcesToGain}>+</span>\r\n              <span>{props.teotibotResourcesToGain}</span>\r\n              <img src=\"./game_resources/any.png\" alt=\"any\" />\r\n              <span>1</span>\r\n              <img src=\"./game_resources/obsidian.png\" alt=\"any\" />\r\n              <span onClick={props.onDecreaseTeotibotResourcesToGain}>-</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={optionsSection}>\r\n          <div css={btnNew} onClick={props.newGame}>\r\n            <span>New game</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useEffect, useState } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { animated, useTransition, config } from \"@react-spring/web\";\r\nimport { loadingText } from \"./AppContainer.css\";\r\nimport { num_trans } from \"./Constants\";\r\n\r\nexport const Loading = () => {\r\n  const [items, setItems] = useState(num_trans);\r\n\r\n  const transitions = useTransition(items, {\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0 },\r\n    delay: 200,\r\n    config: config.molasses,\r\n    onRest: () => setItems([]),\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      setTimeout(() => {\r\n        setItems(num_trans);\r\n      }, 2000);\r\n    }\r\n  }, [items]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // cancel the subscription\r\n      setItems([])\r\n  };\r\n  }, []);\r\n\r\n  return (\r\n    <div css={loadingText}>\r\n      {transitions(({ opacity }, item) => (\r\n        <animated.div\r\n          style={{\r\n            opacity: opacity.to(item.op),\r\n            transform: opacity\r\n              .to(item.trans)\r\n              .to((y) => `translate3d(0,${y}px,0)`),\r\n          }}\r\n        >\r\n          {item.fig}\r\n        </animated.div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { useSpring, animated } from \"@react-spring/web\";\r\nimport { heading } from \"./AppContainer.css\";\r\n\r\nexport const Heading = () => {\r\n    const [state, toggle] = useState(true)\r\n    const { x } = useSpring({\r\n      from: { x: 0 },\r\n      x: state ? 1 : 0,\r\n      config: { duration: 1000 },\r\n    })\r\n    return (\r\n      <div onClick={() => toggle(!state)}>\r\n        <animated.div\r\n          css={heading}\r\n          style={{\r\n            opacity: x.to({ range: [0, 1], output: [0.3, 1] }),\r\n            scale: x.to({\r\n              range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],\r\n              output: [1, 0.97, 0.9, 1.1, 0.9, 1.1, 1.03, 1],\r\n            }),\r\n          }}>\r\n           <img src=\"./game_resources/pyramidt.png\" alt=\"Stone\" /><h1>Teotibot</h1>\r\n        </animated.div>\r\n      </div>\r\n    )\r\n};\r\n","/** @jsx jsx */\r\nimport React from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { TileList } from \"./Tiles/TileList\";\r\nimport { Setup } from \"./Setup/Setup\";\r\nimport { appContainer, mainImg, start } from \"./AppContainer.css\";\r\nimport {\r\n  backgroundsToPreload,\r\n  baseStartTiles,\r\n  xitleStartTiles,\r\n  baseTechTiles,\r\n  xitleTechTiles,\r\n  baseTempleTiles,\r\n  StartScreen,\r\n  SetupScreen,\r\n  AppScreen,\r\n  OptionsScreen,\r\n  diceFaces,\r\n  resourcesToPreload,\r\n  actionNames,\r\n  botTiles,\r\n  empireResourcesToPreload,\r\n} from \"./Constants\";\r\nimport { Options } from \"./Options\";\r\nimport { btnSettings, setup } from \"./Setup/Setup.css\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nimport { Loading } from \"./Loading\";\r\nimport { Heading } from \"./Heading\";\r\nimport { PathTiles } from \"./Tiles/PathTiles\";\r\n\r\nexport class AppContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      screenMode: StartScreen,\r\n      lastScreen: StartScreen,\r\n      isXitle: JSON.parse(reactLocalStorage.get(\"isXitle\") ?? false),\r\n      isPriestAndPriestess: JSON.parse(\r\n        reactLocalStorage.get(\"isPriestAndPriestess\") ?? false\r\n      ),\r\n      isHeightOfDevelopment: JSON.parse(\r\n        reactLocalStorage.get(\"isHeightOfDevelopment\") ?? false\r\n      ),\r\n      isSeasonsOfProgress: JSON.parse(\r\n        reactLocalStorage.get(\"isSeasonsOfProgress\") ?? false\r\n      ),\r\n      isAlternateTeotibotMovement: JSON.parse(\r\n        reactLocalStorage.get(\"isAlternateTeotibotMovement\") ?? false\r\n      ),\r\n      isObsidian: JSON.parse(reactLocalStorage.get(\"isObsidian\") ?? false),\r\n      isMansion: JSON.parse(reactLocalStorage.get(\"isMansion\") ?? false),\r\n      isAltarsAndShamans: JSON.parse(\r\n        reactLocalStorage.get(\"isAltarsAndShamans\") ?? false\r\n      ),\r\n      isEmpires: JSON.parse(reactLocalStorage.get(\"isEmpires\") ?? false),\r\n      isSetupComplete: JSON.parse(\r\n        reactLocalStorage.get(\"isSetupComplete\") ?? false\r\n      ),\r\n      isAscend: JSON.parse(reactLocalStorage.get(\"isAscend\") ?? false),\r\n      isDarkEclipse: JSON.parse(\r\n        reactLocalStorage.get(\"isDarkEclipse\") ?? false\r\n      ),\r\n      isMoveNeutral: JSON.parse(\r\n        reactLocalStorage.get(\"isMoveNeutral\") ?? false\r\n      ),\r\n      isAdvanced: JSON.parse(reactLocalStorage.get(\"isAdvanced\") ?? false),\r\n      isSkipSetup: false,\r\n      teotibotStartingGold: 2,\r\n      teotibotStartingWood: 2,\r\n      teotibotStartingStone: 2,\r\n      teotibotVPFor10Cocoa: 3,\r\n      teotibotStepsPerWorship: 2,\r\n      teotibotVPForTempleTiles: 15,\r\n      teotibotVPForTechTiles: 2,\r\n      teotibotWorkerPowerForAction4: 2,\r\n      teotibotWorkerPowerForAction6: 2,\r\n      teotibotWorkerPowerForAction8: 2,\r\n      teotibotResourcesToGain: 1,\r\n      imagesLoaded: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    var imageUrls = [];\r\n\r\n    [...baseTechTiles, ...xitleTechTiles].forEach((tile) => {\r\n      imageUrls.push(\r\n        `${process.env.PUBLIC_URL}/tech_tiles/${tile.src}/${tile.name}.jpg`\r\n      );\r\n    });\r\n\r\n    [...baseStartTiles, ...xitleStartTiles].forEach((tile) => {\r\n      imageUrls.push(\r\n        `${process.env.PUBLIC_URL}/start_tiles/${tile.src}/${tile.name}.jpg`\r\n      );\r\n    });\r\n\r\n    baseTempleTiles.forEach((tile) => {\r\n      imageUrls.push(\r\n        `${process.env.PUBLIC_URL}/temple_tiles/${tile.src}/${tile.name}.jpg`\r\n      );\r\n    });\r\n\r\n    actionNames.forEach((action) => {\r\n      imageUrls.push(`${process.env.PUBLIC_URL}/actions/no${action.value}.png`);\r\n    });\r\n\r\n    diceFaces.forEach((action) => {\r\n      imageUrls.push(`${process.env.PUBLIC_URL}/game_dice/d${action.value}.png`);\r\n    });\r\n\r\n    resourcesToPreload.forEach((resourceName) => {\r\n      imageUrls.push(`${process.env.PUBLIC_URL}/game_resources/${resourceName}.png`);\r\n    });\r\n\r\n    botTiles().forEach((tile) => {\r\n      imageUrls.push(`${process.env.PUBLIC_URL}/bot_tiles/${tile.src}.png`);\r\n    });\r\n\r\n    backgroundsToPreload.forEach((background) => {\r\n      imageUrls.push(`${process.env.PUBLIC_URL}/backgrounds/${background}.jpg`);\r\n    });\r\n    \r\n    empireResourcesToPreload.forEach((background) => {\r\n      imageUrls.push(`${process.env.PUBLIC_URL}/empire/${background}.jpg`);\r\n    });\r\n\r\n    const loadImage = (image) => {\r\n      return new Promise((resolve, reject) => {\r\n        const loadImg = new Image();\r\n        loadImg.src = image;\r\n        // wait 2 seconds to simulate loading time\r\n        loadImg.onload = () => resolve(image);\r\n        loadImg.onerror = (err) => reject(image);\r\n      });\r\n    };\r\n\r\n    Promise.all(imageUrls.map((image) => loadImage(image)))\r\n      .then(() => {\r\n        this.setState({ imagesLoaded: true });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Failed to load images\", err);\r\n        this.setState({ imagesLoaded: true });\r\n      });\r\n\r\n    if (JSON.parse(reactLocalStorage.get(\"isSetupComplete\") ?? false)) {\r\n      this.setState({\r\n        screenMode: AppScreen,\r\n      });\r\n    }\r\n  }\r\n\r\n  //Expansions\r\n  setIsXitle = (isXitle) => {\r\n    this.setState(\r\n      {\r\n        isXitle,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isXitle\", isXitle);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeXitle = (e) => {\r\n    this.setIsXitle(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsAlternateTeotibotMovement = (isAlternateTeotibotMovement) => {\r\n    this.setState(\r\n      {\r\n        isAlternateTeotibotMovement,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\r\n          \"isAlternateTeotibotMovement\",\r\n          isAlternateTeotibotMovement\r\n        );\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeAlternateTeotibotMovement = (e) => {\r\n    this.setIsAlternateTeotibotMovement(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsPriestAndPriestess = (isPriestAndPriestess) => {\r\n    this.setState(\r\n      {\r\n        isPriestAndPriestess,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isPriestAndPriestess\", isPriestAndPriestess);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsPriestAndPriestess = (e) => {\r\n    this.setIsPriestAndPriestess(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsAscend = (isAscend) => {\r\n    this.setState(\r\n      {\r\n        isAscend,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isAscend\", isAscend);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsAscend = (e) => {\r\n    this.setIsAscend(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsDarkEclipse = (isDarkEclipse) => {\r\n    this.setState(\r\n      {\r\n        isDarkEclipse,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isDarkEclipse\", isDarkEclipse);\r\n      }\r\n    );\r\n  };\r\n\r\n  setIsMoveNeutral = (isMoveNeutral) => {\r\n    this.setState(\r\n      {\r\n        isMoveNeutral,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isMoveNeutral\", isMoveNeutral);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsDarkEclipse = (e) => {\r\n    this.setIsDarkEclipse(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n  \r\n  onChangeIsMoveNeutral = (e) => {\r\n    this.setIsMoveNeutral(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n  \r\n  setIsAdvanced = (isAdvanced) => {\r\n    this.setState(\r\n      {\r\n        isAdvanced,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isAdvanced\", isAdvanced);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsAdvanced = (e) => {\r\n    this.setIsAdvanced(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsSeasonsOfProgress = (isSeasonsOfProgress) => {\r\n    this.setState(\r\n      {\r\n        isSeasonsOfProgress,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isSeasonsOfProgress\", isSeasonsOfProgress);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsSeasonsOfProgress = (e) => {\r\n    this.setIsSeasonsOfProgress(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsHeightOfDevelopment = (isHeightOfDevelopment) => {\r\n    this.setState(\r\n      {\r\n        isHeightOfDevelopment,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isHeightOfDevelopment\", isHeightOfDevelopment);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsHeightOfDevelopment = (e) => {\r\n    this.setIsHeightOfDevelopment(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsObsidian = (isObsidian) => {\r\n    if (!isObsidian) {\r\n      this.setIsMansion(false);\r\n      this.setIsAltarsAndShamans(false);\r\n      this.setIsEmpires(false);\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        isObsidian,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isObsidian\", isObsidian);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsObsidian = (e) => {\r\n    this.setIsObsidian(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsMansion = (isMansion) => {\r\n    this.setState(\r\n      {\r\n        isMansion,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isMansion\", isMansion);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsMansion = (e) => {\r\n    this.setIsMansion(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n\r\n    this.setIsObsidian(true);\r\n  };\r\n\r\n  setIsAltarsAndShamans = (isAltarsAndShamans) => {\r\n    this.setState(\r\n      {\r\n        isAltarsAndShamans,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isAltarsAndShamans\", isAltarsAndShamans);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsAltarsAndShamans = (e) => {\r\n    this.setIsAltarsAndShamans(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n\r\n    this.setIsObsidian(true);\r\n  };\r\n\r\n  setIsEmpires = (isEmpires) => {\r\n    this.setState(\r\n      {\r\n        isEmpires,\r\n      },\r\n      () => {\r\n        reactLocalStorage.set(\"isEmpires\", isEmpires);\r\n      }\r\n    );\r\n  };\r\n\r\n  onChangeIsEmpires = (e) => {\r\n    this.setIsEmpires(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n\r\n    this.setIsObsidian(true);\r\n  };\r\n\r\n  setIsSkipSetup = (isSkipSetup) => {\r\n    this.setState({\r\n      isSkipSetup,\r\n    });\r\n  };\r\n\r\n  onChangeIsSkipSetup = (e) => {\r\n    this.setIsSkipSetup(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  //Options\r\n\r\n  //Teotibot starting resources\r\n  onIncreaseTeotibotStartingGold = (e) => {\r\n    if (this.state.teotibotStartingGold < 3) {\r\n      this.setState({\r\n        teotibotStartingGold: this.state.teotibotStartingGold + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotStartingGold = (e) => {\r\n    if (this.state.teotibotStartingGold > 1) {\r\n      this.setState({\r\n        teotibotStartingGold: this.state.teotibotStartingGold - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotStartingWood = (e) => {\r\n    if (this.state.teotibotStartingWood < 3) {\r\n      this.setState({\r\n        teotibotStartingWood: this.state.teotibotStartingWood + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotStartingWood = (e) => {\r\n    if (this.state.teotibotStartingWood > 1) {\r\n      this.setState({\r\n        teotibotStartingWood: this.state.teotibotStartingWood - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotStartingStone = (e) => {\r\n    if (this.state.teotibotStartingStone < 3) {\r\n      this.setState({\r\n        teotibotStartingStone: this.state.teotibotStartingStone + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotStartingStone = (e) => {\r\n    if (this.state.teotibotStartingStone > 1) {\r\n      this.setState({\r\n        teotibotStartingStone: this.state.teotibotStartingStone - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotVPfor10Cocoa = (e) => {\r\n    if (this.state.teotibotVPFor10Cocoa < 5) {\r\n      this.setState({\r\n        teotibotVPFor10Cocoa: this.state.teotibotVPFor10Cocoa + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotVPfor10Cocoa = (e) => {\r\n    if (this.state.teotibotVPFor10Cocoa > 2) {\r\n      this.setState({\r\n        teotibotVPFor10Cocoa: this.state.teotibotVPFor10Cocoa - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotStepsPerWorship = (e) => {\r\n    if (this.state.teotibotStepsPerWorship < 3) {\r\n      this.setState({\r\n        teotibotStepsPerWorship: this.state.teotibotStepsPerWorship + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotStepsPerWorship = (e) => {\r\n    if (this.state.teotibotStepsPerWorship > 1) {\r\n      this.setState({\r\n        teotibotStepsPerWorship: this.state.teotibotStepsPerWorship - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotVPForTempleTiles = (e) => {\r\n    if (this.state.teotibotVPForTempleTiles < 25) {\r\n      this.setState({\r\n        teotibotVPForTempleTiles: this.state.teotibotVPForTempleTiles + 5,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotVPForTempleTiles = (e) => {\r\n    if (this.state.teotibotVPForTempleTiles > 5) {\r\n      this.setState({\r\n        teotibotVPForTempleTiles: this.state.teotibotVPForTempleTiles - 5,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotVPForTechTiles = (e) => {\r\n    if (this.state.teotibotVPForTechTiles < 4) {\r\n      this.setState({\r\n        teotibotVPForTechTiles: this.state.teotibotVPForTechTiles + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotVPForTechTiles = (e) => {\r\n    if (this.state.teotibotVPForTechTiles > 0) {\r\n      this.setState({\r\n        teotibotVPForTechTiles: this.state.teotibotVPForTechTiles - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotWorkerPowerForAction4 = (e) => {\r\n    if (this.state.teotibotWorkerPowerForAction4 < 4) {\r\n      this.setState({\r\n        teotibotWorkerPowerForAction4:\r\n          this.state.teotibotWorkerPowerForAction4 + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotWorkerPowerForAction4 = (e) => {\r\n    if (this.state.teotibotWorkerPowerForAction4 > 1) {\r\n      this.setState({\r\n        teotibotWorkerPowerForAction4:\r\n          this.state.teotibotWorkerPowerForAction4 - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotWorkerPowerForAction6 = (e) => {\r\n    if (this.state.teotibotWorkerPowerForAction6 < 4) {\r\n      this.setState({\r\n        teotibotWorkerPowerForAction6:\r\n          this.state.teotibotWorkerPowerForAction6 + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotWorkerPowerForAction6 = (e) => {\r\n    if (this.state.teotibotWorkerPowerForAction6 > 1) {\r\n      this.setState({\r\n        teotibotWorkerPowerForAction6:\r\n          this.state.teotibotWorkerPowerForAction6 - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotWorkerPowerForAction8 = (e) => {\r\n    if (this.state.teotibotWorkerPowerForAction8 < 4) {\r\n      this.setState({\r\n        teotibotWorkerPowerForAction8:\r\n          this.state.teotibotWorkerPowerForAction8 + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotWorkerPowerForAction8 = (e) => {\r\n    if (this.state.teotibotWorkerPowerForAction8 > 1) {\r\n      this.setState({\r\n        teotibotWorkerPowerForAction8:\r\n          this.state.teotibotWorkerPowerForAction8 - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onIncreaseTeotibotResourcesToGain = (e) => {\r\n    if (this.state.teotibotResourcesToGain < 2) {\r\n      this.setState({\r\n        teotibotResourcesToGain: this.state.teotibotResourcesToGain + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDecreaseTeotibotResourcesToGain = (e) => {\r\n    if (this.state.teotibotResourcesToGain > 1) {\r\n      this.setState({\r\n        teotibotResourcesToGain: this.state.teotibotResourcesToGain - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  start = () => {\r\n    this.setState({\r\n      screenMode: SetupScreen,\r\n    });\r\n  };\r\n\r\n  newGame = () => {\r\n    let screen = StartScreen;\r\n\r\n    if (this.state.isSkipSetup) {\r\n      screen = AppScreen\r\n    }\r\n\r\n    this.setState({\r\n      screenMode: screen,\r\n    });\r\n\r\n    reactLocalStorage.remove(\"eclipseStage\");\r\n    reactLocalStorage.remove(\"stepsUntilEclipse\");\r\n    reactLocalStorage.remove(\"isSetupComplete\");\r\n  };\r\n\r\n  back = () => {\r\n    this.setState({\r\n      screenMode: this.state.lastScreen,\r\n    });\r\n  };\r\n\r\n  options = (lastScreen) => {\r\n    this.setState({\r\n      lastScreen,\r\n      screenMode: OptionsScreen,\r\n    });\r\n  };\r\n\r\n  startApp = () => {\r\n    this.setState({\r\n      screenMode: AppScreen,\r\n      isSetupComplete: true,\r\n    });\r\n    reactLocalStorage.set(\"isSetupComplete\", true);\r\n  };\r\n\r\n  renderApp = () => {\r\n    if (this.state.screenMode === StartScreen) {\r\n      return (\r\n        <div>\r\n          {this.state.imagesLoaded ? (\r\n            <div>\r\n              <ul css={start}>\r\n                <Heading />\r\n                <div css={mainImg} />\r\n                <li onClick={this.start}>Start</li>\r\n                <li onClick={() => this.options(StartScreen)}>Options</li>\r\n              </ul>\r\n            </div>\r\n          ) : (\r\n            <Loading />\r\n          )}\r\n        </div>\r\n      );\r\n    } else if (this.state.screenMode === SetupScreen) {\r\n      return (\r\n        <div css={setup}>\r\n          <img\r\n            css={btnSettings}\r\n            onClick={() => this.options(SetupScreen)}\r\n            src=\"./game_resources/settings-white.png\"\r\n            alt=\"Settings\"\r\n          />\r\n          <Setup\r\n            startApp={this.startApp}\r\n            isXitle={this.state.isXitle}\r\n            isObsidian={this.state.isObsidian}\r\n            isAltarsAndShamans={this.state.isAltarsAndShamans}\r\n            isHeightOfDevelopment={this.state.isHeightOfDevelopment}\r\n            isPriestAndPriestess={this.state.isPriestAndPriestess}\r\n            isAlternateTeotibotMovement={this.state.isAlternateTeotibotMovement}\r\n            isSetupComplete={this.state.isSetupComplete}\r\n            teotibotWorkerPowerForAction4={\r\n              this.state.teotibotWorkerPowerForAction4\r\n            }\r\n            teotibotWorkerPowerForAction6={\r\n              this.state.teotibotWorkerPowerForAction6\r\n            }\r\n            teotibotWorkerPowerForAction8={\r\n              this.state.teotibotWorkerPowerForAction8\r\n            }\r\n            teotibotStartingGold={this.state.teotibotStartingGold}\r\n            teotibotStartingWood={this.state.teotibotStartingWood}\r\n            teotibotStartingStone={this.state.teotibotStartingStone}\r\n          />\r\n        </div>\r\n      );\r\n    } else if (this.state.screenMode === AppScreen) {\r\n      return (\r\n        <TileList\r\n          back={this.back}\r\n          isXitle={this.state.isXitle}\r\n          isObsidian={this.state.isObsidian}\r\n          isMansion={this.state.isMansion}\r\n          isAltarsAndShamans={this.state.isAltarsAndShamans}\r\n          isEmpires={this.state.isEmpires}\r\n          isHeightOfDevelopment={this.state.isHeightOfDevelopment}\r\n          isAlternateTeotibotMovement={this.state.isAlternateTeotibotMovement}\r\n          isMoveNeutral={this.state.isMoveNeutral}\r\n          teotibotVPFor10Cocoa={this.state.teotibotVPFor10Cocoa}\r\n          teotibotVPForTechTiles={this.state.teotibotVPForTechTiles}\r\n          teotibotVPForTempleTiles={this.state.teotibotVPForTempleTiles}\r\n          lastPlayerIndex={this.state.lastPlayerIndex}\r\n          shuffleHistory={this.state.shuffleHistory}\r\n          playerCount={this.state.playerCount}\r\n          defaultFavorTiles={this.state.defaultFavorTiles}\r\n          options={this.options}\r\n          dice1={this.state.dice1}\r\n          dice2={this.state.dice2}\r\n          teotibotStepsPerWorship={this.state.teotibotStepsPerWorship}\r\n          teotibotResourcesToGain={this.state.teotibotResourcesToGain}\r\n          isAscend={this.state.isAscend}\r\n          isDarkEclipse={this.state.isDarkEclipse}\r\n          isAdvanced={this.state.isAdvanced}\r\n        />\r\n      );\r\n    } else if (this.state.screenMode === OptionsScreen) {\r\n      return (\r\n        <Options\r\n          isXitle={this.state.isXitle}\r\n          onChangeXitle={this.onChangeXitle}\r\n          isAscend={this.state.isAscend}\r\n          onChangeIsAscend={this.onChangeIsAscend}\r\n          isDarkEclipse={this.state.isDarkEclipse}\r\n          onChangeIsDarkEclipse={this.onChangeIsDarkEclipse}\r\n          isMoveNeutral={this.state.isMoveNeutral}\r\n          onChangeIsMoveNeutral={this.onChangeIsMoveNeutral}\r\n          isAdvanced={this.state.isAdvanced}\r\n          onChangeIsAdvanced={this.onChangeIsAdvanced}\r\n          isPriestAndPriestess={this.state.isPriestAndPriestess}\r\n          onChangeIsPriestAndPriestess={this.onChangeIsPriestAndPriestess}\r\n          isObsidian={this.state.isObsidian}\r\n          onChangeIsObsidian={this.onChangeIsObsidian}\r\n          isMansion={this.state.isMansion}\r\n          onChangeIsMansion={this.onChangeIsMansion}\r\n          isAltarsAndShamans={this.state.isAltarsAndShamans}\r\n          onChangeIsAltarsAndShamans={this.onChangeIsAltarsAndShamans}\r\n          isEmpires={this.state.isEmpires}\r\n          onChangeIsEmpires={this.onChangeIsEmpires}\r\n          isSeasonsOfProgress={this.state.isSeasonsOfProgress}\r\n          onChangeIsSeasonsOfProgress={this.onChangeIsSeasonsOfProgress}\r\n          isSetupComplete={this.state.isSetupComplete}\r\n          isHeightOfDevelopment={this.state.isHeightOfDevelopment}\r\n          isAlternateTeotibotMovement={this.state.isAlternateTeotibotMovement}\r\n          onChangeAlternateTeotibotMovement={\r\n            this.onChangeAlternateTeotibotMovement\r\n          }\r\n          onChangeIsHeightOfDevelopment={this.onChangeIsHeightOfDevelopment}\r\n          teotibotStartingGold={this.state.teotibotStartingGold}\r\n          onIncreaseTeotibotStartingGold={this.onIncreaseTeotibotStartingGold}\r\n          onDecreaseTeotibotStartingGold={this.onDecreaseTeotibotStartingGold}\r\n          teotibotStartingWood={this.state.teotibotStartingWood}\r\n          onIncreaseTeotibotStartingWood={this.onIncreaseTeotibotStartingWood}\r\n          onDecreaseTeotibotStartingWood={this.onDecreaseTeotibotStartingWood}\r\n          teotibotStartingStone={this.state.teotibotStartingStone}\r\n          onIncreaseTeotibotStartingStone={this.onIncreaseTeotibotStartingStone}\r\n          onDecreaseTeotibotStartingStone={this.onDecreaseTeotibotStartingStone}\r\n          teotibotVPFor10Cocoa={this.state.teotibotVPFor10Cocoa}\r\n          onIncreaseTeotibotVPfor10Cocoa={this.onIncreaseTeotibotVPfor10Cocoa}\r\n          onDecreaseTeotibotVPfor10Cocoa={this.onDecreaseTeotibotVPfor10Cocoa}\r\n          teotibotStepsPerWorship={this.state.teotibotStepsPerWorship}\r\n          onIncreaseTeotibotStepsPerWorship={\r\n            this.onIncreaseTeotibotStepsPerWorship\r\n          }\r\n          onDecreaseTeotibotStepsPerWorship={\r\n            this.onDecreaseTeotibotStepsPerWorship\r\n          }\r\n          teotibotVPForTempleTiles={this.state.teotibotVPForTempleTiles}\r\n          onIncreaseTeotibotVPForTempleTiles={\r\n            this.onIncreaseTeotibotVPForTempleTiles\r\n          }\r\n          onDecreaseTeotibotVPForTempleTiles={\r\n            this.onDecreaseTeotibotVPForTempleTiles\r\n          }\r\n          teotibotVPForTechTiles={this.state.teotibotVPForTechTiles}\r\n          onIncreaseTeotibotVPForTechTiles={\r\n            this.onIncreaseTeotibotVPForTechTiles\r\n          }\r\n          onDecreaseTeotibotVPForTechTiles={\r\n            this.onDecreaseTeotibotVPForTechTiles\r\n          }\r\n          teotibotWorkerPowerForAction4={\r\n            this.state.teotibotWorkerPowerForAction4\r\n          }\r\n          onIncreaseTeotibotWorkerPowerForAction4={\r\n            this.onIncreaseTeotibotWorkerPowerForAction4\r\n          }\r\n          onDecreaseTeotibotWorkerPowerForAction4={\r\n            this.onDecreaseTeotibotWorkerPowerForAction4\r\n          }\r\n          teotibotWorkerPowerForAction6={\r\n            this.state.teotibotWorkerPowerForAction6\r\n          }\r\n          onIncreaseTeotibotWorkerPowerForAction6={\r\n            this.onIncreaseTeotibotWorkerPowerForAction6\r\n          }\r\n          onDecreaseTeotibotWorkerPowerForAction6={\r\n            this.onDecreaseTeotibotWorkerPowerForAction6\r\n          }\r\n          teotibotWorkerPowerForAction8={\r\n            this.state.teotibotWorkerPowerForAction8\r\n          }\r\n          onIncreaseTeotibotWorkerPowerForAction8={\r\n            this.onIncreaseTeotibotWorkerPowerForAction8\r\n          }\r\n          onDecreaseTeotibotWorkerPowerForAction8={\r\n            this.onDecreaseTeotibotWorkerPowerForAction8\r\n          }\r\n          teotibotResourcesToGain={this.state.teotibotResourcesToGain}\r\n          onIncreaseTeotibotResourcesToGain={\r\n            this.onIncreaseTeotibotResourcesToGain\r\n          }\r\n          onDecreaseTeotibotResourcesToGain={\r\n            this.onDecreaseTeotibotResourcesToGain\r\n          }\r\n          isSkipSetup={this.state.isSkipSetup}\r\n          onChangeIsSkipSetup={this.onChangeIsSkipSetup}\r\n          newGame={this.newGame}\r\n          back={this.back}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div css={appContainer}>{this.renderApp()}</div>;\r\n  }\r\n}\r\n","import { css } from '@emotion/react'\r\n\r\nexport const app = css`\r\n\r\n`;\r\n\r\nexport const appHeader = css`\r\n  //min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: calc(10px + 2vmin);\r\n  color: white;\r\n`;","/** @jsx jsx */\r\nimport React from \"react\";\r\nimport { jsx } from '@emotion/react';\r\nimport { AppContainer } from \"./Components/AppContainer\";\r\nimport { app, appHeader } from \"./App.css.js\"\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div css={app}>\r\n      <header css={appHeader}>\r\n        <AppContainer />\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}