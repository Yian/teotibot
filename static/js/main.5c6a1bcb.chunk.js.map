{"version":3,"sources":["Components/AppContainer.css.js","Components/variables.js","Components/Tiles/TileList.css.js","Components/QuestionForm.css.js","Components/QuestionForm.js","Components/Logic.js","Components/UseMedia.js","Components/Constants.js","Components/Tiles/TileList.js","Components/Setup/Setup.css.js","Components/Setup/StartTiles.js","Components/Setup/TechTiles.js","Components/Setup/TempleTiles.js","Components/Setup/DicePlacement.js","Components/Setup/StartingResources.js","Components/Setup/PriestPriestessTiles.js","Components/Setup/Setup.js","Components/Checkbox.js","Components/Options.js","Components/AppContainer.js","App.css.js","App.js","serviceWorker.js","index.js"],"names":["appContainer","css","_templateObject","Object","taggedTemplateLiteral","mainImg","_templateObject2","start","_templateObject3","options","_templateObject4","_templateObject5","rem","pixels","context","arguments","length","undefined","concat","mediaQueries","isXs","isSm","isMd","isLg","isWidest","isMaxXs","xsMinWidth","isMaxSm","desktopViewMinWidth","isMaxMd","mdMinWidth","isMaxLg","lgMinWidth","hoverNone","retinaScreen","tileListContainer","TileList_css_templateObject","tileList","TileList_css_templateObject2","expansionContainer","TileList_css_templateObject3","TileList_css_templateObject4","expansion","TileList_css_templateObject5","expansionOptions","_templateObject6","diceButton","_templateObject7","diceContainer","_templateObject8","activeText","_templateObject9","questionModal","QuestionForm_css_templateObject","questionModalContent","QuestionForm_css_templateObject2","modalClose","QuestionForm_css_templateObject3","buttons","QuestionForm_css_templateObject4","questionForm","QuestionForm_css_templateObject5","getImage","imagePath","getActionImage","imageName","getDiceImage","getResourceImage","advancement","powerup","templeTip","alchemyQuestions","question","questionId","condition","_ref","answers","isEmpty","_ref2","isEnd","_ref3","decorationQuestions","_ref4","_ref5","_ref6","_ref7","_ref8","constructionQuestions","_ref9","_ref10","_ref11","_ref12","_ref13","noblesQuestions","_ref14","_ref15","_ref16","_ref17","_ref18","worshipQuestions","TilesToQuestions","alchemy","construction","decorations","mask_collection","mastery","nobles","worship","QuestionForm","_React$Component","inherits","_super","createSuper","props","_this","classCallCheck","this","call","state","questions","tileSrc","fromMastery","onExitForm","bind","assertThisInitialized","onRestartQuestions","onClickMasteryOption","createClass","key","value","setState","onCloseClick","_this2","qs","filter","q","emotion_react_browser_esm","onClick","tileName","map","QuestionForm_Question","id","onSelect","answer","objectSpread2","defineProperty","parse","React","Component","Question","children","CloseForm","generateRandomInteger","min","max","Math","floor","random","swapArrayLocs","arr","index1","index2","useMedia","queries","values","defaultValue","match","findIndex","matchMedia","matches","_useState","useState","_useState2","slicedToArray","set","useEffect","handler","window","addEventListener","removeEventListener","wood","gold","stone","cocoa","base","xitle","StartScreen","SetupScreen","AppScreen","OptionsScreen","initialOrdering","initialDirectionOrdering","diceTilePositions","2","3","4","5","6","7","8","9","10","11","12","actionNames","name","color","diceFaces","baseBotTiles","src","baseDirectionTiles","baseStartTiles","numbers","tooltip","resources","quantity","type","selected","xitleStartTiles","alt","baseTechTiles","xitleTechTiles","baseTempleTiles","basePriestPriestessTiles","baseTeotiPriestPriestessTiles","TileList","tiles","_useState3","_useState4","directionTiles","setDirectionTiles","_useState5","shuffle","_useState6","ordering","setOrdering","_useState7","_useState8","directionOrdering","setDirectionOrdering","_useState9","_useState10","round","_useState11","_useState12","setTileSizeCalculated","_useState13","_useState14","tilesDisabled","setTilesDisabled","_useState15","_useState16","showForm","setShowForm","_useState17","_useState18","selectedTileIndex","setSelectedTileIndex","_useState19","_useState20","showDice","setShowDice","_useState21","_useState22","dice1Rolled","setDice1Rolled","_useState23","_useState24","dice2Rolled","setDice2Rolled","columns","_useMeasure","useMeasure","_useMeasure2","ref","width","refDice1","useRef","refDice2","transform","useSpring","from","x","config","mass","tension","friction","duration","tileWidth","_useMemo","useMemo","tileHeights","Array","fill","tileItems","child","i","indexOf","apply","toConsumableArray","index","media","result","tile04","calculateXTile","y","calculateYTile","_useMemo2","tileTransitions","useTransition","item","opacity","enter","update","leave","height","trail","_useMemo3","directionTileHeights","directionTileItems","_child$nextWValue","calculateXDirectionTile","calculateYDirectionTile","deg","nextWValue","rotateY","_useMemo4","directionTileTransitions","shuffleTiles","tileIndex","setTimeout","newOrder","cloneDeep","newDirectionOrder","newDirectionTiles","topDirectionTile","bottomDirectionTile","topTileRight","flipped","topTileLeft","bottomTileLeft","bottomTileRight","orderTiles","forEach","directionTile","top","toFlip","addToHistory","cycle","cycleCount","order","wasShuffled","animateTiles","useCallback","curWValue","tilePosition","toggle","showSteps","_useState25","_useState26","_useSpring2","loop","api","getStyle","test","scale","to","range","output","dFaces","process","QuestionForm_QuestionForm","style","tile","react_spring_web_esm","img","draggable","current","rollDice","div","dist_default","a","faces","size","rollingTime","onRoll","disabled","setupContainer","Setup_css_templateObject","startTileContainer","Setup_css_templateObject2","tileContainer","Setup_css_templateObject3","startTile","Setup_css_templateObject4","resourceContainer","Setup_css_templateObject5","resource","Setup_css_templateObject6","startResource","Setup_css_templateObject7","techTile","Setup_css_templateObject8","templeTile","Setup_css_templateObject9","priestPriestessTile","_templateObject10","action","_templateObject11","actionText","_templateObject12","diceFace","_templateObject13","neutralContainer","_templateObject14","_templateObject15","StartTiles","startTiles","isXitle","items","t","setInterval","pop","clearInterval","heights","gridItems","column","tileHeight","transitions","_useSpring","itemList","find","listItem","selectedStartTiles","data-tip","TechTiles","templeTiles","TempleTiles","DicePlacement","dicePlacements","number","actionName","StartingResources","startingResources","setStartingResources","orderBy","resourceTransitions","className","PriestPriestessTiles","priestPriestessTiles","isTeotibot","numberToPick","Setup","setSelectedStartTiles","selectedResources","setSelectedResources","remainingStartTiles","setRemainingStartTiles","playerPlacements","setPlayerPlacements","teotibotPlacements","setTeotibotPlacements","neutralPlacements1","setNeutralPlacements1","neutralPlacements2","setNeutralPlacements2","showStartingResources","setShowStartingResources","showPlayerPlacements","setShowPlayerPlacements","showTechs","setShowTechs","showTemples","setShowTemples","showStartTiles","setShowStartTiles","showPriestPriestessTiles","setShowPriestPriestessTiles","_useState27","_useState28","showTeotibotDice","setShowTeotibotDice","_useState29","_useState30","showNeutralPlayer1","setShowNeutralPlayer1","_useState31","_useState32","showNeutralPlayer2","setShowNeutralPlayer2","getRandomArrayIndex","getActionItem","getNeutralPlacement","shuffledTiles","numbers1","splice","numbers2","mergedActions","union","dice","n","len","taken","RangeError","getRandom","getPlayerPlacements","actions","selectedStartTile","calcDicePlacements","getResources","found","some","el","push","addResourceQuantities","u","v","index_es","multiline","clickable","TechTiles_TechTiles","TempleTiles_TempleTiles","StartTiles_StartTiles","newTitle","newHistory","remove","StartingResources_StartingResources","isPriestAndPriestess","PriestPriestessTiles_PriestPriestessTiles","DicePlacement_DicePlacement","Checkbox","react_default","createElement","label","checked","onChange","Options","back","Checkbox_Checkbox","onChangeIsPriestAndPriestess","isHeightOfDevelopment","onChangeIsHeightOfDevelopment","isSeasonsOfProgress","onChangeIsSeasonsOfProgress","onChangeXitle","AppContainer","incrementCycleCount","setPlayerCount","playerCount","lastPlayerIndex","tilesToUse","setIsXitle","e","target","setIsPriestAndPriestess","setIsSeasonsOfProgress","setIsHeightOfDevelopment","addToShuffleHistory","newValue","shuffleHistory","screenMode","hadesTotal","hadesActive","lastScreen","app","renderApp","Setup_Setup","TileList_TileList","incrementCycle","defaultFavorTiles","dice1","dice2","Options_Options","isOptions","Image","dface","appHeader","App_css_templateObject","App","AppContainer_AppContainer","Boolean","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5c6a1bcb.chunk.js","sourcesContent":["\r\nimport { css } from '@emotion/react'\r\n\r\nexport const appContainer = css`\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: calc(10px + 2vmin);\r\n  color: white;\r\n`;\r\n\r\nexport const mainImg = css`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: url(\"./backgrounds/main.jpg\");\r\n    position: absolute;\r\n    background-size: contain;\r\n    z-index: 0;\r\n    opacity: 0.4;\r\n    background-repeat: no-repeat;\r\n    background-position: center center;\r\n    background-size: cover;\r\n    background-attachment: fixed;\r\n`;\r\n\r\nexport const start = css`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100vh;\r\n  margin: 0;\r\n  list-style: none;\r\n  font-size: 5rem;\r\n  padding: 0;\r\n\r\n  li {\r\n    cursor: pointer;\r\n    z-index: 2;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nexport const optionsButton = css`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n`;\r\n\r\nexport const options = css`\r\n  margin: auto auto;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  font-size: 1rem;\r\n\r\n  .checkbox-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .checkbox-item {\r\n      display: flex;\r\n      align-items: center;\r\n      cursor: pointer;\r\n\r\n      &.disabled {\r\n        pointer-events: none;\r\n        opacity: 0.7;\r\n      }\r\n    }\r\n\r\n    input[type=\"checkbox\"] {\r\n      width: 45px;\r\n      height: 45px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    span {\r\n      font-size: 2rem;\r\n    }\r\n  }\r\n\r\n  @media only screen and (max-width: 1024px) {\r\n    font-size: 2rem;\r\n  }\r\n\r\n  @media only screen and (max-width: 450px) {\r\n    font-size: 1rem;\r\n  }\r\n`;","const browserContext = 16; // Default\r\n\r\nexport const rem = (pixels, context = browserContext) => `${pixels / context}rem`;\r\nexport const xsMinWidth = 480;\r\nexport const desktopViewMinWidth = 768;\r\nexport const mdMinWidth = 992;\r\nexport const lgMinWidth = 1200;\r\nexport const widestMinWidth = 1600;\r\n\r\nconst spacingUnit = 4;\r\n\r\nexport const mediaQueries = {\r\n  /** min-width: 480px */\r\n  isXs: `(min-width: ${xsMinWidth}px)`,\r\n  /** min-width: 768px */\r\n  isSm: `(min-width: ${desktopViewMinWidth}px)`,\r\n  /** min-width: 992px */\r\n  isMd: `(min-width: ${mdMinWidth}px)`,\r\n  /** min-width: 1200px */\r\n  isLg: `(min-width: ${lgMinWidth}px)`,\r\n  /** min-width: 1600px */\r\n  isWidest: `(min-width: ${widestMinWidth}px)`,\r\n  /** max-width: 479px */\r\n  isMaxXs: `(max-width: ${xsMinWidth - 1}px)`,\r\n  /** max-width: 767px */\r\n  isMaxSm: `(max-width: ${desktopViewMinWidth - 1}px)`,\r\n  /** max-width: 991px */\r\n  isMaxMd: `(max-width: ${mdMinWidth - 1}px)`,\r\n  /** max-width: 1199px */\r\n  isMaxLg: `(max-width: ${lgMinWidth - 1}px)`,\r\n  /** hover:none */\r\n  hoverNone: `(hover: none)`,\r\n  /** retina mobile screens */\r\n  retinaScreen: `(-webkit-min-device-pixel-ratio: 2)`,\r\n};\r\n\r\n// Colors\r\nexport const colors = {\r\n  sriracha50: '#ffefeb',\r\n  sriracha100: '#ffcec3',\r\n  sriracha200: '#ffb3a2',\r\n  sriracha300: '#ff967a',\r\n  sriracha400: '#ff7450',\r\n  /** brand color */\r\n  sriracha500: '#ff5328',\r\n  sriracha600: '#e84a23',\r\n  sriracha700: '#d03b16',\r\n  sriracha800: '#b12300',\r\n  sriracha900: '#8a1c00',\r\n\r\n  // Navy\r\n  navy50: '#E5E8EE',\r\n  navy100: '#BDC6D7',\r\n  navy200: '#93A0BB',\r\n  navy300: '#6A7CA0',\r\n  navy400: '#4B618E',\r\n  navy500: '#29477E',\r\n  navy600: '#224076',\r\n  navy700: '#19376B',\r\n  navy800: '#132E5E',\r\n  navy900: '#0A1F47',\r\n\r\n  // Greys\r\n  neutral50: '#fafbfc',\r\n  neutral100: '#f2f5f7',\r\n  neutral200: '#e6e9ed',\r\n  neutral300: '#d0d3d9',\r\n  neutral350: '#6f7378',\r\n  neutral400: '#a9afba',\r\n  neutral450: '#6e7480',\r\n  neutral500: '#7e8594',\r\n  /** light text */\r\n  neutral550: '#626a78',\r\n  neutral600: '#515b6e',\r\n  neutral700: '#3c475b',\r\n  neutral700Hover: '#282f3c',\r\n\r\n  /** dark text */\r\n  neutral800: '#1e293d',\r\n  neutral900: '#000',\r\n  neutral_a: '#9ba2af',\r\n\r\n  // Blues\r\n  blue50: '#eceffd',\r\n  blue100: '#e7eafc',\r\n  blue200: '#d1d6f5',\r\n  blue300: '#afb6ec',\r\n  blue400: '#848dde',\r\n  blue500: '#5861cc',\r\n  blue600: '#333db3',\r\n  blue700: '#1a2394',\r\n  blue800: '#0c1370',\r\n  blue900: '#060b4a',\r\n\r\n  // Marigold\r\n  marigold50: '#fff4cc',\r\n  marigold100: '#ffe999',\r\n  marigold200: '#ffdd66',\r\n  marigold300: '#ffd233',\r\n  marigold400: '#3C4D6C',\r\n  marigold500: '#ffc700',\r\n  marigold600: '#cc9f00',\r\n  marigold700: '#997700',\r\n  marigold800: '#665000',\r\n  marigold900: '#332800',\r\n\r\n  // Turquoise\r\n  turquoise50: '#dcf2f1',\r\n  turquoise100: '#a8dfda',\r\n  turquoise200: '#6bcac2',\r\n  turquoise300: '#06b5a9',\r\n  turquoise400: '#00a597',\r\n  turquoise500: '#009483',\r\n  turquoise600: '#008776',\r\n  turquoise700: '#007766',\r\n  turquoise800: '#006757',\r\n  turquoise900: '#004b3a',\r\n\r\n  // Sweet chilli\r\n  sweetChilli50: '#ffeae9',\r\n  sweetChilli100: '#ffada5',\r\n  sweetChilli200: '#ffd6d2',\r\n  sweetChilli300: '#ff8378',\r\n  sweetChilli400: '#ff5a4b',\r\n  sweetChilli500: '#ff311e',\r\n  sweetChilli600: '#cc2718',\r\n  sweetChilli700: '#991d12',\r\n  sweetChilli800: '#66140c',\r\n  sweetChilli900: '#330a06',\r\n\r\n  // Pesto\r\n  pesto50: '#e7f6e6',\r\n  pesto100: '#cfeccc',\r\n  pesto200: '#a0d999',\r\n  pesto300: '#70c666',\r\n  pesto400: '#41b333',\r\n  pesto500: '#11a000',\r\n  pesto600: '#0e8000',\r\n  pesto700: '#0a6000',\r\n  pesto800: '#074000',\r\n  pesto900: '#032000',\r\n\r\n  white: '#fff',\r\n  black: '#000',\r\n  error: '#e73b26',\r\n  whiteHover: '#e6e6e6',\r\n  overlayBlack: 'rgba(0, 0, 0, 0.3)',\r\n  pageBackgroundColour: '#fbfcfc',\r\n  propertyCardAgencyBoxThreshold: '#eaebed',\r\n\r\n  activePurpleDark: '#585dcc',\r\n  activePurpleMed: '#afb5ec',\r\n  activePurpleLight: '#e7eafc',\r\n\r\n  purpleHeart: '#4e2db0',\r\n  lightGreen: '#1ab662',\r\n  lightBlue: '#0091b8',\r\n  lightGrey: '#eff2f5',\r\n\r\n  valiantColor: '#0ea800',\r\n\r\n  nevada: '#6b747a',\r\n};\r\n\r\nexport const fonts = {\r\n  fontFamily: `'AvenirNextLTPro', sans-serif`,\r\n  light: 300,\r\n  regular: 'normal',\r\n  medium: 500,\r\n  semiBold: 600,\r\n  bold: 700,\r\n  boldX: 800,\r\n  heavy: 900,\r\n};\r\n\r\nexport const layout = {\r\n  pageWidth: 1140,\r\n  searchFiltersSidebarWidth: 348,\r\n  searchFiltersSidebarWidthTablet: 278,\r\n  searchFilterHorizontalMargin: 18,\r\n  searchCardWidth: 1042,\r\n  pageHorizontalMargin: {\r\n    tablet: 21,\r\n    mobile: 18,\r\n    desktop: 15,\r\n  },\r\n  cardTileHorizontalMargin: {\r\n    mobile: 9,\r\n    tablet: 21,\r\n  },\r\n  footerAlignPadding: 15,\r\n  businessSearchCardWidth: 1024,\r\n  propertyCardMaxWidth: 750,\r\n};\r\n\r\nexport const globalBoxShadow = '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.2)';\r\nexport const globalBoxShadowHover = '0 3px 6px 0 rgba(30, 41, 61, 0.15), 0 5px 10px 0 rgba(30, 41, 61, 0.15)';\r\nexport const buttonBoxShadow = `0px 3px 6px rgba(0, 0, 0, 0.16), 0px 3px 6px rgba(0, 0, 0, 0.23)`;\r\n\r\nexport const globalMargins = {\r\n  xxxs: `${rem(6)}`, // 6px\r\n  xxs: `${rem(9)}`, // 9px\r\n  xs: `${rem(12)}`, // 12px\r\n  sm: `${rem(18)}`, // 18px\r\n  md: `${rem(24)}`, // 24px\r\n  lg: `${rem(30)}`, // 30px\r\n  xl: `${rem(48)}`, // 48px\r\n  xxl: `${rem(60)}`, // 60px\r\n};\r\n\r\nexport const globalSpacing = {\r\n  large: {\r\n    // Desktop\r\n    xxl: spacingUnit * 20,\r\n    xl: spacingUnit * 10,\r\n    l: spacingUnit * 8,\r\n    m: spacingUnit * 6,\r\n    s: spacingUnit * 4,\r\n    xs: spacingUnit * 2,\r\n    xxs: spacingUnit,\r\n  },\r\n  regular: {\r\n    // tablet\r\n    xxl: spacingUnit * 18,\r\n    xl: spacingUnit * 9,\r\n    l: spacingUnit * 7,\r\n    m: spacingUnit * 6,\r\n    s: spacingUnit * 3,\r\n    xs: spacingUnit * 2,\r\n    xxs: spacingUnit,\r\n  },\r\n  compact: {\r\n    // mobile\r\n    xxl: spacingUnit * 16,\r\n    xl: spacingUnit * 8,\r\n    l: spacingUnit * 6,\r\n    m: spacingUnit * 4,\r\n    s: spacingUnit * 3,\r\n    xs: spacingUnit * 2,\r\n    xxs: spacingUnit,\r\n  },\r\n};\r\n\r\n// http://png-pixel.com/\r\nexport const emptyImages = {\r\n  ratio4by3:\r\n    'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAQAAAAe/WZNAAAADklEQVR42mNkgAJGDAYAAFEABCaLYqoAAAAASUVORK5CYII=', // 4:3\r\n  ratio16by9:\r\n    'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAQAAACRI2S5AAAAEElEQVR42mNkIAAYRxWAAQAG9gAKqv6+AwAAAABJRU5ErkJggg==', // 16:9\r\n  ratio21by9:\r\n    'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAJCAQAAAB3Cq/9AAAAEUlEQVR42mNkIBowjiqliVIACRIACvsH5W4AAAAASUVORK5CYII=', // 21:9\r\n};\r\n\r\nexport const imagePlaceholderBackground = `${colors.neutral200}\r\n  url('https://cre.domainstatic.com.au/images/common/img-placeholder.svg') center/96px no-repeat`;\r\n\r\nexport const cardWidth = {\r\n  xs: 284,\r\n  lg: 321,\r\n};\r\n","import { css } from \"@emotion/react\";\r\nimport { mediaQueries } from \"../variables\";\r\n\r\nexport const tileListContainer = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nexport const tileList = css`\r\n  display: flex;\r\n  justify-content: center;\r\n  position: relative;\r\n  height: 100vh;\r\n\r\n  > img {\r\n    position: absolute;\r\n    overflow: visible;\r\n    pointer-events: auto;\r\n    transform-origin: 50% 50% 0px;\r\n    line-height: 96px;\r\n    width: 400px;\r\n    max-width: 100%;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const topContainer = css`\r\n  display: flex;\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 0;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  z-index: 999;\r\n`;\r\n\r\nexport const expansionContainer = css`\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: 50px 0;\r\n`;\r\n\r\nexport const expansion = css`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex: 50%;\r\n  img {\r\n    width: 100%;\r\n    max-width: 300px;\r\n  }\r\n`;\r\n\r\nexport const expansionOptions = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  flex: 100%;\r\n`;\r\n\r\nexport const diceButton = css`\r\n  z-index: 999;\r\n`;\r\n\r\nexport const diceContainer = css`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  /* bring your own prefixes */\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nexport const activeText = css`\r\n  cursor: pointer;\r\n  color: gold;\r\n  font-size: 3rem;\r\n\r\n  &.disabled {\r\n    pointer-events: none;\r\n    opacity: 0.7;\r\n  }\r\n\r\n  @media only screen and (min-width: 451px) and (max-width: 1024px) {\r\n    font-size: 3rem;\r\n  }\r\n\r\n  @media only screen and (max-width: 450px) {\r\n    font-size: 2rem;\r\n  }\r\n`;\r\n","import { css } from \"@emotion/react\";\r\nimport { mediaQueries } from \"./variables\";\r\n\r\nexport const questionModal = css`\r\n  position: fixed; /* Stay in place */\r\n  z-index: 1; /* Sit on top */\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%; /* Full width */\r\n  height: 100%; /* Full height */\r\n  overflow: auto; /* Enable scroll if needed */\r\n  background-color: rgb(0, 0, 0); /* Fallback color */\r\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\r\n\r\n  img {\r\n    height: 1.75rem;\r\n    vertical-align: middle;\r\n  }\r\n`;\r\n\r\nexport const questionModalContent = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  background-color: gray;\r\n  margin: 15% auto; /* 15% from the top and centered */\r\n  padding: 20px;\r\n  border: 1px solid #888;\r\n  width: 60%; /* Could be more or less, depending on screen size */\r\n  min-height: 550px;\r\n  font-size: 1.75rem;\r\n  color: chocolate;\r\n  border-radius: 12px;\r\n  background-image: url(\"./backgrounds/forms.jpg\");\r\n  background-size: auto 100%;\r\n  background-position: center;\r\n\r\n  @media ${mediaQueries.isMaxXs} {\r\n    width: 90%;\r\n    font-size: 2rem;\r\n  }\r\n\r\n  @media ${mediaQueries.isMaxSm} {\r\n    width: 90%;\r\n  }\r\n\r\n  @media ${mediaQueries.isLg} {\r\n    width: 65%;\r\n  }\r\n\r\n  img {\r\n    height: 1.75rem;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .bold {\r\n    color: #35a7c6;\r\n  }\r\n\r\n  .templeTip {\r\n    margin: 15px 0;\r\n    color: #35a7c6;\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  .priority {\r\n    margin: 10px 0;\r\n  }\r\n`;\r\n\r\nexport const modalClose = css`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const buttons = css`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-evenly;\r\n  margin: 20px 0;\r\n\r\n  div {\r\n    cursor: pointer;\r\n  }\r\n\r\n  div:first-child {\r\n      color: #30c5bd;\r\n    }\r\n\r\n    div:nth-child(2) {\r\n      color: #d15959;\r\n    }\r\n`;\r\n\r\nexport const questionForm = css`\r\n  margin: 50px 0;\r\n`;\r\n","/** @jsx jsx */\r\nimport React, { Component, useEffect } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport parse from \"html-react-parser\";\r\nimport { isEmpty } from \"lodash-es\";\r\nimport {\r\n  buttons,\r\n  questionModal,\r\n  modalClose,\r\n  questionModalContent,\r\n  questionForm,\r\n} from \"./QuestionForm.css\";\r\n\r\nconst getImage = (imagePath) => {\r\n  return `<img src=\".${imagePath}\" alt={}/>`;\r\n};\r\n\r\nconst getActionImage = (imageName) => {\r\n  return `<img src=\"./actions/${imageName}.png\" alt=${imageName}}/>`;\r\n}\r\n\r\nconst getDiceImage = (imageName) => {\r\n  return `<img src=\"./dice/${imageName}.png\" alt=${imageName}}/>`;\r\n}\r\n\r\nconst getResourceImage = (imageName) => {\r\n  return `<img src=\"./resources/${imageName}.png\" alt=${imageName}}/>`;\r\n};\r\n\r\nconst advancement = `<ul><li>${getImage(\"/dice/d1.png\")}${getImage(\r\n  \"/dice/d2.png\"\r\n)}${getImage(\r\n  \"/dice/d3.png\"\r\n)} clockwise to the next Action Board.</li><li>${getImage(\r\n  \"/dice/d4.png\"\r\n)}${getImage(\"/dice/d5.png\")} clockwise to the second Action Board.</li></ul>`;\r\n\r\nconst powerup = `<div>Teotibot gains\r\n5 cocoa ${getResourceImage(\"5cocoa\")}, powers up ${getResourceImage(\r\n  \"powerup\"\r\n)} its lowest powered worker, and\r\nthen advances it:</div>${advancement}`;\r\n\r\nconst templeTip = `<div class=\"templeTip\"><div>*Advance Teotibot on its highest temple ignoring topmost.</div>\r\n<div class=\"priority\">\r\n  Temple priority: <br/>\r\n  ${getResourceImage(\"tb\")} ->\r\n  ${getResourceImage(\"tr\")} ->\r\n  ${getResourceImage(\"tg\")}\r\n</div>\r\n<div class=\"priority\">\r\n  Resource priority:<br/>\r\n  Least -> ${getResourceImage(\"gold\")} -> ${getResourceImage(\r\n  \"stone\"\r\n)} -> ${getResourceImage(\"wood\")}\r\n</div></div>`;\r\n\r\nconst alchemyQuestions = [\r\n  {\r\n    question: `<div>Does Teotibot have 1 or more gold ${getResourceImage(\"gold\")} and at least one worker on the Alchemy ${getActionImage(\"no5\")} Action Board?</div>`,\r\n    questionId: 1,\r\n    condition: ({ answers }) => isEmpty(answers),\r\n  },\r\n  {\r\n    question: `<div> Teotibot spends 1 gold ${getResourceImage(\"gold\")} and then gains\r\n    the Technology ${getResourceImage(\"tech\")} of the lowest number that does not have any markers (yours or Teotibot's). \r\n    <ul>\r\n    <li>If all remaining tiles have your marker on, then the bot\r\n    gains the lowest numbered Technology which it does not\r\n    yet have, while you score the 3 Victory Points as normal.</li></ul>\r\n    Either way, advance on the temple ${getResourceImage(\"tw\")} matching the gained\r\n    Technology ${getResourceImage(\"tech\")} and power up ${getResourceImage(\"powerup\")} a worker on this Action Board\r\n    (resolve any Ascensions normally). Then the bot advances the powered-up worker\r\n    (or the new worker, if the old one triggered Ascension).\r\n    ${advancement}\r\n   </div>\r\n    <div>\r\n  </div>`,\r\n    questionId: 2,\r\n    condition: ({ answers }) => answers[1] === \"yes\",\r\n    isEnd: true,\r\n  },\r\n  {\r\n    question: `Power up ${getResourceImage(\"powerup\")} ${getResourceImage(\"powerup\")} its lowest unlocked worker\r\n    by two, without carrying out any actions or advancing any\r\n    workers.`,\r\n    questionId: 3,\r\n    condition: ({ answers }) => answers[1] === \"no\" && answers[3] === undefined,\r\n    isEnd: true,\r\n  },\r\n];\r\n\r\nconst decorationQuestions = [\r\n  {\r\n    question: `<div>Does Teotibot have 2 or more gold ${getResourceImage(\"gold\")} and at least one worker on the Decorations ${getActionImage(\"no7\")} Action Board?</div>`,\r\n    questionId: 1,\r\n    condition: ({ answers }) => isEmpty(answers),\r\n  },\r\n  {\r\n    question: `<div> Teotibot spends 2 gold ${getResourceImage(\"gold\")} and places the topmost Decoration \r\n    tile onto an available Decorations space on the Pyramid grid on the Main Board (clockwise from the top). \r\n    Then Teotibot: <ul>\r\n    <li>Scores 5 Victory Points.</li><li>Advances on the Pyramid track. ${getResourceImage(\"pyramid\")}</li>\r\n    <li><span class=\"bold\" data-tip data-for='templeAdvance'>Advances*</span> on any temple by one. ${getResourceImage(\"tw\")}</li>\r\n    </ul></div>\r\n    <div>\r\n    Power up ${getResourceImage(\"powerup\")} Teotibots worker ${getDiceImage(\"d3\")} on the Decorations\r\n    Action Board ${getActionImage(\"no7\")} (resolve any Ascensions normally). Then advance the powered-up worker (or the new worker, if the\r\n    old one triggered Ascension)\r\n    ${advancement}\r\n    ${templeTip}\r\n  </div>`,\r\n    questionId: 2,\r\n    condition: ({ answers }) => answers[1] === \"yes\",\r\n    isEnd: true,\r\n  },\r\n  {\r\n    question: `<div>Does Teotibot have at least one worker on the Gold Deposits (4) Action Board? ${getActionImage(\"no7\")}</div>`,\r\n    questionId: 3,\r\n    condition: ({ answers }) => answers[1] === \"no\" && answers[3] === undefined,\r\n  },\r\n  {\r\n    question: `<div>Teotibot gains 2 gold ${getResourceImage(\"gold\")}\r\n    </div>Power up Teotibots worker ${getResourceImage(\"powerup\")} on the Gold Deposits ${getActionImage(\"no4\")}\r\n    Action Board (resolve any Ascensions normally). Then advance the powered-up worker (or the new worker, if the\r\n    old one triggered Ascension)`,\r\n    questionId: 4,\r\n    condition: ({ answers }) => answers[3] === \"yes\",\r\n    isEnd: true,\r\n  },\r\n  {\r\n    question: powerup,\r\n    questionId: 5,\r\n    condition: ({ answers }) => answers[3] === \"no\",\r\n    isEnd: true,\r\n  },\r\n];\r\n\r\nconst constructionQuestions = [\r\n  {\r\n    question: `<div>Does Teotibot have 2 or more stone ${getResourceImage(\"stone\")} and at least one worker on the Construction ${getActionImage(\"no8\")} Action Board?</div>`,\r\n    questionId: 1,\r\n    condition: ({ answers }) => isEmpty(answers),\r\n  },\r\n  {\r\n    question: `<div>Teotibot spends 2 stone ${getResourceImage(\"stone\")} and places the leftmost pyramid ${getResourceImage(\"pyramidt\")}\r\n    tile (rotated randomly) onto the top left,\r\n    lowest level space available on the Pyramid grid of the Main\r\n    Board. \r\n    Then Teotibot: <ul>\r\n    <li>Scores Victory Points for the level.</li><li>Advances on the Pyramid ${getResourceImage(\"pyramid\")} track.</li>\r\n    <li><span class=\"bold\">Advances*</span> on any temple by one. ${getResourceImage(\"tw\")}</li><li>Scores an additional 2 Victory Points (Note: This represents average points the\r\n    bot would score by matching icons.)</li>\r\n    </ul></div>\r\n    <div>\r\n    Power up ${getResourceImage(\"powerup\")} Teotibots worker ${getDiceImage(\"d3\")} on the Construction ${getActionImage(\"no7\")}\r\n    Action Board (resolve any Ascensions normally). Then advance the powered-up worker (or the new worker, if the\r\n    old one triggered Ascension)\r\n    ${advancement}\r\n    ${templeTip}\r\n  </div>`,\r\n    questionId: 2,\r\n    condition: ({ answers }) => answers[1] === \"yes\",\r\n    isEnd: true,\r\n  },\r\n  {\r\n    question: `<div>Does Teotibot have at least one worker on the Stone Quarry ${getActionImage(\"no3\")} Action Board?</div>`,\r\n    questionId: 3,\r\n    condition: ({ answers }) => answers[1] === \"no\" && answers[3] === undefined,\r\n  },\r\n  {\r\n    question: `<div>Teotibot gains 2 stone ${getResourceImage(\"stone\")}\r\n\r\n    </div>Power up Teotibots worker ${getResourceImage(\"powerup\")} on the Stone Quarry ${getActionImage(\"no3\")}\r\n    Action Board (this might trigger an Ascension, which is resolved\r\n    normally). Then advance the powered-up worker (or the new worker, if the\r\n    old one triggered Ascension)\r\n    ${advancement}\r\n    `,\r\n    questionId: 4,\r\n    condition: ({ answers }) => answers[3] === \"yes\",\r\n    isEnd: true,\r\n  },\r\n  {\r\n    question: powerup,\r\n    questionId: 5,\r\n    condition: ({ answers }) => answers[3] === \"no\",\r\n    isEnd: true,\r\n  },\r\n];\r\n\r\nconst noblesQuestions = [\r\n  {\r\n    question: `<div>Does Teotibot have 2 or more wood ${getResourceImage(\"wood\")} and at least one worker on the Nobles Action Board? ${getActionImage(\"no6\")}</div>`,\r\n    questionId: 1,\r\n    condition: ({ answers }) => isEmpty(answers),\r\n  },\r\n  {\r\n    question: `<div>Teotibot spends 2 wood ${getResourceImage(\"wood\")} and builds a Building.\r\n    <ul>\r\n    <li>Before the first Eclipse, place it in the first (top) row.</li>\r\n    <li>After the first Eclipse (but before the second), place it in the\r\n    second (centre) row.</li>\r\n    <li>After the second Eclipse, place it in the third (bottom) row.</li>\r\n    <li>If a row is full, place it into a space with the lowest printed\r\n    Victory Point value of all three rows.</li>\r\n    <li>Score the Victory Points shown on the space just covered,\r\n    and advance the bot on the Avenue of the Dead ${getResourceImage(\"powerup\")} (the same\r\n    way an actual player would advance).</li>\r\n    </ul></div>\r\n    <div>\r\n    Power up ${getResourceImage(\"powerup\")} Teotibots worker ${getDiceImage(\"d3\")} on the Nobles\r\n    Action Board ${getActionImage(\"no6\")} (this might trigger an Ascension, which is resolved\r\n    normally). Then advance the powered-up worker (or the new worker, if the\r\n    old one triggered Ascension)\r\n  </div>`,\r\n    questionId: 2,\r\n    condition: ({ answers }) => answers[1] === \"yes\",\r\n    isEnd: true,\r\n  },\r\n  {\r\n    question: `<div>Does Teotibot have at least one worker on the Forest Action Board? ${getActionImage(\"no2\")}</div>`,\r\n    questionId: 3,\r\n    condition: ({ answers }) => answers[1] === \"no\" && answers[3] === undefined,\r\n  },\r\n  {\r\n    question: `<div>Teotibot gains 2 wood ${getResourceImage(\"wood\")}\r\n    </div>Power up Teotibots worker ${getResourceImage(\"powerup\")} on the Forest ${getActionImage(\"no2\")}\r\n    Action Board (this might trigger an Ascension, which is resolved\r\n    normally). Then advance the powered-up worker (or the new worker, if the\r\n    old one triggered Ascension)`,\r\n    questionId: 4,\r\n    condition: ({ answers }) => answers[3] === \"yes\",\r\n    isEnd: true,\r\n  },\r\n  {\r\n    question: powerup,\r\n    questionId: 5,\r\n    condition: ({ answers }) => answers[3] === \"no\",\r\n    isEnd: true,\r\n  },\r\n];\r\n\r\nconst worshipQuestions = [\r\n  {\r\n    question: `<div>Advance Teotibots worker on a Worship space to the next\r\n    clockwise Worship space on a temple sidebar (remember:\r\n    Teotibot always ignores the Palace Action Board ${getActionImage(\"no7\")}).\r\n    <ul>\r\n    <li>If there is one of your workers on that space, the Teotibot unlocks that worker.</li>\r\n    <li>The bot advances on the matching temple by 2 spaces,\r\n    gaining rewards for both (and gaining printed bonuses\r\n    instead of Discovery tiles as mentioned before).</li>\r\n    <li>If the activated space is on the Decorations ${getActionImage(\"no7\")} Action\r\n    Board, the bot advances on any temple by 3 instead.</li>\r\n    </ul></div>\r\n    <div>\r\n    Discard the Discovery tile near the activated space, and\r\nimmediately draw a replacement for it.\r\n  </div>`,\r\n    questionId: 1,\r\n    isEnd: true,\r\n  },\r\n];\r\n\r\nconst maskQuestions = [\r\n  {\r\n    question: `<div>Advance Teotibots worker on a Worship space to the next\r\n    clockwise Worship space on a temple sidebar (remember:\r\n    Teotibot always ignores the Palace Action Board ${getActionImage(\"no7\")}).\r\n    <ul>\r\n    <li>If there is one of your workers on that space, the Teotibot unlocks that worker.</li>\r\n    <li>The bot advances on the matching temple by 2 spaces,\r\n    gaining rewards for both (and gaining printed bonuses\r\n    instead of Discovery tiles as mentioned before).</li>\r\n    <li>If the activated space is on the Decorations ${getActionImage(\"no7\")} Action\r\n    Board, the bot advances on any temple by 3 instead.</li>\r\n    </ul></div>\r\n    <div>\r\n    Discard the Discovery tile near the activated space, and\r\nimmediately draw a replacement for it.\r\n  </div>`,\r\n    questionId: 1,\r\n    isEnd: true,\r\n  },\r\n];\r\n\r\nconst TilesToQuestions = {\r\n  alchemy: alchemyQuestions,\r\n  construction: constructionQuestions,\r\n  decorations: decorationQuestions,\r\n  mask_collection: maskQuestions,\r\n  mastery: [],\r\n  nobles: noblesQuestions,\r\n  worship: worshipQuestions,\r\n};\r\nexport class QuestionForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      answers: {},\r\n      questions: TilesToQuestions[props.tileSrc],\r\n      fromMastery: false,\r\n    };\r\n\r\n    this.onExitForm = this.onExitForm.bind(this);\r\n    this.onRestartQuestions = this.onRestartQuestions.bind(this);\r\n    this.onClickMasteryOption = this.onClickMasteryOption.bind(this);\r\n  }\r\n\r\n  onRestartQuestions() {\r\n    if (this.state.fromMastery) {\r\n      this.setState({\r\n        fromMastery: false,\r\n        questions: TilesToQuestions[\"Mastery\"],\r\n        answers: {},\r\n      });\r\n    } else {\r\n      this.setState({\r\n        answers: {},\r\n      });\r\n    }\r\n  }\r\n\r\n  onClickMasteryOption() {\r\n    this.setState({\r\n      questions: TilesToQuestions[\"Decorations\"],\r\n      fromMastery: true,\r\n    });\r\n  }\r\n\r\n  onExitForm() {\r\n    this.props.onCloseClick();\r\n  }\r\n\r\n  render() {\r\n    var answers = this.state.answers;\r\n    var questions = this.state.questions;\r\n\r\n    const qs = questions.filter((q) => {\r\n      if (!q.condition) {\r\n        // no condition set; always visible\r\n        return true;\r\n      }\r\n      return q.condition({ answers });\r\n    });\r\n\r\n    return (\r\n      <div css={questionModal}>\r\n        <div css={questionModalContent}>\r\n          <div css={modalClose} onClick={this.onExitForm}>\r\n            close\r\n          </div>\r\n          <h1>{this.props.tileName}</h1>\r\n          {qs.map((question) => (\r\n            <Question\r\n              key={question.id}\r\n              isEnd={question.isEnd}\r\n              onExitForm={this.onExitForm}\r\n              onRestartQuestions={this.onRestartQuestions}\r\n              onSelect={(answer) => {\r\n                const answers = {\r\n                  ...this.state.answers,\r\n                  [question.questionId]: answer,\r\n                };\r\n                this.setState({ answers });\r\n              }}\r\n            >\r\n              {parse(question.question)}\r\n            </Question>\r\n          ))}\r\n          {this.props.tileName === \"Mastery\" && !this.state.fromMastery && (\r\n            <div>\r\n              <div>Find the bots highest powered unlocked die.</div>\r\n              <div>Perform that Action Boards action if possible:</div>\r\n              <ul>\r\n                <li>Forest (2):</li>\r\n                <li>Stone Quarry (3):</li>\r\n                <li>Gold Deposits (4):</li>\r\n                <li onClick={this.onClickMasteryOption}>Alchemy (5):</li>\r\n                <li onClick={this.onClickMasteryOption}>Nobles (6):</li>\r\n                <li onClick={this.onClickMasteryOption}>Decorations (7):</li>\r\n                <li onClick={this.onClickMasteryOption}>Construction (8):</li>\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Question = (props) => {\r\n  return (\r\n    <div css={questionForm}>\r\n      {props.children}\r\n      {!props.isEnd ? (\r\n        <div css={buttons}>\r\n          <div\r\n            onClick={() => {\r\n              props.onSelect(\"yes\");\r\n            }}\r\n          >\r\n            yes\r\n          </div>\r\n          <div\r\n            onClick={() => {\r\n              props.onSelect(\"no\");\r\n            }}\r\n          >\r\n            no\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <CloseForm\r\n          onExitForm={props.onExitForm}\r\n          onRestartQuestions={props.onRestartQuestions}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction CloseForm(props) {\r\n  return (\r\n    <div>\r\n      <div css={buttons}>\r\n        <div onClick={props.onExitForm}>continue</div>\r\n        <div onClick={props.onRestartQuestions}>restart</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","export const right = \"right\";\r\nexport const left = \"left\";\r\n\r\nexport const generateRandomInteger = (min, max) => {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nexport const swapArrayLocs = (arr, index1, index2) => {\r\n  [arr[index1], arr[index2]] = [arr[index2], arr[index1]];\r\n};\r\n\r\nexport const orderTiles = (newOrder, tileIndex, topDirectionTile, bottomDirectionTile) => {\r\n  const topTileRight =\r\n    (topDirectionTile.name === right && !topDirectionTile.flipped) ||\r\n    (topDirectionTile.name === left && topDirectionTile.flipped);\r\n\r\n  const topTileLeft =\r\n    (topDirectionTile.name === left && !topDirectionTile.flipped) ||\r\n    (topDirectionTile.name === right && topDirectionTile.flipped);\r\n\r\n  const bottomTileLeft =\r\n    (bottomDirectionTile.name === left && !bottomDirectionTile.flipped) ||\r\n    (bottomDirectionTile.name === right && bottomDirectionTile.flipped);\r\n\r\n  const bottomTileRight =\r\n    (bottomDirectionTile.name === right && !bottomDirectionTile.flipped) ||\r\n    (bottomDirectionTile.name === left && bottomDirectionTile.flipped);\r\n\r\n  if (tileIndex === 0) {\r\n    swapArrayLocs(newOrder, tileIndex, 6);\r\n    // right, left\r\n    if (topTileRight && bottomTileLeft) {\r\n      swapArrayLocs(newOrder, 1, tileIndex);\r\n      swapArrayLocs(newOrder, 4, 1);\r\n    }\r\n\r\n    // left, right\r\n    if (topTileLeft && bottomTileRight) {\r\n      swapArrayLocs(newOrder, 2, tileIndex);\r\n      swapArrayLocs(newOrder, 4, 2);\r\n    }\r\n\r\n    // right right\r\n    if (topTileRight && bottomTileRight) {\r\n      swapArrayLocs(newOrder, 1, tileIndex);\r\n      swapArrayLocs(newOrder, 3, 1);\r\n    }\r\n\r\n    // left left\r\n    if (topTileLeft && bottomTileLeft) {\r\n      swapArrayLocs(newOrder, 2, tileIndex);\r\n      swapArrayLocs(newOrder, 5, 2);\r\n    }\r\n  }\r\n\r\n  if (tileIndex === 1) {\r\n    // right, left || right, right\r\n    if (topTileRight) {\r\n      swapArrayLocs(newOrder, tileIndex, 6);\r\n      swapArrayLocs(newOrder, 3, tileIndex);\r\n    }\r\n\r\n    // left, right || left left\r\n    if (topTileLeft) {\r\n      swapArrayLocs(newOrder, tileIndex, 6);\r\n      swapArrayLocs(newOrder, 4, tileIndex);\r\n    }\r\n  }\r\n\r\n  //Position 2\r\n  if (tileIndex === 2) {\r\n    // right, left || right, right\r\n    if (topTileRight) {\r\n      swapArrayLocs(newOrder, tileIndex, 6);\r\n      swapArrayLocs(newOrder, 4, tileIndex);\r\n    }\r\n\r\n    // left, right || left left\r\n    if (topTileLeft) {\r\n      swapArrayLocs(newOrder, tileIndex, 6);\r\n      swapArrayLocs(newOrder, 5, tileIndex);\r\n    }\r\n  }\r\n\r\n  //Position 3\r\n  if (tileIndex === 3) {\r\n    swapArrayLocs(newOrder, tileIndex, 6);\r\n  }\r\n\r\n  //Position 4\r\n  if (tileIndex === 4) {\r\n    swapArrayLocs(newOrder, tileIndex, 6);\r\n  }\r\n\r\n  //Position 5\r\n  if (tileIndex === 5) {\r\n    swapArrayLocs(newOrder, tileIndex, 6);\r\n  }\r\n};\r\n\r\nexport const calculateYTile = (index, tileWidth, media) => {\r\n  var result = 0;\r\n\r\n  switch (index) {\r\n    case 0:\r\n      result = 0;\r\n      break;\r\n    case 1:\r\n      result = tileWidth/2;\r\n      break;\r\n    case 2:\r\n      result = tileWidth/2;\r\n      break;\r\n    case 3:\r\n      result = tileWidth;\r\n      break;\r\n    case 4:\r\n      result = tileWidth;\r\n      break;\r\n    case 5:\r\n      result = tileWidth;\r\n      break;\r\n    default:\r\n      result = media === 3 ? tileWidth*1.5 : tileWidth;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const calculateXTile = (index, width, media) => {\r\n  var result = 0;\r\n  var tile04 = media === 3 ? 0 : -width*0.6;\r\n  switch (index) {\r\n    case 0:\r\n      result = tile04;\r\n      break;\r\n    case 1:\r\n      result = tile04 - width/2;\r\n      break;\r\n    case 2:\r\n      result = tile04 + width/2;\r\n      break;\r\n    case 3:\r\n      result = tile04 - width;\r\n      break;\r\n    case 4:\r\n      result = tile04;\r\n      break;\r\n    case 5:\r\n      result = tile04 + width;\r\n      break;\r\n    default:\r\n      result = media === 3 ? tile04 + width : tile04 + width*2;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const calculateXDirectionTile = (index, width, media)=> {\r\n  var result = 0;\r\n  var tile04 = media === 3 ? 0 : -width*0.6;\r\n  switch (index) {\r\n    case 0:\r\n      result = media === 3 ? tile04 -width : width*1.5 ;\r\n      break;\r\n    case 1:\r\n      result = media === 3 ? tile04 : width*1.5 ;\r\n      break;\r\n    default:\r\n      result = width*1.5;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const calculateYDirectionTile = (index, width, media)=> {\r\n  var result = 0;\r\n  switch (index) {\r\n    case 0:\r\n      result = media === 3 ? width*1.5 : 0;\r\n      break;\r\n    case 1:\r\n      result = media === 3 ? width*1.5 : width/2;\r\n      break;\r\n    default:\r\n      result = width;\r\n  }\r\n  return result;\r\n};","import { useEffect, useState } from 'react'\r\n\r\nexport default function useMedia(queries, values, defaultValue) {\r\n  const match = () => values[queries.findIndex(q => matchMedia(q).matches)] || defaultValue\r\n  const [value, set] = useState(match)\r\n  useEffect(() => {\r\n    const handler = () => set(match)\r\n    window.addEventListener('resize', handler)\r\n    return () => window.removeEventListener('resize', handler)\r\n  }, [])\r\n  return value\r\n}\r\n","const avenue = \"avenue\";\r\nconst any = \"any\";\r\nconst wood = \"wood\";\r\nconst gold = \"gold\";\r\nconst stone = \"stone\";\r\nconst cocoa = \"cocoa\";\r\nconst templeRed = \"tr\";\r\nconst templeBlue = \"tb\";\r\nconst templeGreen = \"tg\";\r\nconst templeOrange = \"to\";\r\nconst powerup = \"powerup\";\r\nconst tech = \"tech\";\r\nconst discovery = \"discovery\";\r\nconst worship = \"worship\";\r\nconst worker = \"worker\";\r\nconst ascension = \"ascension\";\r\nconst pyramid = \"pyramid\";\r\nconst templeWild = \"tw\";\r\nconst base = \"base\";\r\nconst xitle = \"xitle\";\r\n\r\nexport const StartScreen = 1;\r\nexport const SetupScreen = 2;\r\nexport const AppScreen = 3;\r\nexport const OptionsScreen = 4;\r\n\r\nexport const initialOrdering = [0, 1, 2, 3, 4, 5, 6];\r\nexport const tileToolTip = [\r\n  [2, 3],\r\n  [4, 5],\r\n  [6, 7, 8],\r\n  [9, 10],\r\n  [11, 12],\r\n];\r\nexport const initialDirectionOrdering = [0, 1];\r\nexport const players = [3, 4, 5, 6];\r\n\r\nexport const diceTilePositions = {\r\n  2: 3,\r\n  3: 3,\r\n  4: 1,\r\n  5: 1,\r\n  6: 0,\r\n  7: 0,\r\n  8: 0,\r\n  9: 2,\r\n  10: 2,\r\n  11: 5,\r\n  12: 5,\r\n}\r\n\r\nexport const getRandom = (arr, n) => {\r\n  var result = new Array(n),\r\n    len = arr.length,\r\n    taken = new Array(len);\r\n  if (n > len)\r\n    throw new RangeError(\"getRandom: more elements taken than available\");\r\n  while (n--) {\r\n    var x = Math.floor(Math.random() * len);\r\n    result[n] = arr[x in taken ? taken[x] : x];\r\n    taken[x] = --len in taken ? taken[len] : len;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const actionNames = [\r\n  { name: \"Palace\", value: 1, color: \"#9a3b2e\" },\r\n  { name: \"Forest\", value: 2, color: \"#c6beaf\" },\r\n  { name: \"Stone Quarry\", value: 3, color: \"#917c6d\" },\r\n  { name: \"Gold Deposit\", value: 4, color: \"#917c6d\" },\r\n  { name: \"Alchemy\", value: 5, color: \"#a5743e\" },\r\n  { name: \"Nobles\", value: 6, color: \"#647f8b\" },\r\n  { name: \"Decorations\", value: 7, color: \"#8aa89e\" },\r\n  { name: \"Construction\", value: 8, color: \"#a3655a\" },\r\n];\r\n\r\nexport const diceFaces = [\r\n  { name: \"d1\", value: 1 },\r\n  { name: \"d2\", value: 2 },\r\n  { name: \"d3\", value: 3 },\r\n  { name: \"d4\", value: 4 },\r\n  { name: \"d5\", value: 5 },\r\n  { name: \"d6\", value: 6 },\r\n];\r\n\r\nexport const baseBotTiles = [\r\n  { name: \"Alchemy\", src: \"alchemy\" },\r\n  { name: \"Construction\", src: \"construction\" },\r\n  { name: \"Decorations\", src: \"decorations\" },\r\n  { name: \"Mask Collection\", src: \"mask_collection\" },\r\n  { name: \"Mastery\", src: \"mastery\" },\r\n  { name: \"Nobles\", src: \"nobles\" },\r\n  { name: \"Worship\", src: \"worship\" },\r\n];\r\n\r\nexport const baseDirectionTiles = [{ name: \"left\", src: \"left\" }, { name: \"right\", src: \"right\" }];\r\n\r\n// Starting Tiles\r\nexport const baseStartTiles = [\r\n  {\r\n    name: \"ST1\",\r\n    numbers: [1, 2],\r\n    tooltip:\r\n      \"Advance on the Avenue of the Dead track and gain 2 cocoa and 3 wood.\",\r\n    resources: [\r\n      { quantity: 1, type: avenue },\r\n      { quantity: 2, type: cocoa },\r\n      { quantity: 3, type: wood },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST2\",\r\n    numbers: [4, 3],\r\n    tooltip:\r\n      \"Advance on the green temple (gaining its reward) and gain 2 stone and 3 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: templeGreen },\r\n      { quantity: 2, type: stone },\r\n      { quantity: 3, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST3\",\r\n    numbers: [2, 3],\r\n    tooltip:\r\n      \"Advance on the blue temple (gaining its reward) and gain 4 wood and 1 stone.\",\r\n    resources: [\r\n      { quantity: 1, type: templeBlue },\r\n      { quantity: 4, type: wood },\r\n      { quantity: 1, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST4\",\r\n    numbers: [1, 4],\r\n    tooltip:\r\n      \"Advance on the red temple (gaining its reward) and gain 5 cocoa and 2 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: templeRed },\r\n      { quantity: 5, type: cocoa },\r\n      { quantity: 2, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST5\",\r\n    numbers: [4, 5],\r\n    tooltip:\r\n      \"Select the lowest numbered Technology tile on the Alchemy (5) Action Board, and place your marker on it for free. Gain the associated temple advance (and its reward) plus 2 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: tech },\r\n      { quantity: 2, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST6\",\r\n    numbers: [2, 4],\r\n    tooltip:\r\n      \"Increase the power of one of your starting workers. Gain 3 wood and 2 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: powerup },\r\n      { quantity: 3, type: wood },\r\n      { quantity: 2, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST7\",\r\n    numbers: [5, 8],\r\n    tooltip:\r\n      \"Select the lowest numbered Technology tile on the Alchemy (5) Action Board, and place your marker on it for free. Gain the associated temple advance (and its reward) plus any 2 resources.\",\r\n    resources: [\r\n      { quantity: 1, type: tech },\r\n      { quantity: 2, type: any },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST8\",\r\n    numbers: [6, 7],\r\n    tooltip:\r\n      \"Advance on the blue temple (gaining its reward) and gain 2 cocoa and 4 stone.\",\r\n    resources: [\r\n      { quantity: 1, type: templeBlue },\r\n      { quantity: 2, type: cocoa },\r\n      { quantity: 4, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST9\",\r\n    numbers: [5, 6],\r\n    tooltip: \"Advance on each of the three temples (gaining rewards).\",\r\n    resources: [\r\n      { quantity: 1, type: templeBlue },\r\n      { quantity: 1, type: templeRed },\r\n      { quantity: 1, type: templeGreen },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST10\",\r\n    numbers: [7, 8],\r\n    tooltip:\r\n      \"Advance on the red temple (gaining its reward), increase the power of one of your starting workers, and gain 5 cocoa.\",\r\n    resources: [\r\n      { quantity: 1, type: templeRed },\r\n      { quantity: 1, type: powerup },\r\n      { quantity: 5, type: cocoa },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST11\",\r\n    numbers: [6, 8],\r\n    tooltip:\r\n      \"Advance on the green temple (gaining its reward), increase the power of one of your starting workers, and gain 5 cocoa.\",\r\n    resources: [\r\n      { quantity: 1, type: templeGreen },\r\n      { quantity: 1, type: powerup },\r\n      { quantity: 5, type: cocoa },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST12\",\r\n    numbers: [5, 7],\r\n    tooltip:\r\n      \"Advance on the blue and red temples (gaining rewards), and gain any 2 resources.\",\r\n    resources: [\r\n      { quantity: 1, type: templeBlue },\r\n      { quantity: 1, type: templeRed },\r\n      { quantity: 2, type: any },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST13\",\r\n    numbers: [3, 5],\r\n    tooltip: \"Gain 3 cocoa and 5 wood.\",\r\n    resources: [\r\n      { quantity: 3, type: cocoa },\r\n      { quantity: 5, type: wood },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST14\",\r\n    numbers: [3, 7],\r\n    tooltip:\r\n      \"Gain 3 stone and 1 gold. You may claim a random Discovery tile (by paying its cost). You may look at the Discovery tile before deciding to pick this tile.\",\r\n    resources: [\r\n      { quantity: 3, type: stone },\r\n      { quantity: 1, type: gold },\r\n      { quantity: 1, type: discovery },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST15\",\r\n    numbers: [2, 6],\r\n    tooltip: \"Gain 1 wood, 2 stone, and 3 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: wood },\r\n      { quantity: 2, type: stone },\r\n      { quantity: 3, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST16\",\r\n    numbers: [4, 8],\r\n    tooltip:\r\n      \"Gain 2 cocoa and 3 gold. You may claim a random Discovery tile (by paying its cost). You may look at the Discovery tile before deciding to pick this tile.\",\r\n    resources: [\r\n      { quantity: 2, type: cocoa },\r\n      { quantity: 3, type: gold },\r\n      { quantity: 1, type: discovery },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST17\",\r\n    numbers: [3, 8],\r\n    tooltip: \"Gain 3 cocoa, 2 wood, and 3 stone.\",\r\n    resources: [\r\n      { quantity: 3, type: cocoa },\r\n      { quantity: 2, type: wood },\r\n      { quantity: 3, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"ST18\",\r\n    numbers: [2, 7],\r\n    tooltip:\r\n      \"Advance on the Avenue of the Dead track and gain 1 wood and 2 stone.\",\r\n    resources: [\r\n      { quantity: 1, type: avenue },\r\n      { quantity: 1, type: wood },\r\n      { quantity: 2, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: base,\r\n  },\r\n];\r\n\r\nexport const xitleStartTiles = [\r\n  {\r\n    name: \"XST1\",\r\n    numbers: [1, 7],\r\n    tooltip:\r\n      \"Take two separate Worship actions with two of your workers. You may activate the Worship space ability AND claim the Discovery tile without paying 1 cocoa to doing so. These two workers will begin the game locked.\",\r\n    resources: [{ quantity: 2, type: worship }],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST2\",\r\n    numbers: [6, 6], //Todo work this out\r\n    tooltip:\r\n      \"Advance on the orange temple (gaining its reward) and gain 3 cocoa and 2 stone. You may place two of your starting workers on the Nobles (6) Action Board. (If you are playing without the Height of Development module from Teotihuacan: Late Preclassic Period, advance on the red temple instead of the orange temple.)\",\r\n    resources: [\r\n      { quantity: 1, type: templeOrange, alt: templeRed },\r\n      { quantity: 3, type: cocoa },\r\n      { quantity: 2, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST3\",\r\n    numbers: [4, 6],\r\n    tooltip:\r\n      \"Gain your 4th worker with a power of 3. Then select a valid reward from the Ascension wheel. (All four of your workers must be placed on different Action Boards, if possible.)\",\r\n    resources: [\r\n      { quantity: 1, type: worker },\r\n      { quantity: 1, type: ascension },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST4\",\r\n    numbers: [4, 7],\r\n    tooltip:\r\n      \"Advance on the orange temple (gaining its reward) and gain 2 wood and 3 gold. (If you are playing without the Height of Development module from Teotihuacan: Late Preclassic Period, advance on the blue temple instead of the orange temple.)\",\r\n    resources: [\r\n      { quantity: 1, type: templeOrange, alt: templeBlue },\r\n      { quantity: 2, type: wood },\r\n      { quantity: 3, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST5\",\r\n    numbers: [1, 5],\r\n    tooltip:\r\n      \"Advance on two different temples of your choice (gaining rewards) and gain 2 cocoa.\",\r\n    resources: [\r\n      { quantity: 2, type: templeWild },\r\n      { quantity: 2, type: cocoa },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST6\",\r\n    numbers: [1, 8],\r\n    tooltip:\r\n      \"Advance on two different temples of your choice (gaining rewards) and gain any 1 resource.\",\r\n    resources: [\r\n      { quantity: 2, type: templeWild },\r\n      { quantity: 1, type: any },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST7\",\r\n    numbers: [2, 8],\r\n    tooltip: \"Advance on the Pyramid track and gain 2 wood and 2 gold.\",\r\n    resources: [\r\n      { quantity: 1, type: pyramid },\r\n      { quantity: 2, type: wood },\r\n      { quantity: 2, type: gold },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST8\",\r\n    numbers: [2, 5],\r\n    tooltip: \"Advance on the Pyramid track and gain 3 cocoa and 1 stone.\",\r\n    resources: [\r\n      { quantity: 1, type: pyramid },\r\n      { quantity: 3, type: cocoa },\r\n      { quantity: 1, type: stone },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST9\",\r\n    numbers: [7, 7],\r\n    tooltip:\r\n      \"Select the highest numbered Technology tile on the Alchemy (5) Action Board and place your marker on it for free. Gain the associated temple advancement (and its reward) plus any 1 resource. You may place two of your starting workers on the Decorations/Architecture (7) Action Board.\",\r\n    resources: [\r\n      { quantity: 1, type: tech },\r\n      { quantity: 1, type: any },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XST10\",\r\n    numbers: [3, 6],\r\n    tooltip:\r\n      \"Select the highest numbered Technology tile on the Alchemy (5) Action Board and place your marker on it for free. Gain the associated temple advancement (and its reward). You may claim a random Discovery tile (by paying its cost). You may look at the Discovery tile before deciding to pick this tile. 8\",\r\n    resources: [\r\n      { quantity: 1, type: tech },\r\n      { quantity: 1, type: discovery },\r\n    ],\r\n    selected: false,\r\n    src: xitle,\r\n  },\r\n];\r\n\r\n// Tech tiles\r\nexport const baseTechTiles = [\r\n  {\r\n    name: \"TT1\",\r\n    tooltip:\r\n      \"Each time you land on or move a worker over the Palace (1) Action Board, you gain 1 cocoa.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"TT2\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of Alchemy (5) or Nobles (6) Action Boards, gain 3 Victory Points.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"TT3\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of Forest (2), Stone Quarry (3), Gold Deposits (4), you get one (additional) wood, stone, gold, respectively.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"TT4\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Forest (2), Stone Quarry (3), or Gold Deposits (4) Action Boards, gain 1 cocoa and 1 Victory Point.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"TT5\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Decorations (7) Action Board, gain 4 Victory Points.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"TT6\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Construction (8) Action Board, gain 3 Victory Points (regardless of the number of tiles placed).\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"TT7\",\r\n    tooltip:\r\n      \"Each time one of your workers gains a power-up as part of a Main action, you may pay 1 cocoa to power up once more (same or different worker) on the same Action Board.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"TT8\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Construction (8) Action Board, resolve it as if you had an additional worker, that also granted a discount of 1 resource.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"TT9\",\r\n    tooltip:\r\n      \"Each time you perform the Main action of the Construction (8) Action Board, advance on one temple (regardless of the number of tiles placed).\",\r\n    src: base,\r\n  },\r\n];\r\n\r\nexport const xitleTechTiles = [\r\n  {\r\n    name: \"XTT1\",\r\n    tooltip:\r\n      \"Each time you move a worker onto or past the Palace (1) Action Board, you may immediately exchange up to 4 resources of one type (wood, stone, or gold) into the same number of resources of a different type\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT2\",\r\n    tooltip:\r\n      \"When taking the Collect Cocoa action, collect 1 more cocoa than normal.\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT3\",\r\n    tooltip:\r\n      \"At the end of your turn, if you unlocked one or more of your workers, gain 4 Victory Points.\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT4\",\r\n    tooltip:\r\n      \"When claiming a mask Discovery tile, gain 2 Victory Points. If you acquired both this Technology and a mask Discovery tile as a benefits from your Starting tiles, immediately apply the benefit of this Technology.\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT5\",\r\n    tooltip:\r\n      \"During Eclipse scoring, after paying the salary for your workers as normal, you may pay 1 additional cocoa for each worker you have. If you do so, immediately gain 2 Victory Points for each worker you have.\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT6\",\r\n    tooltip:\r\n      \"After performing the Main action of the Decorations/Architecture (7) Action Board, if you placed one or more Decoration tiles, advance your marker one additional step on the Pyramid track.\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT7\",\r\n    tooltip:\r\n      \"At the end of your turn, if you unlocked all of your locked workers — either by paying cocoa (normally 3 cocoa) or by unlocking them for free (in lieu of taking a normal turn) — advance your marker once on a temple of your choice.\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT8\",\r\n    tooltip:\r\n      \"When performing the Main action of the Decorations/Architecture (7) Action Board, you may place Decoration tiles without consideration for which way the arrow is pointing.\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT9\",\r\n    tooltip:\r\n      \"After performing the Main action of the Nobles (6) Action Board, if you placed one or more Buildings, advance your marker once on a temple of your choice.\",\r\n    src: xitle,\r\n  },\r\n  {\r\n    name: \"XTT10\",\r\n    tooltip:\r\n      \"Before taking a normal turn, you may move one of your unlocked workers exactly 1 space backwards (counterclockwise), but without performing an action with that worker. Afterwards, move a different unlocked worker, and perform an action on the Action Board the second worker moved to, as normal.\",\r\n    src: xitle,\r\n  },\r\n];\r\n\r\n// Temple Tiles\r\nexport const baseTempleTiles = [\r\n  {\r\n    name: \"BT1\",\r\n    tooltip: \"Score your highest scoring mask set one more time.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"BT2\",\r\n    tooltip:\r\n      \"Score 5 Victory Points for each Technology tile with your marker.\",\r\n    src: base,\r\n  },\r\n  { name: \"BT3\", tooltip: \"Score 15 Victory Points.\" },\r\n  {\r\n    name: \"BT4\",\r\n    tooltip:\r\n      \"Score 3 Victory Points for each step you progressed on the Avenue of the Dead track.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"BT5\",\r\n    tooltip:\r\n      \"Score 9 Victory Points for each Bonus tile you unlocked, including this tile.\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"BT6\",\r\n    tooltip:\r\n      \"Score 2 Victory Points for each nonmask Discovery tile you have (used or unused).\",\r\n    src: base,\r\n  },\r\n  {\r\n    name: \"BT7\",\r\n    tooltip:\r\n      \"Score for your workers: for each worker with 1-3 power, score 4 Victory Points; for each worker with 4-5 power, score 9 Victory Points.\",\r\n    src: base,\r\n  },\r\n];\r\n\r\nexport const basePriestPriestessTiles = [\r\n  { name: \"pp1\", src: base },\r\n  { name: \"pp2\", src: base },\r\n  { name: \"pp3\", src: base },\r\n  { name: \"pp4\", src: base },\r\n  { name: \"pp5\", src: base },\r\n  { name: \"pp6\", src: base },\r\n  { name: \"pp7\", src: base },\r\n  { name: \"pp8\", src: base },\r\n  { name: \"pp9\", src: base },\r\n  { name: \"pp10\", src: base },\r\n];\r\n\r\nexport const baseTeotiPriestPriestessTiles = [\r\n  { name: \"ppt1\", src: base },\r\n  { name: \"ppt2\", src: base },\r\n  { name: \"ppt3\", src: base },\r\n  { name: \"ppt4\", src: base },\r\n  { name: \"ppt5\", src: base },\r\n  { name: \"ppt6\", src: base },\r\n];\r\n","/** @jsx jsx */\r\nimport React, {\r\n  Component,\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  useRef,\r\n} from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { useSpring, animated, to, useTransition } from \"@react-spring/web\";\r\nimport { mainImg } from \"../AppContainer.css\";\r\nimport {\r\n  tileListContainer,\r\n  tileList,\r\n  diceButton,\r\n  diceContainer,\r\n} from \"./TileList.css\";\r\nimport { QuestionForm } from \"../QuestionForm\";\r\nimport {\r\n  calculateXDirectionTile,\r\n  calculateXTile,\r\n  calculateYTile,\r\n  orderTiles,\r\n  swapArrayLocs,\r\n  calculateYDirectionTile,\r\n  generateRandomInteger,\r\n} from \"../Logic\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport useMedia from \"../UseMedia\";\r\nimport { shuffle } from \"lodash-es\";\r\nimport {\r\n  baseBotTiles,\r\n  baseDirectionTiles,\r\n  diceTilePositions,\r\n  initialDirectionOrdering,\r\n  initialOrdering,\r\n} from \"../Constants\";\r\nimport { cloneDeep } from \"lodash-es\";\r\nimport Dice from \"react-dice-roll\";\r\n\r\nexport const TileList = (props) => {\r\n  const [tiles, setTiles] = useState(baseBotTiles);\r\n  const [directionTiles, setDirectionTiles] = useState(baseDirectionTiles);\r\n  const [ordering, setOrdering] = useState(shuffle(initialOrdering)); //inital ordering;\r\n  const [directionOrdering, setDirectionOrdering] = useState(\r\n    shuffle(initialDirectionOrdering)\r\n  );\r\n  const [round, setRound] = useState(0);\r\n  const [tileSizeCalculated, setTileSizeCalculated] = useState(false);\r\n  const [tilesDisabled, setTilesDisabled] = useState(false);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [selectedTileIndex, setSelectedTileIndex] = useState(0);\r\n  const [showDice, setShowDice] = useState(false);\r\n  const [dice1Rolled, setDice1Rolled] = useState(0);\r\n  const [dice2Rolled, setDice2Rolled] = useState(0);\r\n\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\r\n      \"(min-width: 1500px)\",\r\n      \"(min-width: 1000px)\",\r\n      \"(min-width: 600px)\",\r\n      \"(max-width: 480px)\",\r\n    ],\r\n    [6, 5, 4, 3],\r\n    4\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n  const refDice1 = useRef(null);\r\n  const refDice2 = useRef(null);\r\n\r\n  const { transform } = useSpring({\r\n    from: { x: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50, duration: 500 },\r\n    transform: `translateX(${showDice ? 0 : -2000}px)`,\r\n  })\r\n\r\n  var tileWidth = width / columns;\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [tileHeights, tileItems] = useMemo(() => {\r\n    let tileHeights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let tileItems = tiles?.map((child, i) => {\r\n      const column = tileHeights.indexOf(Math.min(...tileHeights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = calculateXTile(ordering.indexOf(i), tileWidth, columns);\r\n      const y = calculateYTile(ordering.indexOf(i), tileWidth, columns);\r\n      return {\r\n        ...child,\r\n        index: i,\r\n        width: tileWidth,\r\n        x,\r\n        y,\r\n      };\r\n    });\r\n    return [tileHeights, tileItems];\r\n  }, [ordering, columns, tiles, tileWidth]);\r\n\r\n  const tileTransitions = useTransition(tileItems, {\r\n    key: (item) => item.index,\r\n    from: ({ x, y, width }) => ({ x, y, width, opacity: 0 }),\r\n    enter: ({ x, y, width }) => ({ x, y, width, opacity: 1 }),\r\n    update: ({ x, y, width }) => ({ x, y, width }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 500, mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  const [directionTileHeights, directionTileItems] = useMemo(() => {\r\n    let directionTileHeights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let directionTileItems = directionTiles?.map((child, i) => {\r\n      const column = directionTileHeights.indexOf(\r\n        Math.min(...directionTileHeights)\r\n      ); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = calculateXDirectionTile(\r\n        directionOrdering.indexOf(i),\r\n        tileWidth,\r\n        columns\r\n      );\r\n      const y = calculateYDirectionTile(\r\n        directionOrdering.indexOf(i),\r\n        tileWidth,\r\n        columns\r\n      );\r\n      const deg = child.nextWValue ?? 0;\r\n      return {\r\n        ...child,\r\n        index: i,\r\n        width: tileWidth,\r\n        x,\r\n        y,\r\n        rotateY: deg,\r\n      };\r\n    });\r\n    return [directionTileHeights, directionTileItems];\r\n  }, [directionOrdering, columns, directionTiles, tileWidth]);\r\n\r\n  const directionTileTransitions = useTransition(directionTileItems, {\r\n    key: (item) => item.index,\r\n    from: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY, opacity: 0 }),\r\n    enter: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY, opacity: 1 }),\r\n    update: ({ x, y, rotateY, width }) => ({ x, y, width, rotateY }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 500, mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  const shuffleTiles = (tileIndex) => {\r\n    if (ordering.indexOf(tileIndex) >= 6 || ordering.indexOf(tileIndex) === 4)\r\n      return; //clicked extra tiles\r\n\r\n    if (tilesDisabled) return;\r\n\r\n    setTilesDisabled(true);\r\n\r\n    setTimeout(() => {\r\n      setTilesDisabled(false);\r\n    }, 1000);\r\n\r\n    let newOrder = cloneDeep(ordering);\r\n    let newDirectionOrder = cloneDeep(directionOrdering);\r\n    let newDirectionTiles = cloneDeep(directionTiles);\r\n    let wasShuffled;\r\n\r\n    orderTiles(\r\n      newOrder,\r\n      newOrder.indexOf(tileIndex),\r\n      newDirectionTiles[0],\r\n      newDirectionTiles[1]\r\n    );\r\n\r\n    swapArrayLocs(newDirectionOrder, 0, 1);\r\n\r\n    newDirectionTiles.forEach((directionTile, index) => {\r\n      if (newDirectionOrder.indexOf(index) === 0) {\r\n        //to move to top\r\n        directionTile.top = true;\r\n      } else {\r\n        //top to bottom, and flip\r\n        directionTile.top = false;\r\n        directionTile.toFlip = true;\r\n      }\r\n    });\r\n\r\n    props.addToHistory({\r\n      cycle: props.cycleCount,\r\n      order: newOrder,\r\n      wasShuffled: wasShuffled,\r\n    });\r\n\r\n    setOrdering(newOrder);\r\n    setDirectionOrdering(newDirectionOrder);\r\n\r\n    animateTiles(newDirectionTiles);\r\n  };\r\n\r\n  const animateTiles = useCallback((newDirectionTiles) => {\r\n    const flippedValue = 180;\r\n    const defaultValue = 0;\r\n\r\n    newDirectionTiles.forEach((directionTile) => {\r\n      if (!directionTile.curWValue && directionTile.toFlip) {\r\n        directionTile.nextWValue = flippedValue;\r\n        directionTile.flipped = true;\r\n      } else if (directionTile.curWValue && directionTile.toFlip) {\r\n        if (directionTile.curWValue === directionTile.nextWValue) {\r\n          directionTile.nextWValue = defaultValue;\r\n          directionTile.flipped = false;\r\n        }\r\n      }\r\n    }, []);\r\n\r\n    newDirectionTiles.forEach((directionTile) => {\r\n      if (directionTile.toFlip === true) {\r\n        directionTile.toFlip = false;\r\n        directionTile.curWValue = directionTile.nextWValue;\r\n      }\r\n    });\r\n\r\n    setDirectionTiles(newDirectionTiles);\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (round === 0) {\r\n      setDirectionTiles(shuffle(baseDirectionTiles));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (dice1Rolled > 0 && dice2Rolled > 0) {\r\n      let diceTotal = dice1Rolled + dice2Rolled;\r\n      var tilePosition = diceTilePositions[diceTotal];\r\n      toggle(true);\r\n      setDice1Rolled(0);\r\n      setDice2Rolled(0);\r\n      showSteps(ordering[tilePosition]);\r\n      setTimeout(() => {\r\n        setShowDice(false);\r\n      }, 500);\r\n    }\r\n  }, [dice1Rolled, dice2Rolled, ordering]);\r\n\r\n  const [state, toggle] = useState(false);\r\n\r\n  const { x, api } = useSpring({\r\n    from: { x: 0 },\r\n    x: state ? 1 : 0,\r\n    config: { duration: 1000 },\r\n    loop: true,\r\n  });\r\n\r\n  const showSteps = (i) => {\r\n    setSelectedTileIndex(i);\r\n    setTimeout(() => {\r\n      setShowForm(true);\r\n      toggle(false);\r\n    }, 700);\r\n  };\r\n\r\n  const onCloseClick = (i) => {\r\n    setShowForm(false);\r\n    setTileSizeCalculated()\r\n    shuffleTiles(selectedTileIndex);\r\n    setShowDice(false);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setShowDice(true);\r\n    refDice1.current.rollDice();\r\n    refDice2.current.rollDice();\r\n  };\r\n\r\n\r\n\r\n  const getStyle = useCallback(\r\n    (item) => {\r\n        var test = {\r\n          scale: x.to({\r\n            range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],\r\n            output: [1, 0.97, 0.9, 1.1, 0.9, 1.1, 1.03, 1],\r\n          }),\r\n        };\r\n  \r\n        return item.index === selectedTileIndex ? test : {};\r\n    },\r\n    [x, selectedTileIndex]\r\n  );\r\n\r\n  const dFaces = [\r\n    `${process.env.PUBLIC_URL}/dice/d1.png`,\r\n    `${process.env.PUBLIC_URL}/dice/d2.png`,\r\n    `${process.env.PUBLIC_URL}/dice/d3.png`,\r\n    `${process.env.PUBLIC_URL}/dice/d4.png`,\r\n    `${process.env.PUBLIC_URL}/dice/d5.png`,\r\n    `${process.env.PUBLIC_URL}/dice/d6.png`,\r\n  ];\r\n\r\n  return (\r\n    <div css={tileListContainer}>\r\n      <div css={mainImg} onClick={onCloseClick} />\r\n      <div>\r\n        {showForm && (\r\n          <QuestionForm\r\n            onCloseClick={onCloseClick}\r\n            tileName={tiles[selectedTileIndex].name}\r\n            tileSrc={tiles[selectedTileIndex].src}\r\n          />\r\n        )}\r\n      </div>\r\n      <div ref={ref} css={tileList} style={{ height: 0 }}>\r\n        {tileTransitions((style, tile) => (\r\n          <animated.img\r\n            draggable=\"false\"\r\n            key={tile.key}\r\n            onClick={() => {\r\n              showSteps(tile.index);\r\n            }}\r\n            src={`${process.env.PUBLIC_URL}/botTiles/${tile.src}.png`}\r\n            style={{...style, ...getStyle(tile)}}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div css={tileList} style={{ height: 0}}>\r\n        {directionTileTransitions((style, directionTile) => (\r\n          <animated.img\r\n            draggable=\"false\"\r\n            key={directionTile.index}\r\n            src={`${process.env.PUBLIC_URL}/botTiles/${directionTile.src}.png`}\r\n            style={style}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div css={diceButton} onClick={handleClick}>\r\n        ROLL\r\n      </div>\r\n      <div css={diceContainer}>\r\n      <animated.div\r\n        style={{\r\n          transform,\r\n        }}>\r\n        <Dice\r\n          ref={refDice1}\r\n          faces={dFaces}\r\n          size={150}\r\n          rollingTime={generateRandomInteger(500, 1500)}\r\n          onRoll={(value) => setDice1Rolled(value)}\r\n          disabled\r\n        />\r\n        <Dice\r\n          ref={refDice2}\r\n          faces={dFaces}\r\n          size={150}\r\n          rollingTime={generateRandomInteger(500, 1500)}\r\n          onRoll={(value) => setDice2Rolled(value)}\r\n          disabled\r\n        />\r\n      </animated.div>\r\n      \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { css } from \"@emotion/react\";\r\n\r\nexport const setupContainer = css`\r\n  color: #eeeddb;\r\n`;\r\nexport const startTileContainer = css``;\r\n\r\nexport const tileContainer = css`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const startTile = css`\r\n  width: 100px;\r\n  position: absolute;\r\n  cursor: pointer;\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    width: 75px;\r\n  }\r\n`;\r\n\r\nexport const resourceContainer = css``;\r\n\r\nexport const resource = css`\r\n  display: flex;\r\n  height: 50px;\r\n  position: absolute;\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    height: 50px;\r\n  }\r\n`;\r\n\r\nexport const startResource = css`\r\n  display: flex;\r\n  height: 50px;\r\n  position: absolute;\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    height: 50px;\r\n  }\r\n`;\r\n\r\nexport const techTile = css`\r\n  width: 150px;\r\n  position: absolute;\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    width: 100px;\r\n  }\r\n`;\r\n\r\nexport const templeTile = css`\r\n  width: 180px;\r\n  position: absolute;\r\n`;\r\n\r\nexport const priestPriestessTile = css`\r\n  width: 580px;\r\n  position: absolute;\r\n`;\r\n\r\nexport const action = css`\r\n  width: 35px;\r\n`;\r\n\r\nexport const actionText = css`\r\n  display: block;\r\n`;\r\n\r\nexport const diceFace = css`\r\n  width: 58px;\r\n`;\r\n\r\nexport const neutralContainer = css`\r\n  display: flex;\r\n`;\r\n\r\nexport const diceContainer = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;","/** @jsx jsx */\r\nimport { useCallback, useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useSpring, useTransition, a } from \"@react-spring/web\";\r\nimport { startTileContainer, startTile } from \"./Setup.css\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { shuffle, find } from \"lodash\";\r\nimport { baseStartTiles, xitleStartTiles } from \"../Constants\";\r\n\r\nexport const StartTiles = (props) => {\r\n  const tileHeight = 400;\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\", \"(max-width: 480px)\"],\r\n    [8, 8, 8, 4],\r\n    8\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  const startTiles = props.isXitle\r\n    ? [...baseStartTiles, ...xitleStartTiles]\r\n    : baseStartTiles;\r\n\r\n  // Hook3: Hold items\r\n  const [items, set] = useState(startTiles);\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    const t = setInterval(() => {\r\n      if (items.length >= 5) {\r\n        items.pop();\r\n        set(shuffle);\r\n      }\r\n    }, 50);\r\n    return () => clearInterval(t);\r\n  }, [items]);\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n\r\n      return {\r\n        ...child,\r\n        x,\r\n        y,\r\n      };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x }) => ({ x, opacity: 0 }),\r\n    enter: ({ x }) => ({ x, opacity: 1 }),\r\n    update: ({ x }) => ({ x }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { duration: 500, mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  const [state, toggle] = useState(true);\r\n\r\n  const { x, api } = useSpring({\r\n    from: { x: 0 },\r\n    x: state ? 1 : 0,\r\n    config: { duration: 1000 },\r\n    loop: true,\r\n  });\r\n\r\n  const getStyle = useCallback(\r\n    (item) => {\r\n      var itemList = find(items, [\"name\", item.name]);\r\n      var test = {\r\n        scale: x.to({\r\n          range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],\r\n          output: [1, 0.97, 0.9, 1.1, 0.9, 1.1, 1.03, 1],\r\n        }),\r\n      };\r\n\r\n      return itemList?.selected ? test : {};\r\n    },\r\n    [x, items]\r\n  );\r\n\r\n  const onClick = (item) => {\r\n    var listItem = find(items, [\"name\", item.name]);\r\n    props.selectedStartTiles(listItem);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      css={startTileContainer}\r\n      style={{ height: tileHeight }}\r\n    >\r\n      {transitions((style, item) => (\r\n        <a.div css={startTile} style={style}>\r\n          <a.img\r\n            css={startTile}\r\n            style={getStyle(item)}\r\n            onClick={() => {\r\n              onClick(item);\r\n            }}\r\n            src={`${process.env.PUBLIC_URL}/start_tiles/${item.src}/${item.name}.jpg`}\r\n            data-tip={item.tooltip}\r\n          />\r\n        </a.div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { tileContainer, techTile } from \"./Setup.css\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {shuffle} from \"lodash\";\r\nimport { baseTechTiles, xitleTechTiles } from \"../Constants\";\r\n\r\nexport const TechTiles = (props) => {\r\n  const tileHeight = 150;\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\"],\r\n    [12, 12, 3],\r\n    3\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n  // Hook3: Hold items\r\n  const templeTiles  = props.isXitle ? [...baseTechTiles, ...xitleTechTiles] : baseTechTiles;\r\n  const [items, set] = useState(templeTiles);\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    const t = setInterval(() => {\r\n      if (items.length >= 7) {\r\n        items.pop();\r\n        set(shuffle);\r\n      }\r\n    }, 100);\r\n    return () => clearInterval(t);\r\n  }, [items]);\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n      return { ...child, x, y };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x, y,}) => ({ x, y, opacity: 0 }),\r\n    enter: ({ x, y, }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y, }) => ({ x, y, }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  return (\r\n    <div ref={ref} css={tileContainer} style={{ height: Math.max(...heights) }}>\r\n      {transitions((style, item) => (\r\n        <a.img\r\n          css={techTile}\r\n          style={style}\r\n          src={`${process.env.PUBLIC_URL}/tech_tiles/${item.src}/${item.name}.jpg`}\r\n          data-tip={item.tooltip}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { tileContainer, templeTile } from \"../Setup/Setup.css\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {shuffle} from \"lodash\";\r\nimport { baseTempleTiles } from \"../Constants\";\r\n\r\nexport const TempleTiles = (props) => {\r\n  const tileHeight = 300;\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\"],\r\n    [5, 5, 5],\r\n    3\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  // Hook3: Hold items\r\n  const templeTiles  = baseTempleTiles;\r\n  const [items, set] = useState(templeTiles);\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    const t = setInterval(() => {\r\n      if (items.length >= 4) {\r\n        items.pop();\r\n        set(shuffle);\r\n      }\r\n    }, 100);\r\n    return () => clearInterval(t);\r\n  }, [items]);\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n      return { ...child, x, y};\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x, y }) => ({ x, y, opacity: 0 }),\r\n    enter: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y }) => ({ x, y }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      css={tileContainer}\r\n      style={{ height: Math.max(...heights) }}\r\n    >\r\n      {transitions((style, item) => (\r\n        <a.img\r\n          css={templeTile}\r\n          style={style}\r\n          src={\r\n            `${process.env.PUBLIC_URL}/temple_tiles/base/${item.name}.jpg`\r\n          }\r\n          data-tip={item.tooltip}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { diceFace, neutralContainer, action, actionText, diceContainer } from \"./Setup.css\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport useMedia from \"../UseMedia\";\r\n\r\nexport const DicePlacement = (props) => {\r\n  const tileHeight = 200;\r\n\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\", \"(min-width: 480px)\"],\r\n    [6, 6, 6, 18],\r\n    6\r\n  );\r\n\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  // Hook3: Hold items\r\n  const [items, set] = useState(props.dicePlacements);\r\n\r\n  useEffect(() => {\r\n    set(props.dicePlacements);\r\n  }, [props.dicePlacements]);\r\n\r\n  const [gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n\r\n      return {\r\n        ...child,\r\n        x,\r\n        y,\r\n      };\r\n    });\r\n    return [gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x }) => ({ x: 0, opacity: 0 }),\r\n    enter: ({ x }) => ({ x, opacity: 1 }),\r\n    update: ({ x, y }) => ({ x, y }),\r\n    leave: { x: 0, opacity: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      css={neutralContainer}\r\n      style={{  }}\r\n    >\r\n      {transitions((style, item) => (\r\n        <a.div css={diceContainer} key={item.name} style={style}>\r\n          <div>\r\n            <a.img\r\n              css={diceFace}\r\n              src={`${process.env.PUBLIC_URL}/dice/${item.diceFace.name}.png`}\r\n            />\r\n            <a.img\r\n              css={action}\r\n              src={`${process.env.PUBLIC_URL}/actions/no${item.number}.png`}\r\n            />\r\n            </div>\r\n          <span style={{color: item.color}} css={actionText}>{item.actionName}</span>\r\n        </a.div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { resourceContainer, startResource, resource } from \"./Setup.css\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport useMedia from \"../UseMedia\";\r\nimport {orderBy}  from \"lodash\";\r\n\r\nexport const StartingResources = (props) => {\r\n  const columns = useMedia(\r\n    [\r\n      \"(min-width: 1500px)\",\r\n      \"(min-width: 1000px)\",\r\n      \"(min-width: 600px)\",\r\n      \"(min-width: 480px)\",\r\n    ],\r\n    [20, 20, 20, 20],\r\n    10\r\n  );\r\n\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  const [startingResources, setStartingResources] = useState(\r\n    props.dicePlacements\r\n  );\r\n\r\n  useEffect(() => {\r\n    setStartingResources(props.startingResources);\r\n  }, []);\r\n\r\n  const [heights, resources] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let resources = orderBy(startingResources, [\"quantity\", \"type\"], [\"desc\", \"desc\"]).map(\r\n      (child, i) => {\r\n        const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n        const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n        const y = (heights[column] += 150 / 2) - 150 / 2; // y = it's just the height of the current column\r\n        return {\r\n          ...child,\r\n          y,\r\n          x,\r\n        };\r\n      }\r\n    );\r\n    return [heights, resources];\r\n  }, [width, columns, startingResources]);\r\n\r\n  const resourceTransitions = useTransition(resources, {\r\n    key: (item) => item.name,\r\n    from: ({ x }) => ({ x, y: -1000, opacity: 0 }),\r\n    enter: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x }) => ({ x }),\r\n    config: { mass: 5, tension: 500, friction: 50 },\r\n    trail: 100,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      css={resourceContainer}\r\n      style={{ height: Math.max(...heights) }}\r\n    >\r\n      {resourceTransitions((props, item) => {\r\n        return (\r\n          <a.div\r\n            css={resource}\r\n            key={item.name}\r\n            style={{\r\n              ...props,\r\n            }}\r\n            className=\"box\"\r\n          >\r\n            <div css={startResource}>\r\n              <div>{item.quantity}</div>\r\n              <a.img\r\n                src={`${process.env.PUBLIC_URL}/resources/${item.type}.png`}\r\n              />\r\n            </div>\r\n          </a.div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport useMedia from \"../UseMedia\";\r\nimport useMeasure from \"react-use-measure\";\r\nimport { useTransition, a } from \"@react-spring/web\";\r\nimport { tileContainer, priestPriestessTile } from \"../Setup/Setup.css\";\r\nimport { shuffle } from \"lodash\";\r\nimport { basePriestPriestessTiles, baseTeotiPriestPriestessTiles } from \"../Constants\";\r\n\r\nexport const PriestPriestessTiles = (props) => {\r\n  const tileHeight = 800;\r\n  // Hook1: Tie media queries to the number of columns\r\n  const columns = useMedia(\r\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\", \"(min-width: 400px)\"],\r\n    [4, 4, 1, 1],\r\n    4\r\n  );\r\n  // Hook2: Measure the width of the container element\r\n  const [ref, { width }] = useMeasure();\r\n\r\n  // Hook3: Hold items\r\n  const priestPriestessTiles = props.isTeotibot ? baseTeotiPriestPriestessTiles : basePriestPriestessTiles;\r\n\r\n  const [items, set] = useState(priestPriestessTiles);\r\n\r\n  // Hook4: shuffle data every 2 seconds\r\n  useEffect(() => {\r\n    const t = setInterval(() => {\r\n      if (items.length > props.numberToPick) {\r\n        items.pop();\r\n        set(shuffle);\r\n      }\r\n    }, 100);\r\n    return () => clearInterval(t);\r\n  }, [items, props.numberToPick]);\r\n\r\n  // Hook5: Form a grid of stacked items using width & columns we got from hooks 1 & 2\r\n  const [heights, gridItems] = useMemo(() => {\r\n    let heights = new Array(columns).fill(0); // Each column gets a height starting with zero\r\n    let gridItems = items?.map((child, i) => {\r\n      const column = heights.indexOf(Math.min(...heights)); // Basic masonry-grid placing, puts tile into the smallest column using Math.min\r\n      const x = (width / columns) * column; // x = container width / number of columns * column index,\r\n      const y = (heights[column] += tileHeight / 2) - tileHeight / 2; // y = it's just the height of the current column\r\n      return { ...child, x, y };\r\n    });\r\n    return [heights, gridItems];\r\n  }, [columns, items, width]);\r\n\r\n  // Hook6: Turn the static grid values into animated transitions, any addition, removal or change will be animated\r\n  const transitions = useTransition(gridItems, {\r\n    key: (item) => item.name,\r\n    from: ({ x, y }) => ({ x, y, opacity: 0 }),\r\n    enter: ({ x, y }) => ({ x, y, opacity: 1 }),\r\n    update: ({ x, y }) => ({ x, y }),\r\n    leave: { height: 0, opacity: 0 },\r\n    config: { mass: 5, tension: 500, friction: 50 },\r\n    trail: 25,\r\n  });\r\n\r\n  return (\r\n    <div ref={ref} css={tileContainer} style={{ height: Math.max(...heights) }}>\r\n      {transitions((style, item) => (\r\n        <a.img\r\n          css={priestPriestessTile}\r\n          style={style}\r\n          src={`${process.env.PUBLIC_URL}/priest_priestess_tiles/base/${item.name}.jpg`}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { StartTiles } from \"./StartTiles\";\r\nimport { TechTiles } from \"./TechTiles\";\r\nimport { TempleTiles } from \"./TempleTiles\";\r\nimport { setupContainer } from \"./Setup.css\";\r\nimport { DicePlacement } from \"./DicePlacement\";\r\nimport {\r\n  actionNames,\r\n  baseStartTiles,\r\n  diceFaces,\r\n  getRandom,\r\n} from \"../Constants\";\r\nimport { find, remove, union, cloneDeep, shuffle } from \"lodash\";\r\nimport { StartingResources } from \"./StartingResources\";\r\nimport { PriestPriestessTiles } from \"./PriestPriestessTiles\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nexport const Setup = (props) => {\r\n  const [selectedStartTiles, setSelectedStartTiles] = useState([]);\r\n  const [selectedResources, setSelectedResources] = useState([]);\r\n  const [remainingStartTiles, setRemainingStartTiles] = useState([]);\r\n  const [playerPlacements, setPlayerPlacements] = useState([]);\r\n  const [teotibotPlacements, setTeotibotPlacements] = useState([]);\r\n  const [neutralPlacements1, setNeutralPlacements1] = useState([]);\r\n  const [neutralPlacements2, setNeutralPlacements2] = useState([]);\r\n  const [showStartingResources, setShowStartingResources] = useState(false);\r\n  const [showPlayerPlacements, setShowPlayerPlacements] = useState(false);\r\n  const [showTechs, setShowTechs] = useState(false);\r\n  const [showTemples, setShowTemples] = useState(false);\r\n  const [showStartTiles, setShowStartTiles] = useState(false);\r\n  const [showPriestPriestessTiles, setShowPriestPriestessTiles] =\r\n    useState(false);\r\n  const [showTeotibotDice, setShowTeotibotDice] = useState(false);\r\n  const [showNeutralPlayer1, setShowNeutralPlayer1] = useState(false);\r\n  const [showNeutralPlayer2, setShowNeutralPlayer2] = useState(false);\r\n\r\n  const noNeutralDice = 3;\r\n\r\n  function getRandomArrayIndex(arr) {\r\n    return Math.floor(Math.random() * (arr.length - 1)) + 1;\r\n  }\r\n\r\n  function getActionItem(item) {\r\n    return find(actionNames, [\"value\", item]);\r\n  }\r\n\r\n  const getNeutralPlacement = useCallback((shuffledTiles) => {\r\n    //Draw 2 random start tiles\r\n    let index = getRandomArrayIndex(shuffledTiles);\r\n    let numbers1 = shuffledTiles[index].numbers;\r\n\r\n    shuffledTiles.splice(index, 1);\r\n\r\n    index = getRandomArrayIndex(shuffledTiles);\r\n    let numbers2 = shuffledTiles[index].numbers;\r\n\r\n    shuffledTiles.splice(index, 1);\r\n\r\n    let mergedActions = union(numbers1, numbers2);\r\n\r\n    //Get the 3 dice values\r\n    let dice = getRandom(diceFaces, noNeutralDice);\r\n\r\n    return [\r\n      {\r\n        diceFace: dice[0],\r\n        number: [mergedActions[0]],\r\n        actionName: getActionItem(mergedActions[0]).name,\r\n        color: getActionItem(mergedActions[0]).color,\r\n      },\r\n      {\r\n        diceFace: dice[1],\r\n        number: [mergedActions[1]],\r\n        actionName: getActionItem(mergedActions[1]).name,\r\n        color: getActionItem(mergedActions[1]).color,\r\n      },\r\n      {\r\n        diceFace: dice[2],\r\n        number: [mergedActions[2]],\r\n        actionName: getActionItem(mergedActions[2]).name,\r\n        color: getActionItem(mergedActions[2]).color,\r\n      },\r\n    ];\r\n  }, []);\r\n\r\n  const getPlayerPlacements = useCallback((selectedStartTiles) => {\r\n    let actions = [];\r\n\r\n    selectedStartTiles.forEach((selectedStartTile) => {\r\n      actions = union([...actions, ...selectedStartTile.numbers]);\r\n    });\r\n\r\n    return [\r\n      {\r\n        diceFace: diceFaces[0],\r\n        number: [actions[0]],\r\n        actionName: getActionItem(1).name,\r\n        color: getActionItem(1).color,\r\n      },\r\n      {\r\n        diceFace: diceFaces[0],\r\n        number: [actions[1]],\r\n        actionName: getActionItem(2).name,\r\n        color: getActionItem(2).color,\r\n      },\r\n      {\r\n        diceFace: diceFaces[0],\r\n        number: [actions[2]],\r\n        actionName: getActionItem(3).name,\r\n        color: getActionItem(3).color,\r\n      },\r\n    ];\r\n  }, []);\r\n\r\n  const calcDicePlacements = useCallback(() => {\r\n    let shuffledTiles = shuffle(remainingStartTiles);\r\n    setPlayerPlacements(getPlayerPlacements(selectedStartTiles));\r\n    setTeotibotPlacements(getNeutralPlacement(shuffledTiles));\r\n    setNeutralPlacements1(getNeutralPlacement(shuffledTiles));\r\n    setNeutralPlacements2(getNeutralPlacement(shuffledTiles));\r\n  }, [\r\n    selectedStartTiles,\r\n    getPlayerPlacements,\r\n    getNeutralPlacement,\r\n    remainingStartTiles,\r\n  ]);\r\n\r\n  function addResourceQuantities(arr, item) {\r\n    const found = arr.some((el) => el.type === item.type);\r\n    let index = arr.findIndex((el) => el.type === item.type);\r\n\r\n    if (index >= 0) {\r\n      arr[index].quantity += item.quantity;\r\n    }\r\n\r\n    if (!found) {\r\n      arr.push(item);\r\n    }\r\n\r\n    return arr;\r\n  }\r\n\r\n  const getResources = useCallback((selectedStartTiles) => {\r\n    let result = [];\r\n\r\n    selectedStartTiles.forEach((selectedStartTile) => {\r\n      let arr = cloneDeep(selectedStartTile.resources);\r\n      arr.forEach((resource) => {\r\n        addResourceQuantities(result, resource);\r\n      });\r\n    });\r\n\r\n    return result;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedStartTiles.length >= 2) {\r\n      setRemainingStartTiles(\r\n        baseStartTiles.filter((el) => {\r\n          return (\r\n            el.name !== selectedStartTiles[0].name &&\r\n            el.name !== selectedStartTiles[1].name\r\n          );\r\n        })\r\n      );\r\n      setSelectedResources(getResources(selectedStartTiles));\r\n      setShowPlayerPlacements(true);\r\n      setShowTeotibotDice(true);\r\n      setShowNeutralPlayer1(true);\r\n      setShowNeutralPlayer2(true);\r\n      setShowStartingResources(true);\r\n      setShowPriestPriestessTiles(true);\r\n    } else {\r\n      setShowPlayerPlacements(false);\r\n      setShowTeotibotDice(false);\r\n      setShowNeutralPlayer1(false);\r\n      setShowNeutralPlayer2(false);\r\n      setShowStartingResources(false);\r\n      setShowPriestPriestessTiles(false);\r\n      setNeutralPlacements1([]);\r\n      setNeutralPlacements2([]);\r\n      setTeotibotPlacements([]);\r\n      setSelectedResources([]);\r\n    }\r\n  }, [getResources, selectedStartTiles]);\r\n\r\n  useEffect(() => {\r\n    const t = setInterval(() => {\r\n      setShowTechs(true);\r\n    }, 0);\r\n    const u = setInterval(() => {\r\n      setShowTemples(true);\r\n    }, 1000);\r\n    const v = setInterval(() => {\r\n      setShowStartTiles(true);\r\n    }, 2000);\r\n\r\n    if (remainingStartTiles.length > 0) {\r\n      calcDicePlacements();\r\n    }\r\n    return () => {\r\n      clearInterval(t);\r\n      clearInterval(u);\r\n      clearInterval(v);\r\n    };\r\n  }, [calcDicePlacements, remainingStartTiles]);\r\n\r\n  const selectedTile = (startTile) => {\r\n    if (startTile) {\r\n      let newTitle = startTile;\r\n      var newHistory = [...selectedStartTiles];\r\n      var listItem = find(newHistory, [\"name\", startTile.name]);\r\n\r\n      //add\r\n      if (listItem == null) {\r\n        if (newHistory.length < 2) {\r\n          newTitle.selected = !startTile.selected;\r\n          newHistory = [...selectedStartTiles, newTitle];\r\n        } else {\r\n          return;\r\n        }\r\n      } else {\r\n        //update\r\n        listItem.selected = !listItem.selected;\r\n        if (listItem.selected === false) {\r\n          remove(newHistory, (item) => {\r\n            return item.name === listItem.name;\r\n          });\r\n        }\r\n      }\r\n\r\n      setSelectedStartTiles(newHistory);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div css={setupContainer}>\r\n      {showTechs && (\r\n        <div>\r\n          <ReactTooltip multiline={true} clickable={false} />\r\n          <h4>Upgrade tiles</h4>\r\n          <TechTiles isXitle={props.isXitle} />\r\n        </div>\r\n      )}\r\n      {showTemples && (\r\n        <div>\r\n          <ReactTooltip multiline={true} />\r\n          <h4>Temple tiles</h4>\r\n          <TempleTiles isXitle={props.isXitle} />\r\n        </div>\r\n      )}\r\n      {showStartTiles && (\r\n        <div>\r\n          <ReactTooltip multiline={true} />\r\n          <h4>Select 2 Start Tiles:</h4>\r\n          <StartTiles\r\n            isXitle={props.isXitle}\r\n            selectedStartTiles={selectedTile}\r\n          />\r\n        </div>\r\n      )}\r\n      {showStartingResources && (\r\n        <div>\r\n          <h4>Starting resources:</h4>\r\n          <StartingResources startingResources={selectedResources} />\r\n        </div>\r\n      )}\r\n      {showPriestPriestessTiles && props.isPriestAndPriestess && (\r\n        <div>\r\n          <h4>Priest/Priestess tiles (choose 1)</h4>\r\n          <PriestPriestessTiles numberToPick={2} />\r\n        </div>\r\n      )}\r\n      {showPlayerPlacements && (\r\n        <div>\r\n          <span>Player placements:</span>\r\n          <DicePlacement dicePlacements={playerPlacements} />\r\n        </div>\r\n      )}\r\n      {showPriestPriestessTiles && props.isPriestAndPriestess && (\r\n        <div>\r\n          <h4>Teotibot Priest/Priestess tile:</h4>\r\n          <PriestPriestessTiles numberToPick={1} isTeotibot={true} />\r\n        </div>\r\n      )}\r\n      {showTeotibotDice && (\r\n        <div>\r\n          <h4>Teotibot placement</h4>\r\n          <DicePlacement dicePlacements={teotibotPlacements} />\r\n        </div>\r\n      )}\r\n      {showNeutralPlayer1 && (\r\n        <div>\r\n          <h4>Neutral player 1</h4>\r\n          <DicePlacement dicePlacements={neutralPlacements1} />\r\n        </div>\r\n      )}\r\n      {showNeutralPlayer2 && (\r\n        <div>\r\n          <h4>Neutral player 2</h4>\r\n          <DicePlacement dicePlacements={neutralPlacements2} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nexport class Checkbox extends React.Component {\r\n  render() {\r\n    return (\r\n      <label className={`checkbox-item`}>\r\n        <input\r\n          name={this.props.label}\r\n          type=\"checkbox\"\r\n          checked={this.props.checked}\r\n          onChange={this.props.onChange}\r\n        />\r\n        <span>{this.props.label}</span>\r\n      </label>\r\n    );\r\n  }\r\n}\r\n","/** @jsx jsx */\r\nimport React from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { options } from \"./AppContainer.css\";\r\nimport {\r\n  activeText,\r\n  expansionContainer,\r\n  expansion,\r\n  expansionOptions,\r\n  shadowOfXitle,\r\n} from \"./Tiles/TileList.css\";\r\nimport { Checkbox } from \"./Checkbox\";\r\n\r\nexport const Options = (props) => {\r\n  return (\r\n    <div css={options}>\r\n      <div css={activeText} onClick={props.back}>\r\n        back\r\n      </div>\r\n        <h2>Expansions</h2>\r\n        <div css={expansionContainer}>\r\n          <div css={expansion}>\r\n            <img src={`${process.env.PUBLIC_URL}/backgrounds/late-preclassic.jpg`} alt=\"late-preclassic\" />\r\n          </div>\r\n          <div css={expansionOptions}>\r\n            <div className={\"checkbox-container\"}>\r\n              <Checkbox\r\n                label=\"Priests and Priestesses\"\r\n                checked={props.isPriestAndPriestess}\r\n                onChange={props.onChangeIsPriestAndPriestess}\r\n              />\r\n            </div>\r\n            <div className={\"checkbox-container\"}>\r\n              <Checkbox\r\n                label=\"Height of Development\"\r\n                checked={props.isHeightOfDevelopment}\r\n                onChange={props.onChangeIsHeightOfDevelopment}\r\n              />\r\n            </div>\r\n            <div className={\"checkbox-container\"}>\r\n              <Checkbox\r\n                label=\"Seasons of Progress\"\r\n                checked={props.isSeasonsOfProgress}\r\n                onChange={props.onChangeIsSeasonsOfProgress}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={expansionContainer}>\r\n          <div css={expansion}>\r\n          <img src={`${process.env.PUBLIC_URL}/backgrounds/xitle.jpg`} alt=\"Shadow of Xitle\" />\r\n          </div>\r\n          <div css={expansionOptions}>\r\n            <div className={\"checkbox-container\"}>\r\n              <Checkbox\r\n                label=\"Shadow of Xitle\"\r\n                checked={props.isXitle}\r\n                onChange={props.onChangeXitle}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div css={expansionContainer}>\r\n          <div css={expansion}>\r\n          <img src={`${process.env.PUBLIC_URL}/backgrounds/period.jpg`} alt=\"Expansion Period\" />\r\n          </div>\r\n          <div css={expansionOptions}>\r\n            <div className={\"checkbox-container\"}>\r\n              <Checkbox\r\n                label=\"Expansion Period\"\r\n                checked={props.isXitle}\r\n                onChange={props.onChangeXitle}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React from \"react\";\r\nimport { jsx } from \"@emotion/react\";\r\nimport { TileList } from \"./Tiles/TileList\";\r\nimport { Setup } from \"./Setup/Setup\";\r\nimport {\r\n  appContainer,\r\n  mainImg,\r\n  start,\r\n} from \"./AppContainer.css\";\r\nimport {\r\n  baseBotTiles,\r\n  initialOrdering,\r\n  baseStartTiles,\r\n  StartScreen,\r\n  SetupScreen,\r\n  AppScreen,\r\n  OptionsScreen,\r\n  diceFaces,\r\n} from \"./Constants\";\r\nimport { Options } from \"./Options\";\r\n\r\nexport class AppContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      screenMode: StartScreen,\r\n      lastScreen: StartScreen,\r\n      isOptions: false,\r\n      playerCount: 5,\r\n      cycleCount: 0,\r\n      lastPlayerIndex: 4,\r\n      isXitle: false,\r\n      isPriestAndPriestess: false,\r\n      isHeightOfDevelopment: false,\r\n      isSeasonsOfProgress: false,\r\n      shuffleHistory: [\r\n        {\r\n          cycle: 0,\r\n          order: initialOrdering,\r\n          wasShuffled: true,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    //Preloading images\r\n    baseBotTiles.forEach((tile) => {\r\n      const img = new Image();\r\n      img.src = `${process.env.PUBLIC_URL}/botTiles/${tile.src}.png`;\r\n    });\r\n\r\n    baseStartTiles.forEach((tile) => {\r\n      const img = new Image();\r\n      img.src = `${process.env.PUBLIC_URL}/start_tiles/base/${tile.name}.jpg`;\r\n    });\r\n\r\n    const img1 = new Image();\r\n    img1.src = `${process.env.PUBLIC_URL}/backgrounds/forms.jpg`;\r\n\r\n    const img2 = new Image();\r\n    img2.src = `${process.env.PUBLIC_URL}/backgrounds/late-preclassic.jpg`;\r\n\r\n    const img3 = new Image();\r\n    img3.src = `${process.env.PUBLIC_URL}/backgrounds/xitle.jpg`;\r\n\r\n    diceFaces.forEach((dface) => {\r\n      const img = new Image();\r\n      img.src = `${process.env.PUBLIC_URL}/dice/${dface}.png`;\r\n    });\r\n  }\r\n\r\n  incrementCycleCount = () => {\r\n    this.setState({\r\n      cycleCount: this.state.cycleCount + 1,\r\n    });\r\n  };\r\n\r\n  setOrdering = (newOrder) => {\r\n    this.setState({\r\n      ordering: newOrder,\r\n    });\r\n  };\r\n\r\n  setDirectionOrdering = (newOrder) => {\r\n    this.setState({\r\n      directionOrdering: newOrder,\r\n    });\r\n  };\r\n  \r\n  setPlayerCount = (playerCount) => {\r\n    var lastPlayerIndex = playerCount - 1;\r\n    var tilesToUse = baseBotTiles;\r\n\r\n    this.setState({\r\n      playerCount,\r\n      lastPlayerIndex,\r\n      tiles: [],\r\n    });\r\n\r\n    //hack to get highlighting working\r\n    setTimeout(() => {\r\n      this.setState({\r\n        tiles: tilesToUse,\r\n      });\r\n    });\r\n  };\r\n\r\n  setIsXitle = (isXitle) => {\r\n    this.setState({\r\n      isXitle,\r\n    });\r\n  };\r\n\r\n  onChangeXitle = (e) => {\r\n    this.setIsXitle(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsPriestAndPriestess = (isPriestAndPriestess) => {\r\n    this.setState({\r\n      isPriestAndPriestess,\r\n    });\r\n  };\r\n\r\n  onChangeIsPriestAndPriestess = (e) => {\r\n    this.setIsPriestAndPriestess(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsSeasonsOfProgress = (isSeasonsOfProgress) => {\r\n    this.setState({\r\n      isSeasonsOfProgress,\r\n    });\r\n  };\r\n\r\n  onChangeIsSeasonsOfProgress = (e) => {\r\n    this.setIsSeasonsOfProgress(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  setIsHeightOfDevelopment = (isHeightOfDevelopment) => {\r\n    this.setState({\r\n      isHeightOfDevelopment,\r\n    });\r\n  };\r\n\r\n  onChangeIsHeightOfDevelopment = (e) => {\r\n    this.setIsHeightOfDevelopment(\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value\r\n    );\r\n  };\r\n\r\n  addToShuffleHistory = (newValue) => {\r\n    var newHistory = [...this.state.shuffleHistory, newValue];\r\n    this.setState({\r\n      shuffleHistory: newHistory,\r\n    });\r\n  };\r\n\r\n  start = () => {\r\n    this.setState({\r\n      screenMode: 2,\r\n      hadesTotal: 0,\r\n      hadesActive: false,\r\n      cycleCount: 0,\r\n    });\r\n  };\r\n\r\n  back = () => {\r\n    this.setState({\r\n      screenMode: this.state.lastScreen,\r\n    });\r\n  };\r\n\r\n  options = (lastScreen) => {\r\n    this.setState({\r\n      lastScreen,\r\n      screenMode: OptionsScreen,\r\n    });\r\n  };\r\n\r\n  app = () => {\r\n    this.setState({\r\n      screenMode: AppScreen\r\n    })\r\n  }\r\n  renderApp = () => {\r\n    if (this.state.screenMode === StartScreen) {\r\n      return (\r\n        <ul css={start}>\r\n          <div css={mainImg} />\r\n          <li onClick={this.start}>Start</li>\r\n          <li onClick={() => this.options(StartScreen)}>Options</li>\r\n        </ul>\r\n      );\r\n    } else if (this.state.screenMode === SetupScreen) {\r\n      return (\r\n        <div>\r\n          <img\r\n            css={{}}\r\n            onClick={() => this.options(SetupScreen)}\r\n            src=\"./resources/settings.png\"\r\n            alt=\"Settings\"\r\n          />\r\n          <span onClick={() => this.app()}>Continue</span>\r\n          <Setup isXitle={this.state.isXitle} isPriestAndPriestess={this.state.isPriestAndPriestess} />\r\n        </div>\r\n      );\r\n    } else if (this.state.screenMode === AppScreen) {\r\n      return (\r\n        <TileList\r\n          addToHistory={this.addToShuffleHistory}\r\n          incrementCycle={this.incrementCycleCount}\r\n          back={this.back}\r\n          isXitle={this.setState.isXitle}\r\n          lastPlayerIndex={this.state.lastPlayerIndex}\r\n          cycleCount={this.state.cycleCount}\r\n          shuffleHistory={this.state.shuffleHistory}\r\n          playerCount={this.state.playerCount}\r\n          defaultFavorTiles={this.state.defaultFavorTiles}\r\n          dice1={this.state.dice1}\r\n          dice2={this.state.dice2}\r\n        />\r\n      );\r\n    } else if (this.state.screenMode === OptionsScreen) {\r\n      return (\r\n        <Options\r\n          isXitle={this.state.isXitle}\r\n          onChangeXitle={this.onChangeXitle}\r\n          isPriestAndPriestess={this.state.isPriestAndPriestess}\r\n          onChangeIsPriestAndPriestess={this.onChangeIsPriestAndPriestess}\r\n          isSeasonsOfProgress={this.state.isSeasonsOfProgress}\r\n          onChangeIsSeasonsOfProgress={this.onChangeIsSeasonsOfProgress}\r\n          isHeightOfDevelopment={this.state.isHeightOfDevelopment}\r\n          onChangeIsHeightOfDevelopment={this.onChangeIsHeightOfDevelopment}\r\n          back={this.back}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div css={appContainer}>{this.renderApp()}</div>;\r\n  }\r\n}\r\n","import { css } from '@emotion/react'\r\n\r\nexport const appHeader = css`\r\n  //min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: calc(10px + 2vmin);\r\n  color: white;\r\n`;","/** @jsx jsx */\r\nimport React from \"react\";\r\nimport { jsx } from '@emotion/react';\r\nimport { AppContainer } from \"./Components/AppContainer\";\r\nimport { appHeader } from \"./App.css.js\"\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header css={appHeader}>\r\n        <AppContainer />\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}